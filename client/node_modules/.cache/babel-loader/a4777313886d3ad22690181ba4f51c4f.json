{"ast":null,"code":"import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{Text,Billboard}from'@react-three/drei';import React,{useRef,useState,useEffect}from\"react\";import{createId}from'../../functions';// Creates a button that 'clicks'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var seedTextColours={type:\"#293241\",outline:\"#b1b5c8\"};var selectedSeedTextColours={type:\"#b1b5c8\",outline:\"#293241\"};var fontSize=0.12;var fontZ=1;var fontY=2;function SeedCloud(props){var mesh=useRef();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:1,children:seedSelectors(props)}))});}function seedSelectors(props){var seedSelectors=[];var fontX=0;var sortedSeeds=props.seeds.sort();for(var index=0;index<sortedSeeds.length;index++){var seed=sortedSeeds[index];if(seed.quantity===0){continue;}var x=0.5+Math.sin(Math.PI*index/sortedSeeds.length);var y=2+Math.cos(Math.PI*index/(sortedSeeds.length*1.9));var colours={};seed.type===props.chosenSeed?colours=selectedSeedTextColours:colours=seedTextColours;seedSelectors.push(/*#__PURE__*/_jsx(SeedText,{position:[x,y,0],selectSeed:props.selectSeed,toggleSeeds:props.toggleSeeds,seed:seed,colours:colours,index:index},createId()));}if(seedSelectors.length===0){seedSelectors.push(/*#__PURE__*/_jsx(NoSeedText,{colours:seedTextColours,index:1},createId()));}return seedSelectors;}function SeedText(props){var seed=props.seed;var mesh=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var handleClick=function handleClick(event){event.stopPropagation();console.log(\"Clicked on SeedCloud!\");console.log(seed.type);console.log(props.index);props.selectSeed(seed.type,props.index);};return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsxs(Text,{fontSize:fontSize,onClick:function onClick(event){return handleClick(event);},outlineWidth:fontSize,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:[seed.type,\" \",'\\n',\"x \",seed.quantity]})})}));}function NoSeedText(props){var mesh=useRef();return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(Text,{fontSize:0.25,position:[1,3,1],outlineWidth:0.25,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:\"No seeds available\"})})}));}export default SeedCloud;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Cloud/SeedCloud.jsx"],"names":["Text","Billboard","React","useRef","useState","useEffect","createId","seedTextColours","type","outline","selectedSeedTextColours","fontSize","fontZ","fontY","SeedCloud","props","mesh","seedSelectors","fontX","sortedSeeds","seeds","sort","index","length","seed","quantity","x","Math","sin","PI","y","cos","colours","chosenSeed","push","selectSeed","toggleSeeds","SeedText","selected","setSelected","handleClick","event","stopPropagation","console","log","NoSeedText"],"mappings":"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","sourcesContent":["import { Text, Billboard } from '@react-three/drei'\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { createId } from '../../functions'\n\n// Creates a button that 'clicks'\n\nconst seedTextColours = {type: \"#293241\", outline: \"#b1b5c8\"}\nconst selectedSeedTextColours = {type: \"#b1b5c8\", outline: \"#293241\"}\nconst fontSize = 0.12\nconst fontZ = 1\nconst fontY = 2\n\nfunction SeedCloud(props) {\n\n  const mesh = useRef()\n\n\n\n  return (\n  <>\n  <mesh\n    {...props}\n    ref={mesh}\n    scale={1}\n    >\n\n   {seedSelectors(props)}\n  </mesh>\n  </>\n\n)\n}\n\nfunction seedSelectors(props) {\n  let seedSelectors = []\n  let fontX = 0\n  let sortedSeeds = props.seeds.sort()\n  for (let index = 0; index < sortedSeeds.length; index++) {\n    let seed = sortedSeeds[index]\n    if (seed.quantity === 0) { continue }\n    const x = 0.5 + Math.sin(Math.PI * index / sortedSeeds.length )\n    const y = 2 + Math.cos((Math.PI * index / (sortedSeeds.length * 1.9)  ))\n    let colours = {}\n    seed.type === props.chosenSeed ? colours = selectedSeedTextColours : colours = seedTextColours\n    seedSelectors.push( <SeedText key={createId()} position={[x, y, 0]} selectSeed={props.selectSeed} toggleSeeds={props.toggleSeeds} seed={seed} colours={colours} index={index}  />)\n  }\n  if (seedSelectors.length === 0) {\n    seedSelectors.push( <NoSeedText key={createId()} colours={seedTextColours} index={1} />)\n  }\n  return seedSelectors\n}\n\nfunction SeedText(props) {\n  const seed = props.seed\n  const mesh = useRef()\n  const [selected, setSelected] = useState(false)\n\n  const handleClick = (event) => {\n    event.stopPropagation()\n    console.log(\"Clicked on SeedCloud!\")\n    console.log(seed.type)\n    console.log(props.index)\n    props.selectSeed(seed.type, props.index)\n  }\n\n\n  return (\n      <mesh\n        {...props}\n        ref={mesh}\n        >\n        <Billboard\n        follow={true}\n        lockX={false}\n        lockY={false}\n        lockZ={false} >\n        < Text\n        fontSize={fontSize}\n        onClick={(event) => handleClick(event)}\n        outlineWidth={fontSize}\n        outlineColor={props.colours.outline}\n        color={props.colours.type}\n        rotation={[0, 0, 0]} >\n          {seed.type} {'\\n'}\n          x {seed.quantity}\n        </ Text>\n        </ Billboard>\n      </mesh>\n      )\n    }\n\nfunction NoSeedText(props) {\n      const mesh = useRef()\n\n      return (\n          <mesh\n            {...props}\n            ref={mesh}\n            >\n            <Billboard\n            follow={true}\n            lockX={false}\n            lockY={false}\n            lockZ={false} >\n            < Text\n            fontSize={0.25}\n            position={[1, 3, 1]}\n            outlineWidth={0.25}\n            outlineColor={props.colours.outline}\n            color={props.colours.type}\n            rotation={[0, 0, 0]} >\n              No seeds available\n            </ Text>\n            </Billboard>\n          </mesh>\n        )\n  }\n\n\nexport default SeedCloud\n"]},"metadata":{},"sourceType":"module"}