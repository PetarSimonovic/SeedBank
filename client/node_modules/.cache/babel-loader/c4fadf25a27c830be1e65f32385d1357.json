{"ast":null,"code":"import _regeneratorRuntime from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React from'react';import ReactDOM from'react-dom';import seedBankSoil from'../seedBankSoil.png';import GardenPlot from'./GardenPlot.js';import{Plant}from'../functions';import styled from'styled-components';import api from'../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.table.attrs({})(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    margin: 0 30px;\\n\"])));var Garden=/*#__PURE__*/function(_React$Component){_inherits(Garden,_React$Component);var _super=_createSuper(Garden);function Garden(props){var _this;_classCallCheck(this,Garden);_this=_super.call(this,props);_this.saveGarden=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var garden;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Attempting to save garden\");garden={\"garden\":_this.state.garden};_context.next=4;return api.updateGarden(_this.props.id,garden).then(function(res){console.log('Garden updated successfully');console.log(_this.state.garden.length);});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.state={seed:\"\",garden:_this.props.garden,infoPane:\"Choose seed\"};_this.generateGarden=_this.generateGarden.bind(_assertThisInitialized(_this));_this.selectSeed=_this.selectSeed.bind(_assertThisInitialized(_this));_this.addPlot=_this.addPlot.bind(_assertThisInitialized(_this));_this.resetSeed=_this.resetSeed.bind(_assertThisInitialized(_this));_this.updateGarden=_this.updateGarden.bind(_assertThisInitialized(_this));_this.plantSeed=_this.plantSeed.bind(_assertThisInitialized(_this));_this.getPlant=_this.getPlant.bind(_assertThisInitialized(_this));return _this;}_createClass(Garden,[{key:\"updatePlantInfo\",value:function updatePlantInfo(){//this.setState({ plantName: plant.name });\nconsole.log(\"Button was Clicked\");}},{key:\"generateGarden\",value:function generateGarden(){console.log(\"Generating Garden, size:\"+this.props.size+this.state.seed);var newRows=[];for(var i=0;i<this.props.size;i++){//  console.log(\"adding row\" + i)\nvar uniqueKey=\"gardenRow_\"+i;newRows.push(/*#__PURE__*/_jsx(\"tr\",{id:uniqueKey,children:this.addPlot(i)},uniqueKey.toString()));}return newRows;}},{key:\"addPlot\",value:function addPlot(id){var plots=[];for(var i=0;i<this.props.size;i++){var uniqueKey=\"plot_\"+id+\"_\"+i;var plantID=id+\"_\"+i;var plant=this.getPlant(plantID);plots.push(/*#__PURE__*/_jsx(GardenPlot,{id:id+\"_\"+i,plantSeed:this.plantSeed,plant:plant,seed:this.state.seed},uniqueKey.toString()));}return plots;}},{key:\"selectSeed\",value:function selectSeed(){this.setState({seed:\"Generic Plant\",infoPane:\"Choose a plot for Generic Plant\"});console.log(\"Seed selected?\"+this.state.seed);}},{key:\"resetSeed\",value:function resetSeed(){this.setState({seed:\"\",infoPane:\"Choose seed\"});console.log(\"Seed selected?\"+this.state.seed);}},{key:\"plantSeed\",value:function plantSeed(id){console.log(\"SEARCHING FOR\"+id);var plant=this.state.garden.find(function(x){return x.id===id;});console.log(\"Plant is \"+\" \"+plant.id+\" \"+plant.growth);plant.planted=true;plant.grow(0);console.log(\"Plant is \"+\" \"+plant.id+\" \"+plant.growth);var newGarden=this.state.garden.filter(function(plant){return plant.id!=id;});newGarden.push(plant);this.setState({garden:newGarden});console.log(\"PLANT UPDATED\");this.resetSeed();}},{key:\"updateGarden\",value:function updateGarden(plant){var newGarden=this.state.garden;newGarden.push(plant);this.setState({garden:newGarden});}},{key:\"getPlant\",value:function getPlant(plantID){if(!this.state.garden.some(function(plant){return plant.id===plantID;})){var newPlant=new Plant(plantID,this.props.date);this.updateGarden(newPlant);}return this.state.garden.find(function(plant){return plant.id===plantID;});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.saveGarden();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"p\",{children:this.state.infoPane}),/*#__PURE__*/_jsx(\"table\",{className:\"garden\",id:\"gardenTable\",children:/*#__PURE__*/_jsx(\"tbody\",{children:this.generateGarden()})},\"gardenTable\"),/*#__PURE__*/_jsx(\"button\",{id:\"sowSeed\",onClick:this.selectSeed,children:\"Generic Plant\"})]});}}]);return Garden;}(React.Component);export default Garden;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Garden.js"],"names":["React","ReactDOM","seedBankSoil","GardenPlot","Plant","styled","api","Wrapper","table","attrs","Garden","props","saveGarden","console","log","garden","state","updateGarden","id","then","res","length","seed","infoPane","generateGarden","bind","selectSeed","addPlot","resetSeed","plantSeed","getPlant","size","newRows","i","uniqueKey","push","toString","plots","plantID","plant","setState","find","x","growth","planted","grow","newGarden","filter","some","newPlant","date","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport seedBankSoil from '../seedBankSoil.png';\nimport GardenPlot from './GardenPlot.js';\nimport { Plant } from '../functions'\nimport styled from 'styled-components';\nimport api from '../api';\n\n\nconst Wrapper = styled.table.attrs({\n})`\n    margin: 0 30px;\n`\n\n\nclass Garden extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      seed: \"\",\n      garden: this.props.garden,\n      infoPane: \"Choose seed\"\n    };\n    this.generateGarden = this.generateGarden.bind(this)\n    this.selectSeed = this.selectSeed.bind(this)\n    this.addPlot = this.addPlot.bind(this)\n    this.resetSeed = this.resetSeed.bind(this)\n    this.updateGarden = this.updateGarden.bind(this)\n    this.plantSeed = this.plantSeed.bind(this)\n    this.getPlant = this.getPlant.bind(this)\n\n  }\n\n\n\n\n  updatePlantInfo() {\n    //this.setState({ plantName: plant.name });\n    console.log(\"Button was Clicked\")\n  }\n\n  generateGarden () {\n    console.log(\"Generating Garden, size:\" + this.props.size + this.state.seed)\n    let newRows = []\n    for (var i = 0; i < this.props.size; i++) {\n    //  console.log(\"adding row\" + i)\n      let uniqueKey = \"gardenRow_\" + i\n      newRows.push(<tr id={uniqueKey} key={uniqueKey.toString()}>{this.addPlot(i)}</tr>);\n    }\n    return newRows\n  }\n\n  addPlot(id) {\n    var plots = []\n    for (var i = 0; i < this.props.size; i++) {\n    let uniqueKey = \"plot_\" + id + \"_\" + i\n    let plantID = id + \"_\" + i\n    let plant = this.getPlant(plantID)\n    plots.push(\n      <GardenPlot\n      key={uniqueKey.toString()}\n      id={id + \"_\" + i}\n      plantSeed={this.plantSeed}\n      plant={plant}\n      seed={this.state.seed} />)\n    }\n    return plots\n  }\n\n  selectSeed() {\n    this.setState({\n      seed: \"Generic Plant\",\n      infoPane: \"Choose a plot for Generic Plant\"\n    });\n    console.log(\"Seed selected?\" + this.state.seed)\n }\n\n  resetSeed() {\n      this.setState({\n        seed: \"\",\n        infoPane: \"Choose seed\"\n      });\n      console.log(\"Seed selected?\" + this.state.seed)\n   }\n\n   plantSeed(id) {\n     console.log(\"SEARCHING FOR\" + id)\n     let plant = this.state.garden.find(x => x.id === id);\n     console.log(\"Plant is \" + \" \" + plant.id + \" \" + plant.growth)\n     plant.planted = true\n     plant.grow(0)\n     console.log(\"Plant is \" + \" \" + plant.id + \" \" + plant.growth)\n     let newGarden = this.state.garden.filter(function(plant) { return plant.id != id; });\n     newGarden.push(plant)\n     this.setState({ garden: newGarden })\n     console.log(\"PLANT UPDATED\")\n     this.resetSeed()\n   }\n\n   updateGarden(plant) {\n     var newGarden = this.state.garden\n     newGarden.push(plant)\n     this.setState({ garden: newGarden })\n   }\n\n   getPlant(plantID) {\n    if (!this.state.garden.some(plant => plant.id === plantID)) {\n      let newPlant = new Plant(plantID, this.props.date)\n      this.updateGarden(newPlant)\n    }\n    return this.state.garden.find(plant => plant.id === plantID);\n\n   }\n\n   componentDidUpdate() {\n     this.saveGarden()\n   }\n\n   saveGarden = async () => {\n     console.log(\"Attempting to save garden\")\n     const garden = {\"garden\" : this.state.garden }\n      await api.updateGarden(this.props.id, garden).then(res => {\n            console.log('Garden updated successfully')\n            console.log(this.state.garden.length)\n        })\n   }\n\n  render() {\n    return (\n    <Wrapper>\n      <p>{this.state.infoPane}</p>\n      <table className=\"garden\" key=\"gardenTable\" id=\"gardenTable\">\n        <tbody>\n        {this.generateGarden()}\n        </tbody>\n      </table>\n      <button id=\"sowSeed\" onClick={this.selectSeed}>Generic Plant</button>\n    </Wrapper>\n    )\n }\n\n}\n\nexport default Garden;\n"]},"metadata":{},"sourceType":"module"}