{"ast":null,"code":"import _toConsumableArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../style/App.css';import api from'../api';import React,{useRef,useState,useMemo,useEffect}from\"react\";import{Canvas,useFrame,extend}from\"@react-three/fiber\";import*as THREE from\"three\";import{Grass,Plant,Camera,Plants}from'../components';import{setDate,parseGarden,saveGarden}from'../functions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Garden(props){var _useState=useState(props.garden),_useState2=_slicedToArray(_useState,2),plants=_useState2[0],setPlants=_useState2[1];function sowPlant(event){var position=[event.point.x,event.point.y,event.point.z];setPlants(function(prev){return[/*#__PURE__*/_jsx(Plant,{date:setDate(),position:position},plants.length)].concat(_toConsumableArray(prev));});updateGarden(plants);}function updateGarden(plants){console.log(\"Updating garden state\");console.log(props.id);saveGarden(this.props.id,plants);}return/*#__PURE__*/_jsxs(Canvas,{id:\"canvas\",className:\"App\",camera:{position:[0,1.5,2],lookat:[0,0,0]},children:[/*#__PURE__*/_jsx(Camera,{}),/*#__PURE__*/_jsx(\"ambientLight\",{intensity:0.1}),/*#__PURE__*/_jsx(\"spotLight\",{position:[10,10,10],angle:0.15,penumbra:7}),\"//\",/*#__PURE__*/_jsx(\"pointLight\",{position:[-10,-10,-10]}),/*#__PURE__*/_jsx(Grass,{sowPlant:sowPlant,position:[0,0,0],args:[1.5,1.5,0.3,7]}),props.garden]});}export default Garden;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/pages/Garden.jsx"],"names":["api","React","useRef","useState","useMemo","useEffect","Canvas","useFrame","extend","THREE","Grass","Plant","Camera","Plants","setDate","parseGarden","saveGarden","Garden","props","garden","plants","setPlants","sowPlant","event","position","point","x","y","z","prev","length","updateGarden","console","log","id","lookat"],"mappings":"keAAA,MAAO,kBAAP,CACA,MAAOA,CAAAA,GAAP,KAAgB,QAAhB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,OAAlC,CAA2CC,SAA3C,KAA4D,OAA5D,CACA,OAASC,MAAT,CAAiBC,QAAjB,CAA2BC,MAA3B,KAAyC,oBAAzC,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,KAAT,CAAgBC,KAAhB,CAAuBC,MAAvB,CAA+BC,MAA/B,KAA6C,eAA7C,CACA,OAASC,OAAT,CAAkBC,WAAlB,CAA+BC,UAA/B,KAAiD,cAAjD,C,wFAKA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,eAEOf,QAAQ,CAACe,KAAK,CAACC,MAAP,CAFf,wCAEdC,MAFc,eAENC,SAFM,eAIrB,QAASC,CAAAA,QAAT,CAAmBC,KAAnB,CAA2B,CACzB,GAAMC,CAAAA,QAAQ,CAAG,CAACD,KAAK,CAACE,KAAN,CAAYC,CAAb,CAAgBH,KAAK,CAACE,KAAN,CAAYE,CAA5B,CAA+BJ,KAAK,CAACE,KAAN,CAAYG,CAA3C,CAAjB,CACAP,SAAS,CAAE,SAACQ,IAAD,CAAU,CACnB,oBAAQ,KAAC,KAAD,EAA2B,IAAI,CAAEf,OAAO,EAAxC,CAA4C,QAAQ,CAAEU,QAAtD,EAAYJ,MAAM,CAACU,MAAnB,CAAR,4BAA+ED,IAA/E,GACD,CAFQ,CAAT,CAGAE,YAAY,CAACX,MAAD,CAAZ,CACC,CAED,QAASW,CAAAA,YAAT,CAAsBX,MAAtB,CAA8B,CAC7BY,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYf,KAAK,CAACgB,EAAlB,EACAlB,UAAU,CAAC,KAAKE,KAAL,CAAWgB,EAAZ,CAAgBd,MAAhB,CAAV,CACD,CAGF,mBACE,MAAC,MAAD,EAAQ,EAAE,CAAC,QAAX,CAAoB,SAAS,CAAC,KAA9B,CAAoC,MAAM,CAAE,CAAEI,QAAQ,CAAE,CAAC,CAAD,CAAI,GAAJ,CAAS,CAAT,CAAZ,CAAyBW,MAAM,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAjC,CAA5C,wBACE,KAAC,MAAD,IADF,cAEC,qBAAc,SAAS,CAAE,GAAzB,EAFD,cAGC,kBAAW,QAAQ,CAAE,CAAC,EAAD,CAAK,EAAL,CAAS,EAAT,CAArB,CAAmC,KAAK,CAAE,IAA1C,CAAgD,QAAQ,CAAE,CAA1D,EAHD,mBAIG,mBAAY,QAAQ,CAAE,CAAC,CAAC,EAAF,CAAM,CAAC,EAAP,CAAW,CAAC,EAAZ,CAAtB,EAJH,cAKE,KAAC,KAAD,EAAO,QAAQ,CAAEb,QAAjB,CAA2B,QAAQ,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAArC,CAAgD,IAAI,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAgB,CAAhB,CAAtD,EALF,CAMGJ,KAAK,CAACC,MANT,GADF,CAUD,CAED,cAAeF,CAAAA,MAAf","sourcesContent":["import '../style/App.css';\nimport api from '../api';\nimport React, { useRef, useState, useMemo, useEffect } from \"react\";\nimport { Canvas, useFrame, extend } from \"@react-three/fiber\";\nimport * as THREE from \"three\";\nimport { Grass, Plant, Camera, Plants } from '../components';\nimport { setDate, parseGarden, saveGarden } from '../functions'\n\n\n\n\nfunction Garden(props) {\n\n  const [plants, setPlants] = useState(props.garden)\n\n  function sowPlant( event ) {\n    const position = [event.point.x, event.point.y, event.point.z]\n    setPlants( (prev) => {\n      return [<Plant key={plants.length} date={setDate()} position={position} />, ...prev]\n    })\n    updateGarden(plants)\n    }\n\n    function updateGarden(plants) {\n     console.log(\"Updating garden state\")\n     console.log(props.id)\n     saveGarden(this.props.id, plants)\n   }\n\n\n  return (\n    <Canvas id=\"canvas\" className=\"App\" camera={{ position: [0, 1.5, 2], lookat: [0, 0, 0] }}>\n      <Camera />\n     <ambientLight intensity={0.1} />\n     <spotLight position={[10, 10, 10]} angle={0.15} penumbra={7} />\n     //<pointLight position={[-10, -10, -10]} />\n      <Grass sowPlant={sowPlant} position={[0, 0, 0]} args={[1.5, 1.5, 0.3, 7]} />\n      {props.garden}\n    </Canvas>\n  );\n}\n\nexport default Garden;\n"]},"metadata":{},"sourceType":"module"}