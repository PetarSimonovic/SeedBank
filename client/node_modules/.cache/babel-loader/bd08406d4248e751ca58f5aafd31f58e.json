{"ast":null,"code":"import _toConsumableArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../style/App.css';import api from'../api';import React,{useRef,useState,useMemo,useEffect,Suspense}from\"react\";import{Canvas,useFrame,extend}from\"@react-three/fiber\";import*as THREE from\"three\";import{Grass,Plant,Camera,Sun}from'../components';import{setDate,parseGarden,saveGarden,createId}from'../functions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Garden(props){var _useState=useState(props.garden),_useState2=_slicedToArray(_useState,2),plants=_useState2[0],setPlants=_useState2[1];function sowPlant(event){var position=[event.point.x,event.point.y,event.point.z];var key=createId();var newPlant=/*#__PURE__*/_jsx(Plant,{growth:0,bloom:2,date:setDate(),position:position},key);console.log(\"New Plant\");console.log(newPlant);setPlants(function(prev){return[newPlant].concat(_toConsumableArray(prev));});console.log(\"New garden length: \".concat(plants.length));}useEffect(function(){// Update the document title using the browser API\nconsole.log(\"Calling saveGarden\");saveGarden(props.id,plants);});return/*#__PURE__*/_jsxs(Canvas,{id:\"canvas\",className:\"App\",camera:{position:[0,1.5,2],lookat:[0,0,0]},children:[/*#__PURE__*/_jsx(Camera,{}),/*#__PURE__*/_jsx(Sun,{}),\"//\",/*#__PURE__*/_jsx(\"pointLight\",{position:[-10,-10,-10]}),/*#__PURE__*/_jsxs(Suspense,{fallback:console.log(\"loading\"),children:[/*#__PURE__*/_jsx(Grass,{sowPlant:sowPlant,position:[0,0,0]}),plants]})]});}export default Garden;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/pages/Garden.jsx"],"names":["api","React","useRef","useState","useMemo","useEffect","Suspense","Canvas","useFrame","extend","THREE","Grass","Plant","Camera","Sun","setDate","parseGarden","saveGarden","createId","Garden","props","garden","plants","setPlants","sowPlant","event","position","point","x","y","z","key","newPlant","console","log","prev","length","id","lookat"],"mappings":"keAAA,MAAO,kBAAP,CACA,MAAOA,CAAAA,GAAP,KAAgB,QAAhB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,OAAlC,CAA2CC,SAA3C,CAAsDC,QAAtD,KAAsE,OAAtE,CACA,OAASC,MAAT,CAAiBC,QAAjB,CAA2BC,MAA3B,KAAyC,oBAAzC,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAASC,KAAT,CAAgBC,KAAhB,CAAuBC,MAAvB,CAA+BC,GAA/B,KAA0C,eAA1C,CACA,OAASC,OAAT,CAAkBC,WAAlB,CAA+BC,UAA/B,CAA2CC,QAA3C,KAA2D,cAA3D,C,wFAKA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CAErB,cAA4BjB,QAAQ,CAACiB,KAAK,CAACC,MAAP,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eAEA,QAASC,CAAAA,QAAT,CAAmBC,KAAnB,CAA2B,CACzB,GAAMC,CAAAA,QAAQ,CAAG,CAACD,KAAK,CAACE,KAAN,CAAYC,CAAb,CAAgBH,KAAK,CAACE,KAAN,CAAYE,CAA5B,CAA+BJ,KAAK,CAACE,KAAN,CAAYG,CAA3C,CAAjB,CACA,GAAMC,CAAAA,GAAG,CAAGb,QAAQ,EAApB,CACA,GAAMc,CAAAA,QAAQ,cAAG,KAAC,KAAD,EAAiB,MAAM,CAAE,CAAzB,CAA4B,KAAK,CAAE,CAAnC,CAAsC,IAAI,CAAEjB,OAAO,EAAnD,CAAuD,QAAQ,CAAEW,QAAjE,EAAYK,GAAZ,CAAjB,CACAE,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAT,SAAS,CAAE,SAACY,IAAD,CAAU,CACnB,OAAQH,QAAR,4BAAqBG,IAArB,GACD,CAFQ,CAAT,CAGAF,OAAO,CAACC,GAAR,8BAAkCZ,MAAM,CAACc,MAAzC,GACC,CAED/B,SAAS,CAAC,UAAM,CAChB;AACA4B,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACAjB,UAAU,CAACG,KAAK,CAACiB,EAAP,CAAWf,MAAX,CAAV,CACD,CAJU,CAAT,CAOF,mBACE,MAAC,MAAD,EAAQ,EAAE,CAAC,QAAX,CAAoB,SAAS,CAAC,KAA9B,CAAoC,MAAM,CAAE,CAAEI,QAAQ,CAAE,CAAC,CAAD,CAAI,GAAJ,CAAS,CAAT,CAAZ,CAAyBY,MAAM,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAjC,CAA5C,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,GAAD,IAFF,mBAGG,mBAAY,QAAQ,CAAE,CAAC,CAAC,EAAF,CAAM,CAAC,EAAP,CAAW,CAAC,EAAZ,CAAtB,EAHH,cAIC,MAAC,QAAD,EAAU,QAAQ,CAAEL,OAAO,CAACC,GAAR,CAAY,SAAZ,CAApB,wBACC,KAAC,KAAD,EAAO,QAAQ,CAAEV,QAAjB,CAA2B,QAAQ,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAArC,EADD,CAEEF,MAFF,GAJD,GADF,CAWD,CAED,cAAeH,CAAAA,MAAf","sourcesContent":["import '../style/App.css';\nimport api from '../api';\nimport React, { useRef, useState, useMemo, useEffect, Suspense } from \"react\";\nimport { Canvas, useFrame, extend } from \"@react-three/fiber\";\nimport * as THREE from \"three\";\nimport { Grass, Plant, Camera, Sun } from '../components';\nimport { setDate, parseGarden, saveGarden, createId } from '../functions'\n\n\n\n\nfunction Garden(props) {\n\n  const [plants, setPlants] = useState(props.garden)\n\n  function sowPlant( event ) {\n    const position = [event.point.x, event.point.y, event.point.z]\n    const key = createId()\n    const newPlant = <Plant key={key} growth={0} bloom={2} date={setDate()} position={position} />\n    console.log(\"New Plant\")\n    console.log(newPlant)\n    setPlants( (prev) => {\n      return [newPlant, ...prev]\n    })\n    console.log(`New garden length: ${plants.length}`)\n    }\n\n    useEffect(() => {\n    // Update the document title using the browser API\n    console.log(\"Calling saveGarden\")\n    saveGarden(props.id, plants)\n  });\n\n\n  return (\n    <Canvas id=\"canvas\" className=\"App\" camera={{ position: [0, 1.5, 2], lookat: [0, 0, 0] }}>\n      <Camera />\n      <Sun />\n     //<pointLight position={[-10, -10, -10]} />\n     <Suspense fallback={console.log(\"loading\")}>\n      <Grass sowPlant={sowPlant} position={[0, 0, 0]} />\n      {plants}\n      </Suspense>\n    </Canvas>\n  );\n}\n\nexport default Garden;\n"]},"metadata":{},"sourceType":"module"}