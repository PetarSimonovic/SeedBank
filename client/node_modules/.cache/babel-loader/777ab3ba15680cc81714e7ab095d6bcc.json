{"ast":null,"code":"import _objectSpread from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Text,Billboard}from'@react-three/drei';import React,{useRef,useState,useEffect}from\"react\";import{createId}from'../../functions';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var characters=\"abcdefghijklmnopqrstuvwxyz0123456789\";var alphabet=characters.split('');var cloudKeyboardColours={text:\"#293241\",outline:\"#b1b5c8\"};var cloudFunctionButtonColours={text:\"#b1b5c8\",outline:\"#293241\"};var fontSize=0.1;var fontZ=1;function CloudKeyBoard(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),sentenceArray=_useState2[0],setSentencearray=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),sentence=_useState4[0],setSentence=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),submitted=_useState6[0],setSubmitted=_useState6[1];var buildSentence=function buildSentence(character){setSentencearray(function(prev){return[].concat(_toConsumableArray(prev),[character]);});};var deleteCharacter=function deleteCharacter(){var previousLength=sentenceArray.length-1;setSentencearray(function(prev){return prev.filter(function(character,index){return index!==previousLength;});});};var submit=function submit(){setSubmitted(true);props.handleSubmit(sentence);};useEffect(function(){//\nsetSentence(sentenceArray.join(''));setSubmitted(submitted);});var mesh=useRef();return/*#__PURE__*/_jsxs(_Fragment,{children:[submitted?/*#__PURE__*/_jsx(CloudText,{sentence:sentence,fontX:0.8,fontY:1.8},createId()):createCloudKeyboard(props,buildSentence,deleteCharacter,sentence,submit),\" />\"]});}function createCloudKeyboard(props,buildSentence,deleteCharacter,sentence,submit){var cloudKeyboard=[];var fontX=0.5;var fontY=3;var column=1;for(var char=0;char<alphabet.length;char++){var character=alphabet[char];fontX+=0.3;cloudKeyboard.push(/*#__PURE__*/_jsx(CloudKey,{buildSentence:buildSentence,character:character,fontX:fontX,fontY:fontY},createId()));if(column%8===0){fontY-=0.3;fontX=0.5;}column++;}cloudKeyboard.push(/*#__PURE__*/_jsx(FunctionKey,{handleClick:deleteCharacter,fontX:fontX+0.3,fontY:fontY,character:\"X\"},createId()));cloudKeyboard.push(/*#__PURE__*/_jsx(FunctionKey,{handleClick:submit,fontX:fontX+0.6,fontY:fontY,character:\"+\"},createId()));cloudKeyboard.push(/*#__PURE__*/_jsx(CloudText,{sentence:sentence,fontX:0.8,fontY:fontY-0.3},createId()));return cloudKeyboard;}function CloudKey(props){var mesh=useRef();var handleClick=function handleClick(event,character){event.stopPropagation();props.buildSentence(character);};return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,onClick:function onClick(event){return handleClick(event,props.character);},children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(Text,{fontSize:fontSize,position:[props.fontX,props.fontY,fontZ],outlineWidth:fontSize,outlineColor:cloudKeyboardColours.outline,color:cloudKeyboardColours.text,children:props.character})})}));}function FunctionKey(props){// FunctionKey Receives a 'handleclick' prop that can vary according to functions\n// Varies in colour to cloudkey but other than that the two could prob be merged into single component\nvar mesh=useRef();var handleClick=function handleClick(event){event.stopPropagation();props.handleClick();};return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,onClick:function onClick(event){return handleClick(event);},children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(Text,{fontSize:fontSize,position:[props.fontX,props.fontY,fontZ],outlineWidth:fontSize,outlineColor:cloudFunctionButtonColours.outline,color:cloudFunctionButtonColours.text,children:props.character})})}));}function CloudText(props){var mesh=useRef();var handleClick=function handleClick(event,character){event.stopPropagation();};return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,onClick:function onClick(event){return handleClick(event,props.character);},children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(Text,{fontSize:fontSize,position:[props.fontX,props.fontY,fontZ],outlineWidth:fontSize,outlineColor:cloudFunctionButtonColours.outline,color:cloudFunctionButtonColours.text,children:props.sentence})})}));}export default CloudKeyBoard;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Cloud/CloudKeyBoard.jsx"],"names":["Text","Billboard","React","useRef","useState","useEffect","createId","characters","alphabet","split","cloudKeyboardColours","text","outline","cloudFunctionButtonColours","fontSize","fontZ","CloudKeyBoard","props","sentenceArray","setSentencearray","sentence","setSentence","submitted","setSubmitted","buildSentence","character","prev","deleteCharacter","previousLength","length","filter","index","submit","handleSubmit","join","mesh","createCloudKeyboard","cloudKeyboard","fontX","fontY","column","char","push","CloudKey","handleClick","event","stopPropagation","FunctionKey","CloudText"],"mappings":"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","sourcesContent":["\nimport { Text, Billboard } from '@react-three/drei'\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { createId } from '../../functions'\n\n\n\nconst characters = \"abcdefghijklmnopqrstuvwxyz0123456789\"\nconst alphabet = characters.split('')\nconst cloudKeyboardColours = {text: \"#293241\", outline: \"#b1b5c8\"}\nconst cloudFunctionButtonColours = {text: \"#b1b5c8\", outline: \"#293241\"}\nconst fontSize = 0.1\nconst fontZ = 1\n\n\n\n\nfunction CloudKeyBoard(props) {\n  const [sentenceArray, setSentencearray] = useState([])\n  const [sentence, setSentence] = useState('')\n  const [submitted, setSubmitted] = useState(false)\n\n  const buildSentence = (character) => {\n    setSentencearray( (prev) => {\n      return [...prev, character]\n    })\n  }\n\n  const deleteCharacter = () => {\n    let previousLength = sentenceArray.length - 1\n    setSentencearray (\n      (prev) => {\n        return prev.filter((character, index) => index !== previousLength)\n      }\n    )\n  }\n\n  const submit = () => {\n    setSubmitted(true)\n    props.handleSubmit(sentence)\n  }\n\n  useEffect(() => {\n\n    //\n    setSentence(sentenceArray.join(''))\n    setSubmitted(submitted)\n  });\n\n\n  const mesh = useRef()\n\n\n\n  return (\n  <>\n  {submitted ? < CloudText key={createId()} sentence={sentence} fontX={0.8} fontY={1.8} /> : createCloudKeyboard(props, buildSentence, deleteCharacter, sentence, submit) } />\n  </>\n\n)\n}\n\nfunction createCloudKeyboard(props, buildSentence, deleteCharacter, sentence, submit) {\n  let cloudKeyboard = []\n  let fontX = 0.5\n  let fontY = 3\n  let column = 1\n  for (let char = 0; char < alphabet.length; char++) {\n    let character = alphabet[char]\n    fontX += 0.3\n    cloudKeyboard.push( < CloudKey key={createId()} buildSentence={buildSentence} character={character} fontX={fontX} fontY={fontY} /> )\n    if (column % 8 === 0) {\n      fontY -= 0.3\n      fontX = 0.5\n    }\n    column++\n\n  }\n  cloudKeyboard.push( <FunctionKey key={createId()} handleClick={deleteCharacter} fontX={fontX + 0.3} fontY={fontY} character='X' /> )\n  cloudKeyboard.push( <FunctionKey key={createId()} handleClick={submit} fontX={fontX + 0.6} fontY={fontY} character='+'/>)\n  cloudKeyboard.push( < CloudText key={createId()} sentence={sentence} fontX={0.8} fontY={fontY - 0.3} /> )\n\n  return cloudKeyboard\n\n\n}\n\nfunction CloudKey(props) {\n\n    const mesh = useRef()\n\n    const handleClick = (event, character) => {\n      event.stopPropagation()\n      props.buildSentence(character)\n    }\n\n    return (\n        <mesh\n          {...props}\n          ref={mesh}\n          onClick={(event) => handleClick(event, props.character)}\n          >\n          <Billboard\n          follow={true}\n          lockX={false}\n          lockY={false}\n          lockZ={false} >\n          < Text\n          fontSize={fontSize}\n          position={[props.fontX, props.fontY, fontZ]}\n          outlineWidth={fontSize}\n          outlineColor={cloudKeyboardColours.outline}\n          color={cloudKeyboardColours.text}\n           >\n           {props.character}\n          </ Text>\n          </ Billboard>\n        </mesh>\n        )\n      }\n\nfunction FunctionKey(props) {\n\n// FunctionKey Receives a 'handleclick' prop that can vary according to functions\n// Varies in colour to cloudkey but other than that the two could prob be merged into single component\n\nconst mesh = useRef()\n\nconst handleClick = (event) => {\nevent.stopPropagation()\nprops.handleClick()\n}\n\nreturn (\n  <mesh\n    {...props}\n    ref={mesh}\n    onClick={(event) => handleClick(event)}\n    >\n    <Billboard\n    follow={true}\n    lockX={false}\n    lockY={false}\n    lockZ={false} >\n    < Text\n    fontSize={fontSize}\n    position={[props.fontX, props.fontY, fontZ]}\n    outlineWidth={fontSize}\n    outlineColor={cloudFunctionButtonColours.outline}\n    color={cloudFunctionButtonColours.text}\n     >\n     {props.character}\n    </ Text>\n    </ Billboard>\n  </mesh>\n  )\n}\n\nfunction CloudText(props) {\n\n    const mesh = useRef()\n\n    const handleClick = (event, character) => {\n      event.stopPropagation()\n    }\n\n    return (\n        <mesh\n          {...props}\n          ref={mesh}\n          onClick={(event) => handleClick(event, props.character)}\n          >\n          <Billboard\n          follow={true}\n          lockX={false}\n          lockY={false}\n          lockZ={false} >\n          < Text\n          fontSize={fontSize}\n          position={[props.fontX, props.fontY, fontZ]}\n          outlineWidth={fontSize}\n          outlineColor={cloudFunctionButtonColours.outline}\n          color={cloudFunctionButtonColours.text}\n           >\n           {props.sentence}\n          </ Text>\n          </ Billboard>\n        </mesh>\n        )\n      }\n\nexport default CloudKeyBoard\n"]},"metadata":{},"sourceType":"module"}