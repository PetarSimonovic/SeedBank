{"ast":null,"code":"import _regeneratorRuntime from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import api from'../api';import'./App.css';import{BrowserRouter as Router,Route,Switch}from'react-router-dom';import{NavBar,SignUpButton,SeedBank}from'../components';import{setDate,parseGarden}from'../functions';import{SignUp,LogIn}from'../pages';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.saveGarden=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(plants){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Attempting to save garden\");console.log(_this.state.userID);_context.next=4;return api.updateGarden(_this.state.userID,plants).then(function(res){console.log('Garden updated successfully');console.log(plants.length);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={userName:\"\",userID:0,garden:[],date:setDate()};_this.setUser=_this.setUser.bind(_assertThisInitialized(_this));_this.connecToServer=_this.connecToServer.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"DATE is \"+this.state.date);this.connecToServer();}},{key:\"connecToServer\",value:function connecToServer(){fetch('/');}},{key:\"setUser\",value:function setUser(userName,id,garden){console.log(\"SETTING USER\");this.setState({userName:userName,id:id,garden:parseGarden(garden,this.state.date)});console.log(\"User is \"+this.state.id+\" \"+this.state.userName);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(NavBar,{user:this.state.userName,setUser:this.setUser}),this.state.userName?/*#__PURE__*/_jsx(SeedBank,{saveGarden:this.saveGarden}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LogIn,{setUser:this.setUser}),\" \",/*#__PURE__*/_jsx(SignUp,{setUser:this.setUser})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/app/index.js"],"names":["React","api","BrowserRouter","Router","Route","Switch","NavBar","SignUpButton","SeedBank","setDate","parseGarden","SignUp","LogIn","App","props","saveGarden","plants","console","log","state","userID","updateGarden","then","res","length","userName","garden","date","setUser","bind","connecToServer","fetch","id","setState","Component"],"mappings":"wnDAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,QAAhB,CAEA,MAAO,WAAP,CAGA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,OAASC,MAAT,CAAiBC,YAAjB,CAA+BC,QAA/B,KAA+C,eAA/C,CACA,OAASC,OAAT,CAAkBC,WAAlB,KAAqC,cAArC,CACA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,UAA9B,CAEA,MAAO,sCAAP,C,2FAEMC,CAAAA,G,sGAEF,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MAgClBC,UAhCkB,0FAgCL,iBAAOC,MAAP,kHACZC,OAAO,CAACC,GAAR,CAAY,2BAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,MAAvB,EAFY,sBAGLnB,CAAAA,GAAG,CAACoB,YAAJ,CAAiB,MAAKF,KAAL,CAAWC,MAA5B,CAAoCJ,MAApC,EAA4CM,IAA5C,CAAiD,SAAAC,GAAG,CAAI,CACxDN,OAAO,CAACC,GAAR,CAAY,6BAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACQ,MAAnB,EACH,CAHG,CAHK,uDAhCK,+DAEjB,MAAKL,KAAL,CAAa,CACXM,QAAQ,CAAE,EADC,CAEXL,MAAM,CAAE,CAFG,CAGXM,MAAM,CAAE,EAHG,CAIXC,IAAI,CAAElB,OAAO,EAJF,CAAb,CAMA,MAAKmB,OAAL,CAAe,MAAKA,OAAL,CAAaC,IAAb,+BAAf,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB,CATiB,aAUlB,C,iDAED,4BAAoB,CAClBZ,OAAO,CAACC,GAAR,CAAY,WAAa,KAAKC,KAAL,CAAWQ,IAApC,EACA,KAAKG,cAAL,GACC,C,8BAEH,yBAAiB,CACdC,KAAK,CAAC,GAAD,CAAL,CACD,C,uBAGF,iBAAQN,QAAR,CAAkBO,EAAlB,CAAsBN,MAAtB,CAA8B,CAC5BT,OAAO,CAACC,GAAR,CAAY,cAAZ,EACA,KAAKe,QAAL,CAAc,CACZR,QAAQ,CAAEA,QADE,CAEZO,EAAE,CAAEA,EAFQ,CAGZN,MAAM,CAAEhB,WAAW,CAACgB,MAAD,CAAS,KAAKP,KAAL,CAAWQ,IAApB,CAHP,CAAd,EAKAV,OAAO,CAACC,GAAR,CAAY,WAAa,KAAKC,KAAL,CAAWa,EAAxB,CAA6B,GAA7B,CAAmC,KAAKb,KAAL,CAAWM,QAA1D,EACD,C,sBAYD,iBAAS,CACT,mBACI,MAAC,MAAD,yBACI,KAAC,MAAD,EAAQ,IAAI,CAAE,KAAKN,KAAL,CAAWM,QAAzB,CAAmC,OAAO,CAAE,KAAKG,OAAjD,EADJ,CAEI,KAAKT,KAAL,CAAWM,QAAX,cAAuB,KAAC,QAAD,EAAU,UAAU,CAAE,KAAKV,UAA3B,EAAvB,cAAmE,oCAAK,KAAC,KAAD,EAAO,OAAO,CAAE,KAAKa,OAArB,EAAL,kBAAsC,KAAC,MAAD,EAAQ,OAAO,CAAE,KAAKA,OAAtB,EAAtC,GAFvE,GADJ,CAMD,C,iBAnDe5B,KAAK,CAACkC,S,EAsDxB,cAAerB,CAAAA,GAAf","sourcesContent":["import React from 'react'\nimport api from '../api';\n\nimport './App.css';\n\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport { NavBar, SignUpButton, SeedBank } from '../components'\nimport { setDate, parseGarden } from '../functions'\nimport { SignUp, LogIn } from '../pages'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nclass App extends React.Component {\n\n    constructor(props) {\n      super(props)\n      this.state = {\n        userName: \"\",\n        userID: 0,\n        garden: [],\n        date: setDate()\n      }\n      this.setUser = this.setUser.bind(this)\n      this.connecToServer = this.connecToServer.bind(this)\n    }\n\n    componentDidMount() {\n      console.log(\"DATE is \" + this.state.date)\n      this.connecToServer();\n      }\n\n    connecToServer() {\n       fetch('/');\n     }\n\n\n    setUser(userName, id, garden) {\n      console.log(\"SETTING USER\")\n      this.setState({\n        userName: userName,\n        id: id,\n        garden: parseGarden(garden, this.state.date)\n      })\n      console.log(\"User is \" + this.state.id + \" \" + this.state.userName)\n    }\n\n     saveGarden = async (plants) => {\n      console.log(\"Attempting to save garden\")\n      console.log(this.state.userID)\n       await api.updateGarden(this.state.userID, plants).then(res => {\n             console.log('Garden updated successfully')\n             console.log(plants.length)\n         })\n    }\n\n\n    render() {\n    return (\n        <Router>\n            <NavBar user={this.state.userName} setUser={this.setUser} />\n           {this.state.userName ?  <SeedBank saveGarden={this.saveGarden} /> : <div><LogIn setUser={this.setUser} /> <SignUp setUser={this.setUser} /></div> }\n          </Router>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}