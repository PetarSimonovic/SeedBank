{"ast":null,"code":"var _jsxFileName = \"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Garden.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport seedBankSoil from './seedBankSoil.png';\nimport GardenPlot from './GardenPlot.js';\nimport Plant from './Plant.js';\nimport styled from 'styled-components';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.table.attrs({})`\n    margin: 0 30px;\n`;\n_c = Wrapper;\n\nclass Garden extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.saveGarden = async () => {\n      console.log(\"IN SAVED GARDEN\");\n      await api.updateGarden(this.props.userName, this.state.garden).then(res => {\n        window.alert(`Garden updated successfully`);\n      });\n    };\n\n    this.state = {\n      seed: \"\",\n      garden: this.props.garden,\n      infoPane: \"Choose seed\"\n    };\n    this.generateGarden = this.generateGarden.bind(this);\n    this.selectSeed = this.selectSeed.bind(this);\n    this.addPlot = this.addPlot.bind(this);\n    this.resetSeed = this.resetSeed.bind(this);\n    this.updateGarden = this.updateGarden.bind(this);\n    this.plantSeed = this.plantSeed.bind(this);\n    this.getPlant = this.getPlant.bind(this);\n  }\n\n  updatePlantInfo() {\n    //this.setState({ plantName: plant.name });\n    console.log(\"Button was Clicked\");\n  }\n\n  generateGarden() {\n    console.log(\"Generating Garden, size:\" + this.props.size + this.state.seed);\n    let newRows = [];\n\n    for (var i = 0; i < this.props.size; i++) {\n      //  console.log(\"adding row\" + i)\n      let uniqueKey = \"gardenRow_\" + i;\n      newRows.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n        id: uniqueKey,\n        children: this.addPlot(i)\n      }, uniqueKey.toString(), false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 20\n      }, this));\n    }\n\n    console.log(this.state.garden);\n    return newRows;\n  }\n\n  addPlot(id) {\n    var plots = [];\n\n    for (var i = 0; i < this.props.size; i++) {\n      let uniqueKey = \"plot_\" + id + \"_\" + i;\n      let plantID = id + \"_\" + i;\n      let plant = this.getPlant(plantID);\n      plots.push( /*#__PURE__*/_jsxDEV(GardenPlot, {\n        id: id + \"_\" + i,\n        plantSeed: this.plantSeed,\n        plant: plant,\n        seed: this.state.seed\n      }, uniqueKey.toString(), false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this));\n    }\n\n    return plots;\n  }\n\n  selectSeed() {\n    this.setState({\n      seed: \"Generic Plant\",\n      infoPane: \"Choose a plot for Generic Plant\"\n    });\n    console.log(\"Seed selected?\" + this.state.seed);\n  }\n\n  resetSeed() {\n    this.setState({\n      seed: \"\",\n      infoPane: \"Choose seed\"\n    });\n    console.log(\"Seed selected?\" + this.state.seed);\n  }\n\n  plantSeed(id) {\n    console.log(\"SEARCHING FOR\" + id);\n    let plant = this.state.garden.find(x => x.id === id);\n    console.log(\"Plant is \" + \" \" + plant.id + \" \" + plant.growth);\n    plant.growth += 1;\n    plant.updateImage();\n    console.log(\"Plant is \" + \" \" + plant.id + \" \" + plant.growth);\n    let newGarden = this.state.garden.filter(function (plant) {\n      return plant.id != id;\n    });\n    newGarden.push(plant);\n    this.setState({\n      garden: newGarden\n    });\n    console.log(\"PLANT UPDATED\");\n    this.resetSeed();\n  }\n\n  updateGarden(plant) {\n    var newGarden = this.state.garden;\n    newGarden.push(plant);\n    this.setState({\n      garden: newGarden\n    });\n    console.log(this.state.garden);\n  }\n\n  getPlant(plantID) {\n    if (!this.state.garden.some(plant => plant.id === plantID)) {\n      let newPlant = new Plant(plantID);\n      this.updateGarden(newPlant);\n    }\n\n    return this.state.garden.find(plant => plant.id === plantID);\n  }\n\n  componentDidUpdate() {\n    event.preventDefault;\n    this.saveGarden();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.infoPane\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"garden\",\n        id: \"gardenTable\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.generateGarden()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }, this)\n      }, \"gardenTable\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"sowSeed\",\n        onClick: this.selectSeed,\n        children: \"Generic Plant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default Garden;\n\nvar _c;\n\n$RefreshReg$(_c, \"Wrapper\");","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Garden.js"],"names":["React","ReactDOM","seedBankSoil","GardenPlot","Plant","styled","api","Wrapper","table","attrs","Garden","Component","constructor","props","saveGarden","console","log","updateGarden","userName","state","garden","then","res","window","alert","seed","infoPane","generateGarden","bind","selectSeed","addPlot","resetSeed","plantSeed","getPlant","updatePlantInfo","size","newRows","i","uniqueKey","push","toString","id","plots","plantID","plant","setState","find","x","growth","updateImage","newGarden","filter","some","newPlant","componentDidUpdate","event","preventDefault","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport seedBankSoil from './seedBankSoil.png';\nimport GardenPlot from './GardenPlot.js';\nimport Plant from './Plant.js'\nimport styled from 'styled-components';\nimport api from '../api';\n\n\nconst Wrapper = styled.table.attrs({\n})`\n    margin: 0 30px;\n`\n\n\nclass Garden extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      seed: \"\",\n      garden: this.props.garden,\n      infoPane: \"Choose seed\"\n    };\n    this.generateGarden = this.generateGarden.bind(this)\n    this.selectSeed = this.selectSeed.bind(this)\n    this.addPlot = this.addPlot.bind(this)\n    this.resetSeed = this.resetSeed.bind(this)\n    this.updateGarden = this.updateGarden.bind(this)\n    this.plantSeed = this.plantSeed.bind(this)\n    this.getPlant = this.getPlant.bind(this)\n\n  }\n\n\n\n\n  updatePlantInfo() {\n    //this.setState({ plantName: plant.name });\n    console.log(\"Button was Clicked\")\n  }\n\n  generateGarden () {\n    console.log(\"Generating Garden, size:\" + this.props.size + this.state.seed)\n    let newRows = []\n    for (var i = 0; i < this.props.size; i++) {\n    //  console.log(\"adding row\" + i)\n      let uniqueKey = \"gardenRow_\" + i\n      newRows.push(<tr id={uniqueKey} key={uniqueKey.toString()}>{this.addPlot(i)}</tr>);\n    }\n    console.log(this.state.garden)\n    return newRows\n  }\n\n  addPlot(id) {\n    var plots = []\n    for (var i = 0; i < this.props.size; i++) {\n    let uniqueKey = \"plot_\" + id + \"_\" + i\n    let plantID = id + \"_\" + i\n    let plant = this.getPlant(plantID)\n    plots.push(\n      <GardenPlot\n      key={uniqueKey.toString()}\n      id={id + \"_\" + i}\n      plantSeed={this.plantSeed}\n      plant={plant}\n      seed={this.state.seed} />)\n    }\n    return plots\n  }\n\n  selectSeed() {\n    this.setState({\n      seed: \"Generic Plant\",\n      infoPane: \"Choose a plot for Generic Plant\"\n    });\n    console.log(\"Seed selected?\" + this.state.seed)\n }\n\n  resetSeed() {\n      this.setState({\n        seed: \"\",\n        infoPane: \"Choose seed\"\n      });\n      console.log(\"Seed selected?\" + this.state.seed)\n   }\n\n   plantSeed(id) {\n     console.log(\"SEARCHING FOR\" + id)\n     let plant = this.state.garden.find(x => x.id === id);\n     console.log(\"Plant is \" + \" \" + plant.id + \" \" + plant.growth)\n     plant.growth += 1\n     plant.updateImage()\n     console.log(\"Plant is \" + \" \" + plant.id + \" \" + plant.growth)\n     let newGarden = this.state.garden.filter(function(plant) { return plant.id != id; });\n     newGarden.push(plant)\n     this.setState({ garden: newGarden })\n     console.log(\"PLANT UPDATED\")\n     this.resetSeed()\n   }\n\n   updateGarden(plant) {\n     var newGarden = this.state.garden\n     newGarden.push(plant)\n     this.setState({ garden: newGarden })\n     console.log(this.state.garden)\n   }\n\n   getPlant(plantID) {\n    if (!this.state.garden.some(plant => plant.id === plantID)) {\n      let newPlant = new Plant(plantID)\n      this.updateGarden(newPlant)\n    }\n    return this.state.garden.find(plant => plant.id === plantID);\n\n   }\n\n   componentDidUpdate() {\n     event.preventDefault\n     this.saveGarden()\n   }\n\n   saveGarden = async () => {\n\n      console.log(\"IN SAVED GARDEN\")\n\n        await api.updateGarden(this.props.userName, this.state.garden).then(res => {\n            window.alert(`Garden updated successfully`)\n        })\n   }\n\n  render() {\n    return (\n    <Wrapper>\n      <p>{this.state.infoPane}</p>\n      <table className=\"garden\" key=\"gardenTable\" id=\"gardenTable\">\n        <tbody>\n        {this.generateGarden()}\n        </tbody>\n      </table>\n      <button id=\"sowSeed\" onClick={this.selectSeed}>Generic Plant</button>\n    </Wrapper>\n    )\n }\n\n}\n\nexport default Garden;\n"]},"metadata":{},"sourceType":"module"}