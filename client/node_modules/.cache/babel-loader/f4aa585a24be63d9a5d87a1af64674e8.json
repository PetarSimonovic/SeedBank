{"ast":null,"code":"var _jsxFileName = \"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Cloud/BalloonShop.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { Billboard, Text } from '@react-three/drei';\nimport React, { Component, useState, useRef, useEffect } from 'react';\nimport { balloonColours, sendBalloon, sample, createId } from '../../functions';\nimport { Cloud } from '../';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst size = 0.07;\n\nfunction BalloonShop(props) {\n  _s();\n\n  const mesh = useRef();\n  const [on, setOn] = useState(false);\n  const [text, setText] = useState('balloon shop'); // eventhandler for Cloud\n\n  const handleClick = () => {\n    event.stopPropagation();\n    setOn(prev => !prev);\n  };\n\n  useEffect(() => {\n    on ? setText(\"choose balloon\") : setText(\"friend request\");\n  }, [on]);\n  return /*#__PURE__*/_jsxDEV(\"mesh\", { ...props,\n    ref: mesh,\n    scale: 1,\n    onClick: handleClick,\n    children: [/*#__PURE__*/_jsxDEV(Cloud, {\n      handleClick: handleClick,\n      text: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this), balloonsForSale(props)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BalloonShop, \"Em7UAsL0Sgfa9Yy8Xb8mzAxYaJw=\");\n\n_c = BalloonShop;\n\nfunction balloonsForSale(props) {\n  const colours = balloonColours();\n  let balloons = [];\n\n  for (let balloon = 0; balloon < props.seeds.length; balloon++) {\n    const ballonTextColour = {\n      message: \"#293241\",\n      outline: \"#b1b5c8\"\n    };\n    const x = -0.3 + Math.cos(Math.PI * balloon / colours.length);\n    const y = 1 + Math.sin(Math.PI * balloon / colours.length);\n    balloons.push( /*#__PURE__*/_jsxDEV(BalloonForSale, {\n      buyBalloon: props.buyBalloon,\n      textColour: \"#293241\",\n      outline: colours[balloon],\n      position: [x, y, 0]\n    }, createId(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }, this));\n  }\n\n  return balloons;\n}\n\nfunction BalloonForSale(props) {\n  _s2();\n\n  const mesh = useRef();\n  const [scale, setScale] = useState(1);\n\n  const handleClick = event => {\n    event.stopPropagation();\n    props.buyBalloon(props.outline);\n    setScale(0.95);\n    setTimeout(() => {\n      setScale(1);\n    }, 100); //  constructor(userId, type, colour = sample(balloonColours()), quantity = 0, message, sender = \"SeedBank\") {\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"mesh\", { ...props,\n    ref: mesh,\n    scale: scale,\n    onClick: event => handleClick(event),\n    children: /*#__PURE__*/_jsxDEV(Billboard, {\n      position: props.position,\n      follow: true,\n      lockX: false,\n      lockY: false,\n      lockZ: false // Lock the rotation on the z axis (default=false)\n      ,\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: size,\n        outlineWidth: size + 0.05,\n        outlineColor: props.outline,\n        color: props.textColour,\n        children: \"\\xA31\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(BalloonForSale, \"N2S7Uj9/DXGwR+tcMkTwgR08xq8=\");\n\n_c2 = BalloonForSale;\nexport default BalloonShop;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BalloonShop\");\n$RefreshReg$(_c2, \"BalloonForSale\");","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Cloud/BalloonShop.jsx"],"names":["Billboard","Text","React","Component","useState","useRef","useEffect","balloonColours","sendBalloon","sample","createId","Cloud","size","BalloonShop","props","mesh","on","setOn","text","setText","handleClick","event","stopPropagation","prev","balloonsForSale","colours","balloons","balloon","seeds","length","ballonTextColour","message","outline","x","Math","cos","PI","y","sin","push","buyBalloon","BalloonForSale","scale","setScale","setTimeout","position","textColour"],"mappings":"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","sourcesContent":["import { Billboard, Text } from '@react-three/drei'\nimport React, { Component, useState, useRef, useEffect } from 'react';\nimport {balloonColours, sendBalloon, sample, createId} from '../../functions'\nimport { Cloud } from '../'\nconst size = 0.07\n\nfunction BalloonShop(props) {\n  const mesh = useRef()\n\n  const [on, setOn] = useState(false)\n  const [text, setText] = useState('balloon shop')\n\n  // eventhandler for Cloud\n\n  const handleClick = () => {\n    event.stopPropagation()\n    setOn(prev => !prev)\n  }\n\n  useEffect(() => {\n    on ? setText(\"choose balloon\") : setText(\"friend request\")\n  }, [on])\n\n\n  return (\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={1}\n      onClick={handleClick}\n      >\n    <Cloud handleClick={handleClick} text={text} />\n    {balloonsForSale(props)}\n    </mesh>\n  )\n}\n\nfunction balloonsForSale(props) {\n  const colours = balloonColours()\n  let balloons = []\n  for (let balloon = 0; balloon < props.seeds.length; balloon++) {\n    const ballonTextColour = {\n      message: \"#293241\",\n      outline: \"#b1b5c8\"\n    }\n    const x = -0.3 + Math.cos(Math.PI * balloon / colours.length)\n    const y = 1 + Math.sin((Math.PI * balloon / colours.length  ))\n\n    balloons.push(<BalloonForSale key={createId()} buyBalloon={props.buyBalloon} textColour=\"#293241\" outline={colours[balloon]} position={[x, y, 0]}/>)\n  }\n  return balloons\n}\n\nfunction BalloonForSale(props) {\n\n  const mesh = useRef()\n  const [scale, setScale] = useState(1)\n\n  const handleClick = (event) => {\n    event.stopPropagation()\n    props.buyBalloon(props.outline)\n    setScale(0.95)\n    setTimeout(() => {\n      setScale(1)\n    }, 100)\n\n    //  constructor(userId, type, colour = sample(balloonColours()), quantity = 0, message, sender = \"SeedBank\") {\n  }\n\n  return (\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={scale}\n      onClick={(event) => handleClick(event)}\n      >\n    <Billboard\n      position={props.position}\n      follow={true}\n      lockX={false}\n      lockY={false}\n      lockZ={false} // Lock the rotation on the z axis (default=false)\n      >\n      <Text fontSize={size} outlineWidth={size + 0.05} outlineColor={props.outline} color={props.textColour}>\n      Â£1\n       </Text>\n      </Billboard>\n      </mesh>\n    )\n}\n\nexport default BalloonShop\n"]},"metadata":{},"sourceType":"module"}