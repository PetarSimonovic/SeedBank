{"ast":null,"code":"import _objectSpread from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Text,Billboard}from'@react-three/drei';import React,{useRef,useState,useEffect}from\"react\";import{createId}from'../../functions';import{Cloud}from'../';// Creates a button that 'clicks'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var seedTextColours={type:\"#293241\",outline:\"#b1b5c8\"};var selectedSeedTextColours={type:\"#b1b5c8\",outline:\"#293241\"};var fontSize=0.15;var fontZ=1;var fontY=2;function SeedCloud(props){var mesh=useRef();var seeds=getAvailableSeeds(props.seeds);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),option=_useState2[0],setOption=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),on=_useState4[0],setOn=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),seed=_useState6[0],setSeed=_useState6[1];var _useState7=useState(\"seeds\"),_useState8=_slicedToArray(_useState7,2),text=_useState8[0],setText=_useState8[1];// eventhandler for Cloud\nuseEffect(function(){setOption(option);console.log(option);if(seeds.length===0||seed.quantity===0){closeDown();}});var closeDown=function closeDown(){setOn(false);setOption(0);};var handleClick=function handleClick(){setOn(true);console.log(option);setOption(function(prev){return prev+1;});option<seeds.length?setSeed(seeds[option]):closeDown();};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{position:[0,0.5,0],ref:mesh,scale:1,children:[seeds.length!=0?/*#__PURE__*/_jsx(Cloud,{handleClick:handleClick,text:on?seed.type:'seeds'}):'',on?seedSelectors(props,seed,option):'']}))});}function seedSelectors(props,seed){console.log(seed);if(seed.quantity===0){console.log(\"It's 0\");return;}var colours={};seed.type===props.chosenSeed?colours=selectedSeedTextColours:colours=seedTextColours;return/*#__PURE__*/_jsx(SeedText,{position:[0,2,0],selectSeed:props.selectSeed,toggleSeeds:props.toggleSeeds,seed:seed,colours:colours},createId());}function SeedText(props){var seed=props.seed;var mesh=useRef();var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),selected=_useState10[0],setSelected=_useState10[1];var handleClick=function handleClick(event){event.stopPropagation();console.log(\"Clicked on SeedCloud!\");console.log(seed.type);props.selectSeed(seed.type);};return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(Text,{fontSize:fontSize,onClick:function onClick(event){return handleClick(event);},outlineWidth:fontSize,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:seed.quantity})})}));}function NoSeedText(props){var mesh=useRef();return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(Text,{fontSize:0.25,position:[1,3,1],outlineWidth:0.25,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:\"No seeds available\"})})}));}function getAvailableSeeds(seeds){var availableSeeds=[];for(var index=0;index<seeds.length;index++){var seed=seeds[index];if(seed.quantity===0){continue;}else{availableSeeds.push(seed);}}return availableSeeds;}export default SeedCloud;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Clouds/SeedCloud.jsx"],"names":["Text","Billboard","React","useRef","useState","useEffect","createId","Cloud","seedTextColours","type","outline","selectedSeedTextColours","fontSize","fontZ","fontY","SeedCloud","props","mesh","seeds","getAvailableSeeds","option","setOption","on","setOn","seed","setSeed","text","setText","console","log","length","quantity","closeDown","handleClick","prev","seedSelectors","colours","chosenSeed","selectSeed","toggleSeeds","SeedText","selected","setSelected","event","stopPropagation","NoSeedText","availableSeeds","index","push"],"mappings":"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","sourcesContent":["import { Text, Billboard } from '@react-three/drei'\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { createId } from '../../functions'\nimport { Cloud } from '../'\n\n// Creates a button that 'clicks'\n\nconst seedTextColours = {type: \"#293241\", outline: \"#b1b5c8\"}\nconst selectedSeedTextColours = {type: \"#b1b5c8\", outline: \"#293241\"}\nconst fontSize = 0.15\nconst fontZ = 1\nconst fontY = 2\n\nfunction SeedCloud(props) {\n\n  const mesh = useRef()\n  const seeds = getAvailableSeeds(props.seeds)\n  const [option, setOption] = useState(0)\n  const [on, setOn] = useState(false)\n  const [seed, setSeed] = useState({})\n  const [text, setText] = useState(\"seeds\")\n\n  // eventhandler for Cloud\n\n  useEffect(() => {\n    setOption(option)\n    console.log(option)\n    if (seeds.length === 0 || seed.quantity === 0) { closeDown() }\n  })\n\n\n  const closeDown = () => {\n    setOn(false)\n    setOption(0)\n  }\n\n  const handleClick = () => {\n    setOn(true)\n    console.log(option)\n    setOption(prev => prev+1)\n    option < seeds.length ? setSeed(seeds[option]) : closeDown()\n  }\n\n\n\n\n  return (\n  <>\n  <mesh\n    {...props}\n    position={[0, 0.5, 0]}\n    ref={mesh}\n    scale={1}\n    >\n    {seeds.length != 0 ? <Cloud handleClick={handleClick} text={on ? seed.type : 'seeds'} /> : '' }\n    {on ? seedSelectors(props, seed, option) : ''}\n  </mesh>\n\n  </>\n\n)\n}\n\nfunction seedSelectors(props, seed) {\n  console.log(seed)\n  if (seed.quantity === 0) {\n    console.log(\"It's 0\")\n    return\n  }\n  let colours = {}\n  seed.type === props.chosenSeed ? colours = selectedSeedTextColours : colours = seedTextColours\n  return <SeedText key={createId()} position={[0, 2, 0]} selectSeed={props.selectSeed} toggleSeeds={props.toggleSeeds} seed={seed} colours={colours}   />\n}\n\nfunction SeedText(props) {\n  const seed = props.seed\n  const mesh = useRef()\n  const [selected, setSelected] = useState(false)\n\n  const handleClick = (event) => {\n    event.stopPropagation()\n    console.log(\"Clicked on SeedCloud!\")\n    console.log(seed.type)\n    props.selectSeed(seed.type)\n  }\n\n\n  return (\n      <mesh\n        {...props}\n        ref={mesh}\n        >\n        <Billboard\n        follow={true}\n        lockX={false}\n        lockY={false}\n        lockZ={false} >\n        < Text\n        fontSize={fontSize}\n        onClick={(event) => handleClick(event)}\n        outlineWidth={fontSize}\n        outlineColor={props.colours.outline}\n        color={props.colours.type}\n        rotation={[0, 0, 0]} >\n          {seed.quantity}\n        </ Text>\n        </ Billboard>\n      </mesh>\n      )\n    }\n\nfunction NoSeedText(props) {\n      const mesh = useRef()\n\n      return (\n          <mesh\n            {...props}\n            ref={mesh}\n            >\n            <Billboard\n            follow={true}\n            lockX={false}\n            lockY={false}\n            lockZ={false} >\n            < Text\n            fontSize={0.25}\n            position={[1, 3, 1]}\n            outlineWidth={0.25}\n            outlineColor={props.colours.outline}\n            color={props.colours.type}\n            rotation={[0, 0, 0]} >\n              No seeds available\n            </ Text>\n            </Billboard>\n          </mesh>\n        )\n  }\n\n function getAvailableSeeds(seeds) {\n   let availableSeeds = []\n   for (let index = 0; index < seeds.length; index++) {\n     const seed = seeds[index]\n     if (seed.quantity === 0) {\n       continue\n     } else {\n       availableSeeds.push(seed)\n     }\n   }\n   return availableSeeds\n }\n\nexport default SeedCloud\n"]},"metadata":{},"sourceType":"module"}