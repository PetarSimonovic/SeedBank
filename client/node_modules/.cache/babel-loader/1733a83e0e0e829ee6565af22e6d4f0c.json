{"ast":null,"code":"import _regeneratorRuntime from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import api from'../api';import{setDate}from'../functions';import React,{useRef,useState,useMemo,useEffect}from\"react\";import{Canvas,useFrame,extend}from\"@react-three/fiber\";import*as THREE from\"three\";import'./App.css';import{Garden,Plant,Camera,Plants}from'./';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SeedBank(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),plants=_useState2[0],setPlants=_useState2[1];console.log(props.userID);var SeedBankID=props.userID;console.log(SeedBankID);function sowPlant(event){var x=event.point.x;var y=event.point.y;var z=event.point.z;setPlants(function(prev){return[/*#__PURE__*/_jsx(Plant,{date:setDate(),position:[x,y,z]},plants.length)].concat(_toConsumableArray(prev));});saveGarden();}function saveGarden(){return _saveGarden.apply(this,arguments);}function _saveGarden(){_saveGarden=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Attempting to save garden\");console.log(SeedBankID);_context.next=4;return api.updateGarden(userID,plants).then(function(res){console.log('Garden updated successfully');console.log(plants.length);});case 4:case\"end\":return _context.stop();}}},_callee);}));return _saveGarden.apply(this,arguments);}return/*#__PURE__*/_jsxs(Canvas,{id:\"canvas\",className:\"App\",camera:{position:[0,1.5,2],lookat:[0,0,0]},children:[/*#__PURE__*/_jsx(Camera,{}),/*#__PURE__*/_jsx(\"ambientLight\",{intensity:0.1}),/*#__PURE__*/_jsx(\"spotLight\",{position:[10,10,10],angle:0.15,penumbra:7}),\"//\",/*#__PURE__*/_jsx(\"pointLight\",{position:[-10,-10,-10]}),/*#__PURE__*/_jsx(Garden,{sowPlant:sowPlant,position:[0,0,0],args:[1.5,1.5,0.3,7]}),plants]});}export default SeedBank;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/SeedBank.js"],"names":["api","setDate","React","useRef","useState","useMemo","useEffect","Canvas","useFrame","extend","THREE","Garden","Plant","Camera","Plants","SeedBank","props","plants","setPlants","console","log","userID","SeedBankID","sowPlant","event","x","point","y","z","prev","length","saveGarden","updateGarden","then","res","position","lookat"],"mappings":"y7BAAA,MAAO,WAAP,CACA,MAAOA,CAAAA,GAAP,KAAgB,QAAhB,CACA,OAAQC,OAAR,KAAsB,cAAtB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,OAAlC,CAA2CC,SAA3C,KAA4D,OAA5D,CACA,OAASC,MAAT,CAAiBC,QAAjB,CAA2BC,MAA3B,KAAyC,oBAAzC,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAO,WAAP,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgCC,MAAhC,KAA8C,IAA9C,C,wFAKA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,eAEKZ,QAAQ,CAAC,EAAD,CAFb,wCAEhBa,MAFgB,eAERC,SAFQ,eAGvBC,OAAO,CAACC,GAAR,CAAYJ,KAAK,CAACK,MAAlB,EACA,GAAMC,CAAAA,UAAU,CAAGN,KAAK,CAACK,MAAzB,CACAF,OAAO,CAACC,GAAR,CAAYE,UAAZ,EAEA,QAASC,CAAAA,QAAT,CAAmBC,KAAnB,CAA2B,CACzB,GAAMC,CAAAA,CAAC,CAAGD,KAAK,CAACE,KAAN,CAAYD,CAAtB,CACA,GAAME,CAAAA,CAAC,CAAGH,KAAK,CAACE,KAAN,CAAYC,CAAtB,CACA,GAAMC,CAAAA,CAAC,CAAGJ,KAAK,CAACE,KAAN,CAAYE,CAAtB,CAEAV,SAAS,CAAE,SAACW,IAAD,CAAU,CACnB,oBAAQ,KAAC,KAAD,EAA2B,IAAI,CAAE5B,OAAO,EAAxC,CAA4C,QAAQ,CAAE,CAACwB,CAAD,CAAIE,CAAJ,CAAQC,CAAR,CAAtD,EAAYX,MAAM,CAACa,MAAnB,CAAR,4BAAiFD,IAAjF,GACD,CAFQ,CAAT,CAGAE,UAAU,GACT,CAhBoB,QAkBNA,CAAAA,UAlBM,wIAkBrB,mIACEZ,OAAO,CAACC,GAAR,CAAY,2BAAZ,EACAD,OAAO,CAACC,GAAR,CAAYE,UAAZ,EAFF,sBAGStB,CAAAA,GAAG,CAACgC,YAAJ,CAAiBX,MAAjB,CAAyBJ,MAAzB,EAAiCgB,IAAjC,CAAsC,SAAAC,GAAG,CAAI,CAC7Cf,OAAO,CAACC,GAAR,CAAY,6BAAZ,EACAD,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACa,MAAnB,EACH,CAHG,CAHT,uDAlBqB,6CA2BvB,mBACE,MAAC,MAAD,EAAQ,EAAE,CAAC,QAAX,CAAoB,SAAS,CAAC,KAA9B,CAAoC,MAAM,CAAE,CAAEK,QAAQ,CAAE,CAAC,CAAD,CAAI,GAAJ,CAAS,CAAT,CAAZ,CAAyBC,MAAM,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAjC,CAA5C,wBACE,KAAC,MAAD,IADF,cAEC,qBAAc,SAAS,CAAE,GAAzB,EAFD,cAGC,kBAAW,QAAQ,CAAE,CAAC,EAAD,CAAK,EAAL,CAAS,EAAT,CAArB,CAAmC,KAAK,CAAE,IAA1C,CAAgD,QAAQ,CAAE,CAA1D,EAHD,mBAIG,mBAAY,QAAQ,CAAE,CAAC,CAAC,EAAF,CAAM,CAAC,EAAP,CAAW,CAAC,EAAZ,CAAtB,EAJH,cAKE,KAAC,MAAD,EAAQ,QAAQ,CAAEb,QAAlB,CAA4B,QAAQ,CAAE,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAtC,CAAiD,IAAI,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAgB,CAAhB,CAAvD,EALF,CAMGN,MANH,GADF,CAUD,CAED,cAAeF,CAAAA,QAAf","sourcesContent":["import './App.css';\nimport api from '../api';\nimport {setDate} from '../functions'\nimport React, { useRef, useState, useMemo, useEffect } from \"react\";\nimport { Canvas, useFrame, extend } from \"@react-three/fiber\";\nimport * as THREE from \"three\";\nimport './App.css';\nimport { Garden, Plant, Camera, Plants } from './';\n\n\n\n\nfunction SeedBank(props) {\n\n  const [plants, setPlants] = useState([])\n  console.log(props.userID)\n  const SeedBankID = props.userID\n  console.log(SeedBankID)\n\n  function sowPlant( event ) {\n    const x = event.point.x\n    const y = event.point.y\n    const z = event.point.z\n\n    setPlants( (prev) => {\n      return [<Plant key={plants.length} date={setDate()} position={[x, y , z]} />, ...prev]\n    })\n    saveGarden()\n    }\n\n    async function saveGarden() {\n      console.log(\"Attempting to save garden\")\n      console.log(SeedBankID)\n       await api.updateGarden(userID, plants).then(res => {\n             console.log('Garden updated successfully')\n             console.log(plants.length)\n         })\n    }\n\n  return (\n    <Canvas id=\"canvas\" className=\"App\" camera={{ position: [0, 1.5, 2], lookat: [0, 0, 0] }}>\n      <Camera />\n     <ambientLight intensity={0.1} />\n     <spotLight position={[10, 10, 10]} angle={0.15} penumbra={7} />\n     //<pointLight position={[-10, -10, -10]} />\n      <Garden sowPlant={sowPlant} position={[0, 0, 0]} args={[1.5, 1.5, 0.3, 7]} />\n      {plants}\n    </Canvas>\n  );\n}\n\nexport default SeedBank;\n"]},"metadata":{},"sourceType":"module"}