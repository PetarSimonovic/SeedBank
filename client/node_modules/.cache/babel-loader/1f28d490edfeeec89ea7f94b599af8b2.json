{"ast":null,"code":"import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{RoundedBox,Text,Billboard}from'@react-three/drei';import React,{useRef,useState,useEffect}from\"react\";import{createId}from'../functions';// Creates a button that 'clicks'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var seedTextColours={type:\"#293241\",outline:\"#b1b5c8\"};var selectedSeedTextColours={type:\"#b1b5c8\",outline:\"#293241\"};function SeedBox(props){console.log(\"PROPS IN SEEDBOX\");console.log(props);var mesh=useRef();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/_jsx(SeedBoxStalactite,{seeds:props.seeds,selectSeed:props.selectSeed}),/*#__PURE__*/_jsx(SeedButton,{position:[0,0.1,0],toggleSeeds:props.toggleSeeds}),seedSelectors(props)]}))});}function seedSelectors(props){console.log(\"PROPS in SEEDSELECTORS\");console.log(props);if(!props.seedList){return[];}var seedSelectors=[];for(var index=0;index<props.seeds.length;index++){console.log(\"Generating seedselectors\");var seed=props.seeds[index];if(seed.quantity===0){continue;}var colours={};seed.type===props.chosenSeed?colours=selectedSeedTextColours:colours=seedTextColours;seedSelectors.push(/*#__PURE__*/_jsx(SeedText,{selectSeed:props.selectSeed,seed:seed,colours:colours,index:index,position:[0,0,0]}));}if(seedSelectors.length===0){seedSelectors.push(/*#__PURE__*/_jsx(NoSeedText,{colours:seedTextColours,index:1}));}return seedSelectors;}function SeedButton(props){var mesh=useRef();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),clickScale=_useState2[0],setClickscale=_useState2[1];var handleClick=function handleClick(){setClickscale(0.97);props.toggleSeeds();setTimeout(function(){setClickscale(1);},100);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,onClick:handleClick,scale:clickScale,children:/*#__PURE__*/_jsx(RoundedBox,_objectSpread(_objectSpread({onClick:handleClick,args:[0.2,0.2,0.2],radius:0.05,smoothness:4},props),{},{children:/*#__PURE__*/_jsx(\"meshToonMaterial\",{attach:\"material\",color:\"#212529\"})}))}))});}function SeedText(props){var seed=props.seed;var mesh=useRef();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var handleClick=function handleClick(event){event.stopPropagation();console.log(seed.type);props.selectSeed(seed.type,props.index);};return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsxs(Text,{fontSize:0.05,onClick:function onClick(event){return handleClick(event);},position:[0.5,props.index/4,0],outlineWidth:0.04,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:[\"seed: \",seed.type,\" \",'\\n',\"quantity: \",seed.quantity]})})}));}function NoSeedText(props){var mesh=useRef();return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,children:/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(Text,{fontSize:0.05,position:[0.5,props.index/4,0],outlineWidth:0.04,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:\"No seeds available\"})})}));}function SeedBoxStalactite(props){var mesh=useRef();var handleClick=function handleClick(event){event.stopPropagation();};return/*#__PURE__*/_jsx(\"group\",{children:/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:1,onClick:function onClick(event){return handleClick(event);},children:[/*#__PURE__*/_jsx(\"cylinderGeometry\",{args:[0.2,0.01,0.5,12]}),/*#__PURE__*/_jsx(\"meshToonMaterial\",{color:'#6c757d'})]}))});}export default SeedBox;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/SeedBox.jsx"],"names":["RoundedBox","Text","Billboard","React","useRef","useState","useEffect","createId","seedTextColours","type","outline","selectedSeedTextColours","SeedBox","props","console","log","mesh","seeds","selectSeed","toggleSeeds","seedSelectors","seedList","index","length","seed","quantity","colours","chosenSeed","push","SeedButton","clickScale","setClickscale","handleClick","setTimeout","SeedText","selected","setSelected","event","stopPropagation","NoSeedText","SeedBoxStalactite"],"mappings":"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","sourcesContent":["import { RoundedBox, Text, Billboard } from '@react-three/drei'\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { createId } from '../functions'\n\n// Creates a button that 'clicks'\n\nconst seedTextColours = {type: \"#293241\", outline: \"#b1b5c8\"}\nconst selectedSeedTextColours = {type: \"#b1b5c8\", outline: \"#293241\"}\n\nfunction SeedBox(props) {\n\n  console.log(\"PROPS IN SEEDBOX\")\n  console.log(props)\n  const mesh = useRef()\n\n\n\n\n\n  return (\n  <>\n  <mesh\n    {...props}\n    ref={mesh}\n    scale={1}\n    >\n  <SeedBoxStalactite seeds={props.seeds} selectSeed={props.selectSeed}/>\n  <SeedButton position={[0, 0.1, 0]} toggleSeeds={props.toggleSeeds}/>\n   {seedSelectors(props)}\n  </mesh>\n  </>\n\n\n)\n}\n\nfunction seedSelectors(props) {\n  console.log(\"PROPS in SEEDSELECTORS\")\n  console.log(props)\n  if (!props.seedList) {\n    return []\n  }\n  let seedSelectors = []\n  for (let index = 0; index < props.seeds.length; index++) {\n    console.log(\"Generating seedselectors\")\n    let seed = props.seeds[index]\n    if (seed.quantity === 0) { continue }\n    let colours = {}\n    seed.type === props.chosenSeed ? colours = selectedSeedTextColours : colours = seedTextColours\n    seedSelectors.push( <SeedText selectSeed={props.selectSeed} seed={seed} colours={colours} index={index} position={[0, 0, 0]} />)\n  }\n  if (seedSelectors.length === 0) {\n    seedSelectors.push( <NoSeedText colours={seedTextColours} index={1} />)\n  }\n  return seedSelectors\n}\n\nfunction SeedButton(props) {\n\n  const mesh = useRef()\n  const [clickScale, setClickscale] = useState(1)\n\n  const handleClick = () => {\n    setClickscale(0.97)\n    props.toggleSeeds()\n    setTimeout(() => {\n      setClickscale(1)\n    }, 100)\n  };\n\n\nreturn (\n  <>\n  <mesh\n  {...props}\n  ref={mesh}\n  onClick={handleClick}\n  scale={clickScale}\n  >\n  <RoundedBox onClick={handleClick} args={[0.2, 0.2, 0.2]} radius={0.05} smoothness={4} {...props}>\n  <meshToonMaterial attach=\"material\" color=\"#212529\" />\n  </RoundedBox>\n  </mesh>\n  </>\n  )\n}\n\nfunction SeedText(props) {\n  const seed = props.seed\n  const mesh = useRef()\n  const [selected, setSelected] = useState(false)\n\n  const handleClick = (event) => {\n    event.stopPropagation()\n    console.log(seed.type)\n    props.selectSeed(seed.type, props.index)\n  }\n\n\n  return (\n      <mesh\n        {...props}\n        ref={mesh}\n        >\n        <Billboard\n        follow={true}\n        lockX={false}\n        lockY={false}\n        lockZ={false} >\n        < Text\n        fontSize={0.05}\n        onClick={(event) => handleClick(event)}\n        position={[0.5, props.index/4, 0]}\n        outlineWidth={0.04}\n        outlineColor={props.colours.outline}\n        color={props.colours.type}\n        rotation={[0, 0, 0]} >\n          seed: {seed.type} {'\\n'}\n          quantity: {seed.quantity}\n        </ Text>\n        </ Billboard>\n      </mesh>\n      )\n    }\n\nfunction NoSeedText(props) {\n      const mesh = useRef()\n\n      return (\n          <mesh\n            {...props}\n            ref={mesh}\n            >\n            <Billboard\n            follow={true}\n            lockX={false}\n            lockY={false}\n            lockZ={false} >\n            < Text\n            fontSize={0.05}\n            position={[0.5, props.index/4, 0]}\n            outlineWidth={0.04}\n            outlineColor={props.colours.outline}\n            color={props.colours.type}\n            rotation={[0, 0, 0]} >\n              No seeds available\n            </ Text>\n            </Billboard>\n          </mesh>\n        )\n  }\n\n\nfunction SeedBoxStalactite(props) {\n\n      const mesh = useRef()\n      const handleClick = (event) => {\n        event.stopPropagation()\n      }\n\n      return (\n        <group>\n        <mesh\n          {...props}\n          ref={mesh}\n          scale={1}\n          onClick={(event) => handleClick(event)}\n          >\n          <cylinderGeometry args={[0.2, 0.01, 0.5, 12]} />\n          <meshToonMaterial color={'#6c757d'}  />\n        </mesh>\n        </group>\n      )\n    }\n\nexport default SeedBox\n"]},"metadata":{},"sourceType":"module"}