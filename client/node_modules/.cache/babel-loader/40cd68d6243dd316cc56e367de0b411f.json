{"ast":null,"code":"import _objectSpread from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useEffect}from\"react\";import{Text,Billboard}from'@react-three/drei';import{useFrame}from\"@react-three/fiber\";import{createId,updateBalloons}from'../../functions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Balloon(props){var mesh=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),claimed=_useState2[0],setClaimed=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),displayMessage=_useState4[0],setDisplaymessage=_useState4[1];var handleClick=function handleClick(){if(!claimed){props.handleClick();if(props.type!==\"introBalloon\"){setClaimed(function(prev){return!prev;});updateBalloons(props.balloonId);}// introballoons (save/new world) can't be claimed\n}setDisplaymessage(function(prev){return!prev;});};useEffect(function(){setClaimed(claimed);setDisplaymessage(displayMessage);},[]);// Set up state for the hovered and active state\n// Rotate mesh every frame, this is outside of React without overhead\n// useFrame(() => (mesh.current.rotation.y += 0.002))\nreturn/*#__PURE__*/_jsx(\"group\",{children:/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:0.8,onClick:handleClick,children:[/*#__PURE__*/_jsx(BalloonBody,{colour:props.colour}),/*#__PURE__*/_jsx(BalloonCone,{colour:props.colour,position:[0,-0.18,0]}),/*#__PURE__*/_jsx(BalloonString,{position:[0,-0.15,0]}),/*#__PURE__*/_jsx(BalloonCrate,{position:[0,-0.48,0]}),/*#__PURE__*/_jsx(Billboard,{follow:true,lockX:false,lockY:false,lockZ:false,children:/*#__PURE__*/_jsx(BalloonText,{type:props.type,displayMessage:displayMessage,position:[0,-0.9,0],claimed:claimed,message:props.message})})]}))});}function BalloonText(props){var ballonTextColour={message:\"#293241\",outline:\"#b1b5c8\"};var mesh=useRef();return/*#__PURE__*/_jsx(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:0.8,children:/*#__PURE__*/_jsxs(Text,{fontSize:0.2,outlineWidth:0.2,outlineColor:ballonTextColour.outline,color:ballonTextColour.message,children:[\" \",props.displayMessage||props.type===\"introBalloon\"?props.message:\"\",\" \"]})}));}function BalloonBody(props){var mesh=useRef();useFrame(function(state,delta){return mesh.current.rotation.y+=0.01;});return/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/_jsx(\"dodecahedronGeometry\",{args:[0.153,8]}),/*#__PURE__*/_jsx(\"meshToonMaterial\",{color:props.colour})]}));}function BalloonString(props){var mesh=useRef();useFrame(function(state,delta){return mesh.current.rotation.y+=0.01;});// Set up state for the hovered and active state\nreturn/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/_jsx(\"cylinderGeometry\",{args:[0.005,0.005,0.5,3]}),/*#__PURE__*/_jsx(\"meshToonMaterial\",{color:'#16161D'})]}));}function BalloonCone(props){var mesh=useRef();useFrame(function(state,delta){return mesh.current.rotation.y+=0.01;});// Set up state for the hovered and active state\nreturn/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/_jsx(\"cylinderGeometry\",{args:[0.15,-0.01,0.3,16]}),/*#__PURE__*/_jsx(\"meshToonMaterial\",{color:props.colour})]}));}function BalloonCrate(props){var mesh=useRef();useFrame(function(state,delta){return mesh.current.rotation.y+=0.01;});// Set up state for the hovered and active state\nreturn/*#__PURE__*/_jsxs(\"mesh\",_objectSpread(_objectSpread({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/_jsx(\"boxGeometry\",{args:[0.15,0.15,0.15]}),/*#__PURE__*/_jsx(\"meshToonMaterial\",{color:'#7f5539'})]}));}export default Balloon;","map":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Balloons/Balloon.jsx"],"names":["React","useRef","useState","useEffect","Text","Billboard","useFrame","createId","updateBalloons","Balloon","props","mesh","claimed","setClaimed","displayMessage","setDisplaymessage","handleClick","type","prev","balloonId","colour","message","BalloonText","ballonTextColour","outline","BalloonBody","state","delta","current","rotation","y","BalloonString","BalloonCone","BalloonCrate"],"mappings":"ydAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,mBAAhC,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAASC,QAAT,CAAmBC,cAAnB,KAAyC,iBAAzC,C,wFAIA,QAASC,CAAAA,OAAT,CAAiBC,KAAjB,CAAwB,CAEtB,GAAMC,CAAAA,IAAI,CAAGV,MAAM,EAAnB,CACA,cAA8BC,QAAQ,CAAC,KAAD,CAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAA4CX,QAAQ,CAAC,KAAD,CAApD,yCAAOY,cAAP,eAAuBC,iBAAvB,eAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAI,CAACJ,OAAL,CAAc,CACZF,KAAK,CAACM,WAAN,GACA,GAAIN,KAAK,CAACO,IAAN,GAAe,cAAnB,CAAmC,CACjCJ,UAAU,CAAC,SAAAK,IAAI,QAAI,CAACA,IAAL,EAAL,CAAV,CACAV,cAAc,CAACE,KAAK,CAACS,SAAP,CAAd,CACD,CAAC;AACH,CACDJ,iBAAiB,CAAC,SAAAG,IAAI,QAAI,CAACA,IAAL,EAAL,CAAjB,CACD,CATD,CAWAf,SAAS,CAAC,UAAM,CACdU,UAAU,CAACD,OAAD,CAAV,CACAG,iBAAiB,CAACD,cAAD,CAAjB,CACD,CAHQ,CAGN,EAHM,CAAT,CAQA;AACA;AACA;AAIA,mBACE,oCACA,4CACMJ,KADN,MAEE,GAAG,CAAEC,IAFP,CAGE,KAAK,CAAE,GAHT,CAIE,OAAO,CAAEK,WAJX,wBAME,KAAC,WAAD,EAAa,MAAM,CAAEN,KAAK,CAACU,MAA3B,EANF,cAOE,KAAC,WAAD,EAAa,MAAM,CAAIV,KAAK,CAACU,MAA7B,CAAqC,QAAQ,CAAE,CAAC,CAAD,CAAI,CAAC,IAAL,CAAW,CAAX,CAA/C,EAPF,cAQE,KAAC,aAAD,EAAe,QAAQ,CAAE,CAAC,CAAD,CAAI,CAAC,IAAL,CAAW,CAAX,CAAzB,EARF,cASE,KAAC,YAAD,EAAc,QAAQ,CAAE,CAAC,CAAD,CAAI,CAAC,IAAL,CAAW,CAAX,CAAxB,EATF,cAUE,KAAC,SAAD,EACA,MAAM,CAAE,IADR,CAEA,KAAK,CAAE,KAFP,CAGA,KAAK,CAAE,KAHP,CAIA,KAAK,CAAE,KAJP,uBAKA,KAAC,WAAD,EAAa,IAAI,CAAEV,KAAK,CAACO,IAAzB,CAA+B,cAAc,CAAEH,cAA/C,CAA+D,QAAQ,CAAE,CAAC,CAAD,CAAI,CAAC,GAAL,CAAU,CAAV,CAAzE,CAAuF,OAAO,CAAEF,OAAhG,CAAyG,OAAO,CAAEF,KAAK,CAACW,OAAxH,EALA,EAVF,IADA,EADF,CAuBA,CAED,QAASC,CAAAA,WAAT,CAAqBZ,KAArB,CAA4B,CAE1B,GAAMa,CAAAA,gBAAgB,CAAG,CACvBF,OAAO,CAAE,SADc,CAEvBG,OAAO,CAAE,SAFc,CAAzB,CAKA,GAAMb,CAAAA,IAAI,CAAGV,MAAM,EAAnB,CAEA,mBACE,2CACMS,KADN,MAEE,GAAG,CAAEC,IAFP,CAGE,KAAK,CAAE,GAHT,uBAKE,MAAC,IAAD,EAAM,QAAQ,CAAE,GAAhB,CAAqB,YAAY,CAAE,GAAnC,CAAwC,YAAY,CAAEY,gBAAgB,CAACC,OAAvE,CAAgF,KAAK,CAAED,gBAAgB,CAACF,OAAxG,eAAoHX,KAAK,CAACI,cAAN,EAAwBJ,KAAK,CAACO,IAAN,GAAe,cAAvC,CAAwDP,KAAK,CAACW,OAA9D,CAAwE,EAA5L,OALF,GADF,CASD,CAGD,QAASI,CAAAA,WAAT,CAAqBf,KAArB,CAA4B,CAE1B,GAAMC,CAAAA,IAAI,CAAGV,MAAM,EAAnB,CACAK,QAAQ,CAAC,SAACoB,KAAD,CAAQC,KAAR,QAAoBhB,CAAAA,IAAI,CAACiB,OAAL,CAAaC,QAAb,CAAsBC,CAAtB,EAA2B,IAA/C,EAAD,CAAR,CAGA,mBACE,4CACMpB,KADN,MAEE,GAAG,CAAEC,IAFP,CAGE,KAAK,CAAE,CAHT,wBAKF,6BAAsB,IAAI,CAAE,CAAC,KAAD,CAAQ,CAAR,CAA5B,EALE,cAMF,yBAAkB,KAAK,CAAED,KAAK,CAACU,MAA/B,EANE,IADF,CAUD,CAED,QAASW,CAAAA,aAAT,CAAuBrB,KAAvB,CAA8B,CAE5B,GAAMC,CAAAA,IAAI,CAAGV,MAAM,EAAnB,CACAK,QAAQ,CAAC,SAACoB,KAAD,CAAQC,KAAR,QAAoBhB,CAAAA,IAAI,CAACiB,OAAL,CAAaC,QAAb,CAAsBC,CAAtB,EAA2B,IAA/C,EAAD,CAAR,CAEA;AAGA,mBACE,4CACMpB,KADN,MAEE,GAAG,CAAEC,IAFP,CAGE,KAAK,CAAE,CAHT,wBAKE,yBAAkB,IAAI,CAAE,CAAC,KAAD,CAAQ,KAAR,CAAe,GAAf,CAAoB,CAApB,CAAxB,EALF,cAME,yBAAkB,KAAK,CAAE,SAAzB,EANF,IADF,CAUA,CAED,QAASqB,CAAAA,WAAT,CAAqBtB,KAArB,CAA4B,CAC1B,GAAMC,CAAAA,IAAI,CAAGV,MAAM,EAAnB,CACAK,QAAQ,CAAC,SAACoB,KAAD,CAAQC,KAAR,QAAoBhB,CAAAA,IAAI,CAACiB,OAAL,CAAaC,QAAb,CAAsBC,CAAtB,EAA2B,IAA/C,EAAD,CAAR,CAEA;AAGA,mBACE,4CACMpB,KADN,MAEE,GAAG,CAAEC,IAFP,CAGE,KAAK,CAAE,CAHT,wBAKE,yBAAkB,IAAI,CAAE,CAAC,IAAD,CAAO,CAAC,IAAR,CAAc,GAAd,CAAmB,EAAnB,CAAxB,EALF,cAME,yBAAkB,KAAK,CAAED,KAAK,CAACU,MAA/B,EANF,IADF,CAUA,CAED,QAASa,CAAAA,YAAT,CAAsBvB,KAAtB,CAA6B,CAC3B,GAAMC,CAAAA,IAAI,CAAGV,MAAM,EAAnB,CACAK,QAAQ,CAAC,SAACoB,KAAD,CAAQC,KAAR,QAAoBhB,CAAAA,IAAI,CAACiB,OAAL,CAAaC,QAAb,CAAsBC,CAAtB,EAA2B,IAA/C,EAAD,CAAR,CAEA;AAGA,mBACE,4CACMpB,KADN,MAEE,GAAG,CAAEC,IAFP,CAGE,KAAK,CAAE,CAHT,wBAKE,oBAAa,IAAI,CAAE,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,CAAnB,EALF,cAME,yBAAkB,KAAK,CAAE,SAAzB,EANF,IADF,CAUA,CAEL,cAAeF,CAAAA,OAAf","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Text, Billboard } from '@react-three/drei'\nimport { useFrame } from \"@react-three/fiber\";\nimport { createId, updateBalloons } from '../../functions'\n\n\n\nfunction Balloon(props) {\n\n  const mesh = useRef()\n  const [claimed, setClaimed] = useState(false)\n  const [displayMessage, setDisplaymessage] = useState(false)\n\n\n  const handleClick = () => {\n    if (!claimed) {\n      props.handleClick()\n      if (props.type !== \"introBalloon\") {\n        setClaimed(prev => !prev)\n        updateBalloons(props.balloonId)\n      } // introballoons (save/new world) can't be claimed\n    }\n    setDisplaymessage(prev => !prev)\n  }\n\n  useEffect(() => {\n    setClaimed(claimed)\n    setDisplaymessage(displayMessage)\n  }, [])\n\n\n\n\n  // Set up state for the hovered and active state\n  // Rotate mesh every frame, this is outside of React without overhead\n  // useFrame(() => (mesh.current.rotation.y += 0.002))\n\n\n\n  return (\n    <group>\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={0.8}\n      onClick={handleClick}\n      >\n      <BalloonBody colour={props.colour} />\n      <BalloonCone colour = {props.colour} position={[0, -0.18, 0]}/>\n      <BalloonString position={[0, -0.15, 0]}/>\n      <BalloonCrate position={[0, -0.48, 0]}/>\n      <Billboard\n      follow={true}\n      lockX={false}\n      lockY={false}\n      lockZ={false} >\n      <BalloonText type={props.type} displayMessage={displayMessage} position={[0, -0.9, 0]} claimed={claimed} message={props.message} />\n      </Billboard>\n    </mesh>\n      </group>\n\n  )\n }\n\n function BalloonText(props) {\n\n   const ballonTextColour = {\n     message: \"#293241\",\n     outline: \"#b1b5c8\"\n   }\n\n   const mesh = useRef()\n\n   return (\n     <mesh\n       {...props}\n       ref={mesh}\n       scale={0.8}\n       >\n       <Text fontSize={0.2} outlineWidth={0.2} outlineColor={ballonTextColour.outline} color={ballonTextColour.message} > {props.displayMessage || props.type === \"introBalloon\" ? props.message : \"\" } </Text>\n       </mesh>\n   )\n }\n\n\n function BalloonBody(props) {\n\n   const mesh = useRef()\n   useFrame((state, delta) => ( mesh.current.rotation.y += 0.01))\n\n\n   return (\n     <mesh\n       {...props}\n       ref={mesh}\n       scale={1}\n       >\n   <dodecahedronGeometry args={[0.153, 8]} />\n   <meshToonMaterial color={props.colour} />\n   </mesh>\n )\n }\n\n function BalloonString(props) {\n\n   const mesh = useRef()\n   useFrame((state, delta) => ( mesh.current.rotation.y += 0.01))\n\n   // Set up state for the hovered and active state\n\n\n   return (\n     <mesh\n       {...props}\n       ref={mesh}\n       scale={1}\n       >\n       <cylinderGeometry args={[0.005, 0.005, 0.5, 3]} />\n       <meshToonMaterial color={'#16161D'} />\n     </mesh>\n   )\n  }\n\n  function BalloonCone(props) {\n    const mesh = useRef()\n    useFrame((state, delta) => ( mesh.current.rotation.y += 0.01))\n\n    // Set up state for the hovered and active state\n\n\n    return (\n      <mesh\n        {...props}\n        ref={mesh}\n        scale={1}\n        >\n        <cylinderGeometry args={[0.15, -0.01, 0.3, 16]} />\n        <meshToonMaterial color={props.colour} />\n      </mesh>\n    )\n   }\n\n   function BalloonCrate(props) {\n     const mesh = useRef()\n     useFrame((state, delta) => ( mesh.current.rotation.y += 0.01))\n\n     // Set up state for the hovered and active state\n\n\n     return (\n       <mesh\n         {...props}\n         ref={mesh}\n         scale={1}\n         >\n         <boxGeometry args={[0.15, 0.15, 0.15]} />\n         <meshToonMaterial color={'#7f5539'} />\n       </mesh>\n     )\n    }\n\nexport default Balloon\n"]},"metadata":{},"sourceType":"module"}