{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){\"use strict\";n.r(t);var a=n(1),r=n.n(a),o=n(58),s=n.n(o),c=n(0),i=n(2),l=n(10),u=n(4),j=n(5);function d(e){var t,n=!0,a={};if(e.length===h.length)return e;for(;n;)n=b(a=(t=h)[Math.floor(Math.random()*t.length)],e);return function(e,t,n){for(var a=[],r=0;r<e.length;r++){var o=e[r];o.type===t.type&&(console.log(t),o.quantity+=t.quantity,console.log(o)),a.push(o)}n&&a.push(t);return a}(e,a,!0)}function b(e,t){for(var n=0;n<t.length;n++){if(t[n].type===e.type)return!0}return!1}var h=[{type:\"generic_plant\",quantity:3},{type:\"tulip\",quantity:3},{type:\"sunflower\",quantity:3},{type:\"crocus\",quantity:3},{type:\"snowdrop\",quantity:3},{type:\"rose\",quantity:3},{type:\"venusFlyTrap\",quantity:3}];function O(e,t){var n=new Date(e),a=new Date(t).getTime()-n.getTime();return Math.round(a/864e5)}var f=n(105);function p(){return Object(f.a)()}var m=n(9),g=n(21),x=n(3);function v(e){console.log(\"In createBalloons\"),console.log(e.balloons.length);var t=[],n=e.balloons,a=e.removeBalloon,r=e.updateSeeds,o=e.seeds;console.log(n);for(var s=0;s<n.length;s++){var c=n[s];t.push(Object(x.jsx)(y,{claimed:c.claimed,updateSeeds:r,removeBalloon:a,seeds:o,position:c.position,index:s,colour:c.colour},p()))}return t}function y(e){var t=Object(a.useRef)();Object(g.c)((function(e,n){return t.current.rotation.y+=.01}));return Object(x.jsx)(\"group\",{children:Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.8,onClick:function(){if(!e.claimed){var t=Math.floor(Math.random()*e.seeds.length);e.updateSeeds(3,t),e.removeBalloon(e.index)}},children:[Object(x.jsx)(w,{colour:e.colour}),Object(x.jsx)(S,{colour:e.colour,position:[0,-.18,0]}),Object(x.jsx)(C,{position:[0,-.15,0]}),Object(x.jsx)(k,{position:[0,-.48,0]})]}))})}function w(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)(\"dodecahedronGeometry\",{args:[.153,8]}),Object(x.jsx)(\"meshToonMaterial\",{color:e.colour})]}))}function C(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)(\"cylinderGeometry\",{args:[.005,.005,.5,3]}),Object(x.jsx)(\"meshToonMaterial\",{color:\"#16161D\"})]}))}function S(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)(\"cylinderGeometry\",{args:[.15,-.01,.3,16]}),Object(x.jsx)(\"meshToonMaterial\",{color:e.colour})]}))}function k(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)(\"boxGeometry\",{args:[.15,.15,.15]}),Object(x.jsx)(\"meshToonMaterial\",{color:\"#7f5539\"})]}))}var N=function(e){var t=Object(a.useRef)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:v(e)}))})},R=n(102);Object(g.b)({OrbitControls:R.a});var U=function(){var e=Object(g.d)(),t=e.camera,n=e.gl.domElement,r=Object(a.useRef)();return Object(g.c)((function(e){return r.current.update()})),Object(x.jsx)(\"orbitControls\",{ref:r,position:[0,-10,0],args:[t,n],autoRotate:!0,autoRotateSpeed:.2,enabled:!0})},G=n(107);function P(e){return Object(x.jsx)(G.a,Object(m.a)({turbidity:.01,distance:45e4,sunPosition:[0,1,0],inclination:.47,elevation:.6,exposure:.3,mieDirectionalG:.04,mieCoefficient:.0045,rayleigh:.1,azimuth:.6},e))}n(49);var T,M,W=function(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(t){return e.sowPlant(t)},children:[Object(x.jsx)(\"cylinderGeometry\",{args:e.args}),Object(x.jsx)(\"meshToonMaterial\",{color:\"#a7c957\"})]}))},L=n(16),I=n(17),q=n.p+\"static/media/seedbankProto.6cdc7966.png\",E=I.a.a.attrs({className:\"navbar-brand\"})(T||(T=Object(L.a)([\"\"]))),D=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"render\",value:function(){return Object(x.jsx)(E,{href:\"https://example.com\",children:Object(x.jsx)(\"img\",{src:q,height:\"50\",alt:\"seedbank\"})})}}]),n}(a.Component),B=D,A=n(32),F=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"render\",value:function(){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(A.b,{to:\"/\",className:\"navbar-brand\",children:\"SeedBank\"}),Object(x.jsx)(A.b,{to:\"/\",className:\"navbar-brand\",children:this.props.user})]})}}]),n}(a.Component),z=F,J=I.a.nav.attrs({className:\"navbar navbar-expand-lg navbar-dark bg-dark\"})(M||(M=Object(L.a)([\"\\n    margin-bottom: 20 px;\\n\"]))),_=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:\"render\",value:function(){return Object(x.jsxs)(J,{height:\"50%\",children:[Object(x.jsx)(B,{}),Object(x.jsx)(z,{user:this.props.user,setUser:this.props.setUser})]})}}]),n}(a.Component),X=_,Y=n(103),Z=n(106);var H=function(e){var t=qe();return Object(x.jsx)(Y.a,{position:[.5,1,6],args:[20,200],follow:!0,lockX:!1,lockY:!1,lockZ:!1,children:Object(x.jsxs)(Z.a,{fontSize:.5,color:\"#857c8d\",children:[t.day,\" \",t.month,\" \",t.year]})})},K=n(11);function Q(e){var t=Object(K.a)(e.position,3),n=(t[0],t[1],t[2],function(e){switch(e){case\"generic_plant\":return{bloom:1,leafColour:\"#377F34\",stemColour:\"#499B4A\",flowerColour:\"#832134\"};case\"tulip\":return{bloom:2,leafColour:\"#2D5A27\",stemColour:\"#567d46\",flowerColour:\"#ff878d\"};case\"sunflower\":return{bloom:4,leafColour:\"#75ae92\",stemColour:\"#82ac80\",flowerColour:\"#f8ec89\"};case\"crocus\":return{bloom:1,leafColour:\"#76c893\",stemColour:\"#52b69a\",flowerColour:\"#3a0ca3\"};case\"snowdrop\":return{bloom:1,leafColour:\"#76c893\",stemColour:\"#52b69a\",flowerColour:\"#f8f9fa\"};case\"rose\":return{bloom:5,leafColour:\"#499B4A\",stemColour:\"#75ae92\",flowerColour:\"#9e0059\"};case\"venusFlyTrap\":return{bloom:7,leafColour:\"#ccd5ae\",stemColour:\"#ccd5ae\",flowerColour:\"#ccd5ae\"};default:return}}(e.type)),a=n.bloom,r=n.leafColour,o=n.stemColour,s=n.flowerColour,c=e.growth;c>=a&&(c=a);for(var i=c/24,l=[Object(x.jsx)(V,{},p()),Object(x.jsx)($,{stemColour:o,stemLength:i,position:[0,.05,0]},p())],u=0;u<=c;u++)l.push(Object(x.jsx)(ee,{color:r,position:[.02,.1+u/18,.05]},p()),Object(x.jsx)(ee,{color:r,position:[-.02,.1+u/18,-.05]},p()));return c>=a&&l.push(Object(x.jsx)(te,{color:s,position:[0,.1+c/11,0]},p())),l}function V(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(x.jsx)(\"dodecahedronGeometry\",{args:[.035,2]}),Object(x.jsx)(\"meshToonMaterial\",{color:\"#947352\"})]}))}function $(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.5,children:[Object(x.jsx)(\"cylinderGeometry\",{args:[.01,.03,.3+e.stemLength,12]}),Object(x.jsx)(\"meshToonMaterial\",{color:e.stemColour})]}))}function ee(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(x.jsx)(\"cylinderGeometry\",{args:[.02,.05,.02,6]}),Object(x.jsx)(\"meshToonMaterial\",{color:e.color})]}))}function te(e){var t=Object(a.useRef)();return Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(x.jsx)(\"dodecahedronGeometry\",{args:[.06]}),Object(x.jsx)(\"meshToonMaterial\",{color:e.color})]}))}var ne=function(e){var t=Object(a.useRef)();return Object(x.jsx)(\"group\",{children:Object(x.jsx)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,onClick:function(t){return function(t){t.stopPropagation(),console.log(\"This plant is:\"),console.log(e)}(t)},scale:.2,children:Q(e)}))})},ae=n(104),re={type:\"#293241\",outline:\"#b1b5c8\"},oe={type:\"#b1b5c8\",outline:\"#293241\"};function se(e){if(console.log(\"PROPS in SEEDSELECTORS\"),console.log(e),!e.seedList)return[];for(var t=[],n=0;n<e.seeds.length;n++){console.log(\"Generating seedselectors\");var a=e.seeds[n];if(0!==a.quantity){var r={};r=a.type===e.chosenSeed?oe:re,t.push(Object(x.jsx)(ie,{selectSeed:e.selectSeed,seed:a,colours:r,index:n,position:[0,0,0]}))}}return 0===t.length&&t.push(Object(x.jsx)(le,{colours:re,index:1})),t}function ce(e){var t=Object(a.useRef)(),n=Object(a.useState)(1),r=Object(K.a)(n,2),o=r[0],s=r[1],c=function(){s(.97),e.toggleSeeds(),setTimeout((function(){s(1)}),100)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,onClick:c,scale:o,children:Object(x.jsx)(ae.a,Object(m.a)(Object(m.a)({onClick:c,args:[.2,.2,.2],radius:.05,smoothness:4},e),{},{children:Object(x.jsx)(\"meshToonMaterial\",{attach:\"material\",color:\"#212529\"})}))}))})}function ie(e){var t=e.seed,n=Object(a.useRef)(),r=Object(a.useState)(!1),o=Object(K.a)(r,2);o[0],o[1];return Object(x.jsx)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:n,children:Object(x.jsxs)(Z.a,{fontSize:.05,onClick:function(n){return function(n){n.stopPropagation(),console.log(t.type),e.selectSeed(t.type,e.index)}(n)},position:[.5,e.index/4,0],outlineWidth:.04,outlineColor:e.colours.outline,color:e.colours.type,rotation:[0,0,0],children:[\"seed: \",t.type,\" \",\"\\n\",\"quantity: \",t.quantity]})}))}function le(e){var t=Object(a.useRef)();return Object(x.jsx)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:Object(x.jsx)(Z.a,{fontSize:.05,position:[.5,e.index/4,0],outlineWidth:.04,outlineColor:e.colours.outline,color:e.colours.type,rotation:[0,0,0],children:\"No seeds available\"})}))}function ue(e){var t=Object(a.useRef)();return Object(x.jsx)(\"group\",{children:Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(x.jsx)(\"cylinderGeometry\",{args:[.2,.01,.5,12]}),Object(x.jsx)(\"meshToonMaterial\",{color:\"#6c757d\"})]}))})}var je,de,be=function(e){console.log(\"PROPS IN SEEDBOX\"),console.log(e);var t=Object(a.useRef)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)(ue,{seeds:e.seeds,selectSeed:e.selectSeed}),Object(x.jsx)(ce,{position:[0,.1,0],toggleSeeds:e.toggleSeeds}),se(e)]}))})},he=(I.a.button(je||(je=Object(L.a)([\"\\ncolor: palevioletred;\\nfont-size: 1em;\\nmargin: 1em;\\npadding: 0.25em 1em;\\nborder: 2px solid palevioletred;\\nborder-radius: 3px;\\n\"]))),I.a.div(de||(de=Object(L.a)([\"\\n  background-color: lightgrey;\\n  \"]))));var Oe=function(e){return Object(x.jsx)(he,{children:e.chosenSeed})};var fe=function(e){Object(a.useRef)();var t=Object(a.useRef)();return Object(x.jsx)(\"group\",{children:Object(x.jsx)(\"mesh\",Object(m.a)(Object(m.a)({ref:t},e),{},{children:Object(x.jsx)(\"directionalLight\",{position:[0,.5,1],intensity:.7})}))})};function pe(e){for(var t=e.world,n=[],a=0;a<t.stalactites.length;a++){var r=t.stalactites[a];n.push(Object(x.jsx)(me,{sowPlant:e.sowPlant,args:r.geometry,position:r.position,colour:r.colour},p()))}return n}function me(e){var t=Object(a.useRef)(),n=Object(K.a)(e.args,4),r=n[0],o=(n[1],n[2]),s=n[3];return Object(x.jsx)(\"group\",{children:Object(x.jsxs)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(x.jsx)(\"cylinderGeometry\",{args:e.args}),Object(x.jsx)(\"meshToonMaterial\",{color:e.colour}),Object(x.jsx)(W,{sowPlant:e.sowPlant,position:[0,o/2,0],args:[r,r,.01,s]})]}))})}var ge,xe,ve=function(e){var t=Object(a.useRef)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(\"mesh\",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:pe(e)}))})},ye=I.a.button(ge||(ge=Object(L.a)([\"\\ncolor: palevioletred;\\nfont-size: 1em;\\nmargin: 1em;\\npadding: 0.25em 1em;\\nborder: 2px solid palevioletred;\\nborder-radius: 3px;\\n\"]))),we=I.a.div(xe||(xe=Object(L.a)([\"\\n  background-color: lightgrey;\\n  \"])));var Ce=function(e){return Object(x.jsxs)(we,{children:[Object(x.jsx)(ye,{onClick:e.newWorld,children:\" New Garden \"}),Object(x.jsx)(ye,{onClick:e.saveWorld,children:\" Save Garden \"})]})};function Se(e){for(var t=[],n=qe(Date()).stamp,a=0;a<e.length;a++){var r=e[a],o=ke(r.date,n);t.push(Object(x.jsx)(ne,{growth:o,date:r.date,position:r.position,type:r.type},r.key))}return console.log(t),t}function ke(e,t){return console.log(e.stamp),console.log(t),O(e.stamp,t)}function Ne(e){return e[Math.floor(Math.random()*e.length)]}var Re=n(14),Ue=n.n(Re),Ge=n(19),Pe=n(66),Te=n.n(Pe).a.create({baseURL:\"/api\"}),Me={addUser:function(e){return Te.post(\"/user\",e)},getUser:function(e){return Te.get(\"/user/\".concat(e))},updateGarden:function(e,t){return Te.put(\"/user/\".concat(e),t)}};function We(e,t,n,a,r){return Le.apply(this,arguments)}function Le(){return(Le=Object(Ge.a)(Ue.a.mark((function e(t,n,a,r,o){var s,c,i,l,u,j,d,b;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Ie(n),c={garden:s},i={world:JSON.stringify(a)},l={seeds:o},u={worldChosen:r},j=qe(),d={lastLogin:j.stamp},b={garden:c,world:i,worldChosen:u,seeds:l,lastLogin:d},console.log(\"Attempting to save garden\"),e.next=11,Me.updateGarden(t,b).then((function(e){console.log(\"Garden updated successfully\")}));case 11:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){for(var t=[],n=0;n<e.length;n++){var a=e[n].key,r=e[n].props,o={key:a,growth:r.growth,date:r.date,position:r.position,type:r.type};t.push(o)}return t}function qe(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return{year:a,month:n,day:t,stamp:\"\".concat(a,\"/\").concat(n,\"/\").concat(t)}}function Ee(e){return Math.random()*(e.max-e.min)+e.min}var De=function e(t){Object(c.a)(this,e),this.id=p(),this.colour=Ne([\"#db504a\",\"#ff6f59\",\"#ffe200\",\"#9bf6ff\",\"#ffd6a5\",\"#caffbf\",\"#ffc6ff\",\"#bdb2ff\",\"#e9ff70\",\"#ff70a6\",\"#ff9770\"]),this.position=function(){var e={max:1.8,min:1.5},t={max:1.8,min:-1.8};return[Ee({max:2,min:-2}),Ee(e),Ee(t)]}(),this.claimed=!1};var Be=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();Object(c.a)(this,e),this.stalactites=t};function Ae(){for(var e=[],t=0,n=0;n<10;n++)e.push(Fe(t)),t+=.1;return e}function Fe(e){return{geometry:ze(e),position:Je(e),colour:Ne([\"#6C6460\",\"#8a817c\",\"#6c757d\"])}}function ze(e){var t={max:.8-e,min:.01};return[Ee({max:1.3-e,min:1-e}),Ee(t),Ee({max:2.3,min:1}),Ee({max:12,min:6})]}function Je(e){var t={max:0+e,min:1+e},n={max:.5,min:-.5};return[Ee(n),-Ee(t),Ee(n)]}n(98);var _e,Xe,Ye,Ze,He,Ke,Qe,Ve,$e,et,tt,nt=I.a.h1.attrs({className:\"h1\"})(_e||(_e=Object(L.a)([\"\"]))),at=I.a.div.attrs({className:\"form-group\"})(Xe||(Xe=Object(L.a)([\"\\n    margin: 0 30px;\\n\"]))),rt=I.a.label(Ye||(Ye=Object(L.a)([\"\\n    margin: 5px;\\n\"]))),ot=I.a.input.attrs({className:\"form-control\"})(Ze||(Ze=Object(L.a)([\"\\n    margin: 5px;\\n\"]))),st=I.a.button.attrs({className:\"btn btn-primary\"})(He||(He=Object(L.a)([\"\\n    margin: 15px 15px 15px 5px;\\n\"]))),ct=I.a.a.attrs({className:\"btn btn-danger\"})(Ke||(Ke=Object(L.a)([\"\\n    margin: 15px 15px 15px 5px;\\n\"]))),it=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputEmail=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({email:n});case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAddUser=Object(Ge.a)(Ue.a.mark((function e(){var t,n,r,o,s,c,i,l,u,j;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.name,r=t.email,o=t.password,s=new Be,c=JSON.stringify(s),i=[{type:\"generic_plant\",quantity:3},{type:\"tulip\",quantity:3}],!1,l=qe(),u=l.stamp,j={name:n,email:r,password:o,world:c,worldChosen:false,seeds:i,lastLogin:u},console.log(j),e.next=11,Me.addUser(j).then((function(e){window.alert(\"User added\"),a.setState({name:\"\",email:\"\",password:\"\"}),console.log(\"SEEDS on SIGN UP\"),console.log(i),a.props.setUser(n,e.data.id,[],s,!1,i,u)}));case 11:case\"end\":return e.stop()}}),e)}))),a.state={name:\"\",email:\"\",password:\"\"},a}return Object(i.a)(n,[{key:\"render\",value:function(){var e=this.state,t=e.name,n=e.email,a=e.password;return Object(x.jsxs)(at,{children:[Object(x.jsx)(nt,{children:\"Sign Up\"}),Object(x.jsx)(rt,{children:\"Name: \"}),Object(x.jsx)(ot,{type:\"text\",value:t,onChange:this.handleChangeInputName}),Object(x.jsx)(rt,{children:\"Email: \"}),Object(x.jsx)(ot,{type:\"text\",value:n,onChange:this.handleChangeInputEmail}),Object(x.jsx)(rt,{children:\"Password: \"}),Object(x.jsx)(ot,{type:\"text\",value:a,onChange:this.handleChangeInputPassword}),Object(x.jsx)(st,{onClick:this.handleAddUser,children:\"Sign Up\"}),Object(x.jsx)(ct,{href:\"/movies/list\",children:\"Cancel\"})]})}}]),n}(a.Component),lt=it,ut=I.a.h1.attrs({className:\"h1\"})(Qe||(Qe=Object(L.a)([\"\"]))),jt=I.a.div.attrs({className:\"form-group\"})(Ve||(Ve=Object(L.a)([\"\\n    margin: 0 30px;\\n\"]))),dt=I.a.label($e||($e=Object(L.a)([\"\\n    margin: 5px;\\n\"]))),bt=I.a.input.attrs({className:\"form-control\"})(et||(et=Object(L.a)([\"\\n    margin: 5px;\\n\"]))),ht=I.a.button.attrs({className:\"btn btn-primary\"})(tt||(tt=Object(L.a)([\"\\n    margin: 15px 15px 15px 5px;\\n\"]))),Ot=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleGetUser=Object(Ge.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getUser(a.state.name).then((function(e){if(console.log(e),console.log(\"Name is \"+e.data.data.name),a.state.password===e.data.data.password){var t=e.data.data.name,n=e.data.data._id,r=Se(e.data.data.garden),o=JSON.parse(e.data.data.world),s=e.data.data.seeds,c=e.data.data.worldChosen,i=e.data.data.lastLogin;window.alert(\"Welcome back \".concat(t)),a.props.setUser(t,n,r,o,c,s,i)}else window.alert(\"Incorrect password\")}));case 2:case\"end\":return e.stop()}}),e)}))),a.state={name:\"\",email:\"\",password:\"\"},a}return Object(i.a)(n,[{key:\"render\",value:function(){var e=this.state,t=e.name,n=(e.email,e.password);return Object(x.jsxs)(jt,{children:[Object(x.jsx)(ut,{children:\"Log In\"}),Object(x.jsx)(dt,{children:\"Name: \"}),Object(x.jsx)(bt,{type:\"text\",value:t,onChange:this.handleChangeInputName}),Object(x.jsx)(dt,{children:\"Password: \"}),Object(x.jsx)(bt,{type:\"text\",value:n,onChange:this.handleChangeInputPassword}),Object(x.jsx)(ht,{onClick:this.handleGetUser,children:\"Log In\"})]})}}]),n}(a.Component),ft=Ot,pt=n(13),mt=n(18);var gt=function(e){var t,n=Object(a.useState)(e.garden),r=Object(K.a)(n,2),o=r[0],s=r[1],c=Object(a.useState)(\"\"),i=Object(K.a)(c,2),l=i[0],u=i[1],j=Object(a.useState)(e.seeds),b=Object(K.a)(j,2),h=b[0],f=b[1],m=Object(a.useState)(null),v=Object(K.a)(m,2),y=v[0],w=v[1],C=Object(a.useState)(function(e,t,n,a){var r=O(n,a);console.log(r);var o=[];return O(n,a)>0&&o.push(new De),o}(0,0,e.lastLogin,e.today)),S=Object(K.a)(C,2),k=S[0],R=S[1],G=Object(a.useState)(!1),T=Object(K.a)(G,2),M=T[0],W=T[1],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=Object(mt.a)(h);n[t].quantity+=e,f(n),w(null)};return Object(a.useEffect)((function(){console.log(\"Calling saveGarden\"),We(e.id,o,e.world,e.worldChosen,h),W(M),function(){var e=o.length%5,t=o.length/5;if(0===e&&o.length>0&&h.length<t+2){console.log(\"Achievement!\");var n=d(h);console.log(\"New seeds is\"),console.log(n),f(n)}}()})),Object(x.jsxs)(\"div\",{className:\"App\",children:[Object(x.jsxs)(g.a,{id:\"canvas\",camera:{position:[0,2,3.5]},children:[Object(x.jsx)(U,{}),Object(x.jsxs)(a.Suspense,{fallback:console.log(\"loading\"),children:[Object(x.jsx)(ve,{sowPlant:function(e){if(l){var t=function(e,t){console.log(\"In createPlant\");var n=[e.point.x,e.point.y,e.point.z],a=p(),r=qe();return Object(x.jsx)(ne,{growth:0,date:r,position:n,type:t},a)}(e,l);u(\"\"),s((function(e){return[t].concat(Object(mt.a)(e))})),L(-1)}},position:[0,0,0],world:e.world,seeds:h}),Object(x.jsx)(be,(t={seeds:h,chosenSeed:l,seedList:M,position:[-1,-1,1.9],selectSeed:function(e,t){h[t];h[t].quantity>0&&(u(e),w(t))}},Object(pt.a)(t,\"chosenSeed\",l),Object(pt.a)(t,\"toggleSeeds\",(function(){W((function(e){return!e})),console.log(\"TOGGLE \"+M)})),t)),o,Object(x.jsx)(N,{removeBalloon:function(e){var t=k[e];t.claimed=!0,R((function(e){return[e.filter((function(e){return e.id!==t.id})),t]}))},updateSeeds:L,balloons:k,seeds:h}),Object(x.jsx)(fe,{}),Object(x.jsx)(P,{}),Object(x.jsx)(H,{today:e.today})]})]}),e.worldChosen?Object(x.jsx)(Oe,{chosenSeed:l}):Object(x.jsx)(Ce,{className:\"App-header\",newWorld:e.newWorld,saveWorld:e.saveWorld})]})},xt=(n(99),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={userName:\"\",id:0,garden:[],world:{},chosenWorld:!1,seeds:[],lastLogin:\"\"},a.setUser=a.setUser.bind(Object(l.a)(a)),a.newWorld=a.newWorld.bind(Object(l.a)(a)),a.saveWorld=a.saveWorld.bind(Object(l.a)(a)),a.connecToServer=a.connecToServer.bind(Object(l.a)(a)),a}return Object(i.a)(n,[{key:\"componentDidMount\",value:function(){this.connecToServer()}},{key:\"connecToServer\",value:function(){fetch(\"/\")}},{key:\"setUser\",value:function(e,t,n,a,r,o,s){this.setState({userName:e,id:t,garden:n,world:a,worldChosen:r,seeds:o,lastLogin:s,today:qe().stamp})}},{key:\"newWorld\",value:function(){var e=new Be;this.setState({world:e})}},{key:\"saveWorld\",value:function(){this.setState({worldChosen:!0}),We(this.state.id,[],this.state.world,!0,this.state.seeds)}},{key:\"render\",value:function(){return Object(x.jsxs)(\"div\",{style:{position:\"relative\",width:\"100%\",height:\"100%\"},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)(X,{user:this.state.userName,setUser:this.setUser})}),this.state.userName?Object(x.jsx)(gt,{id:this.state.id,newWorld:this.newWorld,world:this.state.world,worldChosen:this.state.worldChosen,saveWorld:this.saveWorld,seeds:this.state.seeds,garden:this.state.garden,lastLogin:this.state.lastLogin,today:this.state.today}):Object(x.jsxs)(\"div\",{children:[Object(x.jsx)(ft,{setUser:this.setUser}),\" \",Object(x.jsx)(lt,{setUser:this.setUser})]})]})}}]),n}(r.a.Component));s.a.render(Object(x.jsx)(xt,{}),document.getElementById(\"root\"))},49:function(e,t,n){},98:function(e,t,n){}},[[100,1,2]]]);","name":"static/js/main.4234d39a.chunk.js","map":{"version":3,"sources":["static/js/main.4234d39a.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","assertThisInitialized","inherits","createSuper","calculateAchievement","seeds","array","duplicate","newSeed","length","seedBank","checkDuplicate","Math","floor","random","unlock","updatedSeeds","index","seed","type","console","log","quantity","CalculateAchievement_updateSeeds","calculateDays","start","end","date1","Date","diffInTime","getTime","round","v4","createId","Object","objectSpread2","react_three_fiber_esm","jsx_runtime","createBalloons","props","balloons","balloonCollection","removeBalloon","updateSeeds","balloon","Balloons_Balloon","claimed","position","colour","mesh","state","delta","current","rotation","y","children","ref","scale","onClick","seedChoice","BalloonBody","BalloonCone","BalloonString","BalloonCrate","args","color","components_Balloons","OrbitControls","components_Camera","_useThree","camera","domElement","gl","controls","update","autoRotate","autoRotateSpeed","enabled","Sky","Firmament","turbidity","distance","sunPosition","inclination","elevation","exposure","mieDirectionalG","mieCoefficient","rayleigh","azimuth","_templateObject","NavBar_templateObject","components_Grass","event","sowPlant","taggedTemplateLiteral","styled_components_browser_esm","seedbankProto","p","Wrapper","a","attrs","className","Logo_Logo","_Component","Logo","_super","apply","arguments","key","value","href","src","height","alt","components_Logo","react_router_dom","Links_Links","Links","Fragment","to","user","components_Links","Nav","nav","NavBar_NavBar","NavBar","setUser","components_NavBar","Billboard","Text","components_Noticeboard","date","setDate","follow","lockX","lockY","lockZ","fontSize","day","month","year","slicedToArray","buildPlant","_props$position","_getSeed","bloom","leafColour","stemColour","flowerColour","getSeed","growth","stemLength","plant","Base","Stem","leaves","Leaf","Flower","components_Plant","stopPropagation","handleClick","RoundedBox","seedTextColours","outline","selectedSeedTextColours","SeedBox_seedSelectors","seedList","seedSelectors","colours","chosenSeed","SeedText","selectSeed","NoSeedText","SeedButton","_useState","_useState2","clickScale","setClickscale","toggleSeeds","setTimeout","radius","smoothness","attach","_useState3","_useState4","outlineWidth","outlineColor","SeedBoxStalactite","Seeds_templateObject","_templateObject2","components_SeedBox","Panel","button","div","components_Seeds","components_Sun","sunRef","intensity","createStalactites","world","createdStalactites","stalactites","stalactite","Stalactite","geometry","_props$args","top","depth","sections","Worlds_templateObject","Worlds_templateObject2","components_World","WorldButton","Worlds_Panel","Worlds","newWorld","saveWorld","loadGarden","garden","parsedGarden","today","stamp","parsedPlant","calculateGrowth","plantDate","Sample_sample","regenerator","regenerator_default","asyncToGenerator","axios","api","create","baseURL","src_api","addUser","payload","post","getUser","name","get","concat","updateGarden","id","put","saveGarden","_x","_x2","_x3","_x4","_x5","_saveGarden","mark","_callee","plants","chosen","savedSeeds","savedGarden","worldChosen","lastLogin","wrap","_context","prev","next","extractPlants","JSON","stringify","then","res","stop","extractedPlants","savedPlant","getDate","getMonth","getFullYear","randomiser","range","max","min","Balloon_Balloon","Balloon","z","generatePosition","WorldData_WorldData","WorldData","undefined","generateStalactites","offset","generateStalactite","stalactiteGeometry","stalactitePosition","stalactiteMin","stalactiteY","stalactiteXZ","SignUp_templateObject","SignUp_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","LogIn_templateObject","LogIn_templateObject2","LogIn_templateObject3","LogIn_templateObject4","LogIn_templateObject5","Title","h1","SignUp_Wrapper","Label","label","InputText","input","Button","CancelButton","SignUp_SignUp","SignUp","_this","call","handleChangeInputName","_ref","target","setState","handleChangeInputEmail","_ref2","_callee2","email","_context2","handleChangeInputPassword","_ref3","_callee3","password","_context3","handleAddUser","_callee4","_this$state","_context4","window","alert","data","_this$state2","onChange","pages_SignUp","LogIn_Title","LogIn_Wrapper","LogIn_Label","LogIn_InputText","LogIn_Button","LogIn_LogIn","LogIn","handleGetUser","_id","parse","pages_LogIn","defineProperty","toConsumableArray","pages_SeedBank","_jsx2","setPlants","setChosenseed","_useState5","_useState6","setSeeds","_useState7","_useState8","seedIndex","setSeedindex","_useState9","login","dateDifference","getBalloons","_useState10","setBalloons","_useState11","_useState12","setSeedlist","increment","fivePlants","achievementCount","newSeeds","checkAchievements","fallback","newPlant","point","x","createPlant","selectedSeed","prevState","removedBalloon","filter","app","_React$Component","App","userName","chosenWorld","bind","connecToServer","fetch","style","width","Component","render","document","getElementById","exports"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(58);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nvar assertThisInitialized = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\nvar inherits = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\nvar createSuper = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/functions/CalculateAchievement.js\nfunction calculateAchievement(seeds){var duplicate=true;var unlock=true;var newSeed={};if(seeds.length===seedBank.length){return seeds;// newSeed = sample(seedBank)\n// console.log(\"FULL BANK\")\n// unlock = false\n}else{while(duplicate){newSeed=sample(seedBank);duplicate=checkDuplicate(newSeed,seeds);}}return CalculateAchievement_updateSeeds(seeds,newSeed,unlock);}function sample(array){return array[Math.floor(Math.random()*array.length)];}function checkDuplicate(newSeed,seeds){for(var index=0;index<seeds.length;index++){var seed=seeds[index];if(seed.type===newSeed.type){return true;}}return false;}function CalculateAchievement_updateSeeds(seeds,newSeed,unlock){var updatedSeeds=[];for(var index=0;index<seeds.length;index++){var seed=seeds[index];if(seed.type===newSeed.type){console.log(newSeed);seed.quantity+=newSeed.quantity;console.log(seed);}updatedSeeds.push(seed);}if(unlock){updatedSeeds.push(newSeed);}return updatedSeeds;}var seedBank=[{type:\"generic_plant\",quantity:3},{type:\"tulip\",quantity:3},{type:\"sunflower\",quantity:3},{type:\"crocus\",quantity:3},{type:\"snowdrop\",quantity:3},{type:\"rose\",quantity:3},{type:\"venusFlyTrap\",quantity:3}];\n// CONCATENATED MODULE: ./src/functions/CalculateDays.js\n// calculates the difference in days between two dates using ISO strings for start and end\nfunction calculateDays(start,end){var date1=new Date(start);var date2=new Date(end);// One day in milliseconds\nvar oneDay=1000*60*60*24;// Calculating the time difference between two dates\nvar diffInTime=date2.getTime()-date1.getTime();//console.log(\"Time diff\")\n//console.log(diffInTime)\n// Calculating the no. of days between two dates\nvar diffInDays=Math.round(diffInTime/oneDay);return diffInDays;}\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(105);\n\n// CONCATENATED MODULE: ./src/functions/CreateId.js\n// generates a unique ID number \nfunction createId(){return Object(v4[\"a\" /* default */])();}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js + 4 modules\nvar react_three_fiber_esm = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/Balloons.jsx\nfunction Balloons(props){// This reference will give us direct access to the mesh\nvar mesh=Object(react[\"useRef\"])();// Set up state for the hovered and active state\n// Rotate mesh every frame, this is outside of React without overhead\n// useFrame(() => (mesh.current.rotation.y += 0.002))\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,children:createBalloons(props)}))});}function createBalloons(props){console.log(\"In createBalloons\");console.log(props.balloons.length);var balloonCollection=[];var balloons=props.balloons,removeBalloon=props.removeBalloon,updateSeeds=props.updateSeeds,seeds=props.seeds;console.log(balloons);for(var index=0;index<balloons.length;index++){var balloon=balloons[index];balloonCollection.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Balloons_Balloon,{claimed:balloon.claimed,updateSeeds:updateSeeds,removeBalloon:removeBalloon,seeds:seeds,position:balloon.position,index:index,colour:balloon.colour},createId()));}return balloonCollection;}function Balloons_Balloon(props){var mesh=Object(react[\"useRef\"])();Object(react_three_fiber_esm[\"c\" /* useFrame */])(function(state,delta){return mesh.current.rotation.y+=0.01;});// Set up state for the hovered and active state\n// Rotate mesh every frame, this is outside of React without overhead\n// useFrame(() => (mesh.current.rotation.y += 0.002))\nvar handleClick=function handleClick(){if(!props.claimed){var seedChoice=Math.floor(Math.random()*props.seeds.length);props.updateSeeds(3,seedChoice);props.removeBalloon(props.index);}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"group\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:0.8,onClick:handleClick,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BalloonBody,{colour:props.colour}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BalloonCone,{colour:props.colour,position:[0,-0.18,0]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BalloonString,{position:[0,-0.15,0]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BalloonCrate,{position:[0,-0.48,0]})]}))});}function BalloonBody(props){var mesh=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"dodecahedronGeometry\",{args:[0.153,8]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:props.colour})]}));}function BalloonString(props){var mesh=Object(react[\"useRef\"])();// Set up state for the hovered and active state\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"cylinderGeometry\",{args:[0.005,0.005,0.5,3]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:'#16161D'})]}));}function BalloonCone(props){var mesh=Object(react[\"useRef\"])();// Set up state for the hovered and active state\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"cylinderGeometry\",{args:[0.15,-0.01,0.3,16]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:props.colour})]}));}function BalloonCrate(props){var mesh=Object(react[\"useRef\"])();// Set up state for the hovered and active state\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"boxGeometry\",{args:[0.15,0.15,0.15]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:'#7f5539'})]}));}/* harmony default export */ var components_Balloons = (Balloons);\n// EXTERNAL MODULE: ./node_modules/three-stdlib/controls/OrbitControls.js\nvar OrbitControls = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./src/components/Camera.jsx\nObject(react_three_fiber_esm[\"b\" /* extend */])({OrbitControls:OrbitControls[\"a\" /* OrbitControls */]});var Camera_Camera=function Camera(){// Get a reference to the Three.js Camera, and the canvas html element.\n// We need these to setup the OrbitControls component.\n// https://threejs.org/docs/#examples/en/controls/OrbitControls\nvar _useThree=Object(react_three_fiber_esm[\"d\" /* useThree */])(),camera=_useThree.camera,domElement=_useThree.gl.domElement;// Ref to the controls, so that we can update them on every frame using useFrame\nvar controls=Object(react[\"useRef\"])();Object(react_three_fiber_esm[\"c\" /* useFrame */])(function(state){return controls.current.update();});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"orbitControls\",{ref:controls,position:[0,-10,0],args:[camera,domElement],autoRotate:true,autoRotateSpeed:0.2,enabled:true});};/* harmony default export */ var components_Camera = (Camera_Camera);\n// EXTERNAL MODULE: ./node_modules/@react-three/drei/core/Sky.js + 1 modules\nvar Sky = __webpack_require__(107);\n\n// CONCATENATED MODULE: ./src/components/Firmament.jsx\nfunction Firmament(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Sky[\"a\" /* Sky */],Object(objectSpread2[\"a\" /* default */])({turbidity:0.01,distance:450000// Camera distance (default=450000)\n,sunPosition:[0,1,0]// Sun position normal (defaults to inclination and azimuth if not set)\n,inclination:0.47// Sun elevation angle from 0 to 1 (default=0)\n,elevation:0.6,exposure:0.3,mieDirectionalG:0.04,mieCoefficient:0.0045,rayleigh:0.1,azimuth:0.6// Sun rotation around the Y axis from 0 to 1 (default=0.25)\n},props));}\n// EXTERNAL MODULE: ./src/style/App.css\nvar style_App = __webpack_require__(49);\n\n// CONCATENATED MODULE: ./src/components/Garden.jsx\n// Garden displays \"the world\", rendering the sun, the sky, the grass and plants\n// Receives instructions/props from the SeedBank page\nfunction Garden(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_three_fiber_esm[\"a\" /* Canvas */],{id:\"canvas\",camera:{position:[0,2,3.5],lookat:[0,0,0]},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Camera,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Suspense\"],{fallback:console.log(\"loading\"),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_World,{sowPlant:props.sowPlant,position:[0,0,0],world:props.world}),props.plants,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Balloons,{removeBalloon:props.removeBalloon,updateSeeds:props.updateSeeds,balloons:props.balloons,seeds:props.seeds})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Sun,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Firmament,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Noticeboard,{today:props.today})]});}//       <SeedBox seeds={props.seeds} position={[0, 0.2, 0]}/>\n/* harmony default export */ var components_Garden = (Garden);\n// CONCATENATED MODULE: ./src/components/Grass.jsx\n// The plane on which plants grow\nfunction Grass(props){// This reference will give us direct access to the mesh\nvar mesh=Object(react[\"useRef\"])();// Set up state for the hovered and active state\n// Rotate mesh every frame, this is outside of React without overhead\n// useFrame(() => (mesh.current.rotation.y += 0.002))\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,onClick:function onClick(event){return props.sowPlant(event);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"cylinderGeometry\",{args:props.args}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:'#a7c957'})]}));}/* harmony default export */ var components_Grass = (Grass);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./src/images/seedbankProto.png\n/* harmony default export */ var seedbankProto = (__webpack_require__.p + \"static/media/seedbankProto.6cdc7966.png\");\n// CONCATENATED MODULE: ./src/components/Logo.jsx\nvar _templateObject;var Wrapper=styled_components_browser_esm[\"a\" /* default */].a.attrs({className:'navbar-brand'})(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));var Logo_Logo=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Logo,_Component);var _super=Object(createSuper[\"a\" /* default */])(Logo);function Logo(){Object(classCallCheck[\"a\" /* default */])(this,Logo);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Logo,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Wrapper,{href:\"https://example.com\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:seedbankProto,height:\"50\",alt:\"seedbank\"})});}}]);return Logo;}(react[\"Component\"]);/* harmony default export */ var components_Logo = (Logo_Logo);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js + 6 modules\nvar react_router_dom = __webpack_require__(32);\n\n// CONCATENATED MODULE: ./src/components/Links.jsx\nvar Links_Links=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(Links,_Component);var _super=Object(createSuper[\"a\" /* default */])(Links);function Links(){Object(classCallCheck[\"a\" /* default */])(this,Links);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(Links,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",className:\"navbar-brand\",children:\"SeedBank\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",className:\"navbar-brand\",children:this.props.user})]});}}]);return Links;}(react[\"Component\"]);/* harmony default export */ var components_Links = (Links_Links);\n// CONCATENATED MODULE: ./src/components/NavBar.jsx\nvar NavBar_templateObject;var Nav=styled_components_browser_esm[\"a\" /* default */].nav.attrs({className:'navbar navbar-expand-lg navbar-dark bg-dark'})(NavBar_templateObject||(NavBar_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin-bottom: 20 px;\\n\"])));var NavBar_NavBar=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(NavBar,_Component);var _super=Object(createSuper[\"a\" /* default */])(NavBar);function NavBar(){Object(classCallCheck[\"a\" /* default */])(this,NavBar);return _super.apply(this,arguments);}Object(createClass[\"a\" /* default */])(NavBar,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Nav,{height:\"50%\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Logo,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Links,{user:this.props.user,setUser:this.props.setUser})]});}}]);return NavBar;}(react[\"Component\"]);/* harmony default export */ var components_NavBar = (NavBar_NavBar);\n// EXTERNAL MODULE: ./node_modules/@react-three/drei/core/Billboard.js\nvar Billboard = __webpack_require__(103);\n\n// EXTERNAL MODULE: ./node_modules/@react-three/drei/core/Text.js + 3 modules\nvar Text = __webpack_require__(106);\n\n// CONCATENATED MODULE: ./src/components/Noticeboard.jsx\nfunction Noticeboard(props){var date=setDate();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Billboard[\"a\" /* Billboard */],{position:[0.5,1,6],args:[20,200],follow:true,lockX:false,lockY:false,lockZ:false// Lock the rotation on the z axis (default=false)\n,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text[\"a\" /* Text */],{fontSize:0.5,color:\"#857c8d\",children:[date.day,\" \",date.month,\" \",date.year]})});}/* harmony default export */ var components_Noticeboard = (Noticeboard);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/components/Plant.jsx\n// Creates a Plant based on the props that it receives\nfunction Plant(props){var mesh=Object(react[\"useRef\"])();// Clicking on a plant should bring up its info\n// stopPropogation tells Three.js to only return info about the first mesh clicked\nvar handleClick=function handleClick(event){event.stopPropagation();console.log(\"This plant is:\");console.log(props);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"group\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,onClick:function onClick(event){return handleClick(event);},scale:0.2//  onPointerOver={(event) => setHover(true)}\n//  onPointerOut={(event) => setHover(false)}\n,children:buildPlant(props)}))});}// buildPlant constructs an array of plant components that can be rendered\n// Refactoring: remove magic numbers\n// Extra features: randomise size and position of components (eg leaves)\nfunction buildPlant(props){var _props$position=Object(slicedToArray[\"a\" /* default */])(props.position,3),x=_props$position[0],y=_props$position[1],z=_props$position[2];var _getSeed=getSeed(props.type),bloom=_getSeed.bloom,leafColour=_getSeed.leafColour,stemColour=_getSeed.stemColour,flowerColour=_getSeed.flowerColour;var growth=props.growth;// Stop plant from growing any further if it's in bloom\nif(growth>=bloom){growth=bloom;}// the length of the stem is based on the plant's growth\nvar stemLength=growth/24;// push the Base and Stem into the plant array\nvar plant=[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Base,{},createId()),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stem,{stemColour:stemColour,stemLength:stemLength,position:[0,0.05,0]},createId())];// Add leaves relative to the plant's growth level\nfor(var leaves=0;leaves<=growth;leaves++){plant.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Leaf,{color:leafColour,position:[0.02,0.1+leaves/18,0.05]},createId()),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Leaf,{color:leafColour,position:[-0.02,0.1+leaves/18,-0.05]},createId()));}// Add a flower to the array if it's in bloom\nif(growth>=bloom){plant.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Flower,{color:flowerColour,position:[0,0.1+growth/11,0]},createId()));}return plant;}function Base(props){var mesh=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"dodecahedronGeometry\",{args:[0.035,2]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:'#947352'})]}));}function Stem(props){var mesh=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:0.5,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"cylinderGeometry\",{args:[0.01,0.03,0.3+props.stemLength,12]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:props.stemColour})]}));}function Leaf(props){var mesh=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"cylinderGeometry\",{args:[0.02,0.05,0.02,6]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:props.color})]}));}function Flower(props){var mesh=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"dodecahedronGeometry\",{args:[0.06]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:props.color})]}));}/* harmony default export */ var components_Plant = (Plant);\n// EXTERNAL MODULE: ./node_modules/@react-three/drei/core/RoundedBox.js\nvar RoundedBox = __webpack_require__(104);\n\n// CONCATENATED MODULE: ./src/components/SeedBox.jsx\n// Creates a button that 'clicks'\nvar seedTextColours={type:\"#293241\",outline:\"#b1b5c8\"};var selectedSeedTextColours={type:\"#b1b5c8\",outline:\"#293241\"};function SeedBox(props){console.log(\"PROPS IN SEEDBOX\");console.log(props);var mesh=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SeedBoxStalactite,{seeds:props.seeds,selectSeed:props.selectSeed}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SeedButton,{position:[0,0.1,0],toggleSeeds:props.toggleSeeds}),SeedBox_seedSelectors(props)]}))});}function SeedBox_seedSelectors(props){console.log(\"PROPS in SEEDSELECTORS\");console.log(props);if(!props.seedList){return[];}var seedSelectors=[];for(var index=0;index<props.seeds.length;index++){console.log(\"Generating seedselectors\");var seed=props.seeds[index];if(seed.quantity===0){continue;}var colours={};seed.type===props.chosenSeed?colours=selectedSeedTextColours:colours=seedTextColours;seedSelectors.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SeedText,{selectSeed:props.selectSeed,seed:seed,colours:colours,index:index,position:[0,0,0]}));}if(seedSelectors.length===0){seedSelectors.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NoSeedText,{colours:seedTextColours,index:1}));}return seedSelectors;}function SeedButton(props){var mesh=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),clickScale=_useState2[0],setClickscale=_useState2[1];var handleClick=function handleClick(){setClickscale(0.97);props.toggleSeeds();setTimeout(function(){setClickscale(1);},100);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,onClick:handleClick,scale:clickScale,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoundedBox[\"a\" /* RoundedBox */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({onClick:handleClick,args:[0.2,0.2,0.2],radius:0.05,smoothness:4},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{attach:\"material\",color:\"#212529\"})}))}))});}function SeedText(props){var seed=props.seed;var mesh=Object(react[\"useRef\"])();var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var handleClick=function handleClick(event){event.stopPropagation();console.log(seed.type);props.selectSeed(seed.type,props.index);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Text[\"a\" /* Text */],{fontSize:0.05,onClick:function onClick(event){return handleClick(event);},position:[0.5,props.index/4,0],outlineWidth:0.04,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:[\"seed: \",seed.type,\" \",'\\n',\"quantity: \",seed.quantity]})}));}function NoSeedText(props){var mesh=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Text[\"a\" /* Text */],{fontSize:0.05,position:[0.5,props.index/4,0],outlineWidth:0.04,outlineColor:props.colours.outline,color:props.colours.type,rotation:[0,0,0],children:\"No seeds available\"})}));}function SeedBoxStalactite(props){var mesh=Object(react[\"useRef\"])();var handleClick=function handleClick(event){event.stopPropagation();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"group\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,onClick:function onClick(event){return handleClick(event);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"cylinderGeometry\",{args:[0.2,0.01,0.5,12]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:'#6c757d'})]}))});}/* harmony default export */ var components_SeedBox = (SeedBox);\n// CONCATENATED MODULE: ./src/components/Seeds.jsx\nvar Seeds_templateObject,_templateObject2;// Generates a panel that contains buttons of available Seeds\n// PROTOTYPE ONLY: need to design an interface that coould contain an indefinite number of seeds or objects\nvar Seeds_SeedButton=styled_components_browser_esm[\"a\" /* default */].button(Seeds_templateObject||(Seeds_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\ncolor: palevioletred;\\nfont-size: 1em;\\nmargin: 1em;\\npadding: 0.25em 1em;\\nborder: 2px solid palevioletred;\\nborder-radius: 3px;\\n\"])));var Panel=styled_components_browser_esm[\"a\" /* default */].div(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  background-color: lightgrey;\\n  \"])));function Seeds(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Panel,{children:props.chosenSeed});}function Seeds_seedCollection(props){var seeds=props.seeds,selectSeed=props.selectSeed;var seedCollection=[];var _loop=function _loop(index){var seed=seeds[index];seedCollection.push(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Seeds_SeedButton,{onClick:function onClick(event){return selectSeed(seed.type,index);},selectSeedtype:seed.type,quantity:seed.quantity,children:[seed.type,\" \",seed.quantity]},createId()));};for(var index=0;index<seeds.length;index++){_loop(index);}return seedCollection;}/* harmony default export */ var components_Seeds = (Seeds);\n// CONCATENATED MODULE: ./src/components/Sun.jsx\n// directionaLight is Three.js's daylight equivalent\n// values are arbitraty for now\nfunction Sun(props){var mesh=Object(react[\"useRef\"])();var sunRef=Object(react[\"useRef\"])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"group\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({ref:sunRef},props),{},{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"directionalLight\",{position:[0,0.5,1],intensity:0.7})}))});}/* harmony default export */ var components_Sun = (Sun);\n// CONCATENATED MODULE: ./src/components/World.jsx\n// The plane on which plants grow\nfunction World(props){// This reference will give us direct access to the mesh\nvar mesh=Object(react[\"useRef\"])();// Set up state for the hovered and active state\n// Rotate mesh every frame, this is outside of React without overhead\n// useFrame(() => (mesh.current.rotation.y += 0.002))\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,children:createStalactites(props)}))});}function createStalactites(props){var world=props.world;var createdStalactites=[];for(var index=0;index<world.stalactites.length;index++){var stalactite=world.stalactites[index];createdStalactites.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stalactite,{sowPlant:props.sowPlant,args:stalactite.geometry,position:stalactite.position,colour:stalactite.colour},createId()));}return createdStalactites;}function Stalactite(props){var mesh=Object(react[\"useRef\"])();var _props$args=Object(slicedToArray[\"a\" /* default */])(props.args,4),top=_props$args[0],bottom=_props$args[1],depth=_props$args[2],sections=_props$args[3];var handleClick=function handleClick(event){event.stopPropagation();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"group\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"mesh\",Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{ref:mesh,scale:1,onClick:function onClick(event){return handleClick(event);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"cylinderGeometry\",{args:props.args}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"meshToonMaterial\",{color:props.colour}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Grass,{sowPlant:props.sowPlant,position:[0,depth/2,0],args:[top,top,0.01,sections]})]}))});}/* harmony default export */ var components_World = (World);\n// CONCATENATED MODULE: ./src/components/Worlds.jsx\nvar Worlds_templateObject,Worlds_templateObject2;// Generates a panel that contains buttons of available Seeds\n// PROTOTYPE ONLY: need to design an interface that coould contain an indefinite number of seeds or objects\nvar WorldButton=styled_components_browser_esm[\"a\" /* default */].button(Worlds_templateObject||(Worlds_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\ncolor: palevioletred;\\nfont-size: 1em;\\nmargin: 1em;\\npadding: 0.25em 1em;\\nborder: 2px solid palevioletred;\\nborder-radius: 3px;\\n\"])));var Worlds_Panel=styled_components_browser_esm[\"a\" /* default */].div(Worlds_templateObject2||(Worlds_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  background-color: lightgrey;\\n  \"])));function Worlds_Seeds(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Worlds_Panel,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WorldButton,{onClick:props.newWorld,children:\" New Garden \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WorldButton,{onClick:props.saveWorld,children:\" Save Garden \"})]});}/* harmony default export */ var Worlds = (Worlds_Seeds);\n// CONCATENATED MODULE: ./src/components/index.js\n\n// CONCATENATED MODULE: ./src/functions/CreatePlant.js\n// Creates a new Plant, with a uniqueID, growth initialised at 0 and a new date\nfunction createPlant(event,seed){console.log(\"In createPlant\");var position=[event.point.x,event.point.y,event.point.z];var key=createId();var date=setDate();var newPlant=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Plant,{growth:0,date:date,position:position,type:seed},key);return newPlant;}\n// CONCATENATED MODULE: ./src/functions/LoadGarden.js\n// Reads a saved Garden and creates an array of plants ready to render\nfunction loadGarden(garden){var parsedGarden=[];var today=setDate(Date()).stamp;for(var plant=0;plant<garden.length;plant++){var parsedPlant=garden[plant];var growth=calculateGrowth(parsedPlant.date,today);parsedGarden.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Plant,{growth:growth,date:parsedPlant.date,position:parsedPlant.position,type:parsedPlant.type},parsedPlant.key));}console.log(parsedGarden);return parsedGarden;}function calculateGrowth(plantDate,today){console.log(plantDate.stamp);console.log(today);var days=calculateDays(plantDate.stamp,today);return days;}//module.exports = parseGarden;\n// CONCATENATED MODULE: ./src/functions/Sample.js\nfunction Sample_sample(array){return array[Math.floor(Math.random()*array.length)];}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(14);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(66);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/api/index.js\nvar api=axios_default.a.create({baseURL:\"/api\"});var addUser=function addUser(payload){return api.post(\"/user\",payload);};var getUser=function getUser(name){return api.get(\"/user/\".concat(name));};var updateGarden=function updateGarden(id,payload){return api.put(\"/user/\".concat(id),payload);};var apis={addUser:addUser,getUser:getUser,updateGarden:updateGarden};/* harmony default export */ var src_api = (apis);\n// CONCATENATED MODULE: ./src/functions/SaveGarden.js\n// strips out react components from the state garden array and saves plant props as an object that's easy to parse\n// Needs error handling!\nfunction saveGarden(_x,_x2,_x3,_x4,_x5){return _saveGarden.apply(this,arguments);}function _saveGarden(){_saveGarden=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(id,plants,newWorld,chosen,savedSeeds){var savedGarden,garden,world,seeds,worldChosen,date,lastLogin,payload;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:savedGarden=extractPlants(plants);garden={\"garden\":savedGarden};world={\"world\":JSON.stringify(newWorld)};seeds={\"seeds\":savedSeeds};worldChosen={\"worldChosen\":chosen};date=setDate();lastLogin={\"lastLogin\":date.stamp};payload={garden:garden,world:world,worldChosen:worldChosen,seeds:seeds,lastLogin:lastLogin};console.log(\"Attempting to save garden\");_context.next=11;return src_api.updateGarden(id,payload).then(function(res){console.log('Garden updated successfully');});case 11:case\"end\":return _context.stop();}}},_callee);}));return _saveGarden.apply(this,arguments);}function extractPlants(plants){var extractedPlants=[];for(var plant=0;plant<plants.length;plant++){var key=plants[plant].key;var parsedPlant=plants[plant].props;var savedPlant={key:key,growth:parsedPlant.growth,date:parsedPlant.date,position:parsedPlant.position,type:parsedPlant.type};extractedPlants.push(savedPlant);}return extractedPlants;}\n// CONCATENATED MODULE: ./src/functions/SetDate.js\n// creates a date object that contains day, month, year and stamp in ISO format\nfunction setDate(){var date=new Date();var day=date.getDate();var month=date.getMonth()+1;var year=date.getFullYear();var stamp=\"\".concat(year,\"/\").concat(month,\"/\").concat(day);return{year:year,month:month,day:day,stamp:stamp};}\n// CONCATENATED MODULE: ./src/functions/Randomiser.js\n// accepts a range object and returns a random number\n// useed to generate terrain and balloons\nfunction randomiser(range){return Math.random()*(range.max-range.min)+range.min;}\n// CONCATENATED MODULE: ./src/functions/index.js\n\n// CONCATENATED MODULE: ./src/gameObjects/Balloon.js\nvar Balloon_Balloon=function Balloon(seeds){Object(classCallCheck[\"a\" /* default */])(this,Balloon);this.id=createId();this.colour=generateColour();this.position=generatePosition();this.claimed=false;};function generateColour(){var colours=[\"#db504a\",\"#ff6f59\",\"#ffe200\",\"#9bf6ff\",'#ffd6a5','#caffbf','#ffc6ff','#bdb2ff','#e9ff70','#ff70a6','#ff9770'];return Sample_sample(colours);}function generatePosition(){var x={max:2,min:-2};var y={max:1.8,min:1.5};var z={max:1.8,min:-1.8};return[randomiser(x),randomiser(y),randomiser(z)];}\n// CONCATENATED MODULE: ./src/gameObjects/getBalloons.js\nfunction getBalloons(garden,seeds,login,today){var dateDifference=calculateDays(login,today);console.log(dateDifference);var balloons=[];// if (garden.length % 6 === 0) {\n//   console.log(\"Balloon incoming!\")\n// }\nif(calculateDays(login,today)>0){balloons.push(new Balloon_Balloon());}return balloons;}\n// CONCATENATED MODULE: ./src/gameObjects/GenericPlant.js\nvar GenericPlant_GenericPlant=function GenericPlant(){Object(classCallCheck[\"a\" /* default */])(this,GenericPlant);this.type=\"generic_plant\";this.bloom=1;this.leafColour='#ff006e';this.stemColour='#ffbe0b';this.flowerColour='#55dde0';};\n// CONCATENATED MODULE: ./src/gameObjects/GetSeed.js\nfunction getSeed(seed){switch(seed){case\"generic_plant\":return{bloom:1,leafColour:'#377F34',stemColour:'#499B4A',flowerColour:'#832134'};case\"tulip\":return{bloom:2,leafColour:'#2D5A27',stemColour:'#567d46',flowerColour:'#ff878d'};case\"sunflower\":return{bloom:4,leafColour:'#75ae92',stemColour:'#82ac80',flowerColour:'#f8ec89'};case\"crocus\":return{bloom:1,leafColour:'#76c893',stemColour:'#52b69a',flowerColour:'#3a0ca3'};case\"snowdrop\":return{bloom:1,leafColour:'#76c893',stemColour:'#52b69a',flowerColour:'#f8f9fa'};case\"rose\":return{bloom:5,leafColour:'#499B4A',stemColour:'#75ae92',flowerColour:'#9e0059'};case\"venusFlyTrap\":return{bloom:7,leafColour:'#ccd5ae',stemColour:'#ccd5ae',flowerColour:'#ccd5ae'};default:return;}}\n// CONCATENATED MODULE: ./src/gameObjects/newSeeds.js\nfunction newSeeds_newSeeds(){return[{type:\"generic_plant\",quantity:3},{type:\"tulip\",quantity:3}];}\n// CONCATENATED MODULE: ./src/gameObjects/WorldData.js\n// creates the data used to generate the Stalactite components\nvar stalactiteCount=10;var WorldData_WorldData=function WorldData(){var stalactites=arguments.length>0&&arguments[0]!==undefined?arguments[0]:generateStalactites();Object(classCallCheck[\"a\" /* default */])(this,WorldData);this.stalactites=stalactites;};function generateStalactites(){var stalactites=[];var offset=0;for(var stalactite=0;stalactite<stalactiteCount;stalactite++){stalactites.push(generateStalactite(offset));offset+=0.1;}return stalactites;}function earthColour(){var colours=['#6C6460','#8a817c','#6c757d'];return Sample_sample(colours);}function generateStalactite(offset){return{geometry:stalactiteGeometry(offset),position:stalactitePosition(offset),colour:earthColour()};}function stalactiteGeometry(offset){var stalactiteMax={max:1.3-offset,min:1-offset};var stalactiteMin={max:0.8-offset,min:0.01};var stalactiteDepth={max:2.3,min:1};var stalactiteSegments={max:12,min:6};return[randomiser(stalactiteMax),randomiser(stalactiteMin),randomiser(stalactiteDepth),randomiser(stalactiteSegments)];}function stalactitePosition(offset){var stalactiteY={max:0+offset,min:1+offset};var stalactiteXZ={max:0.5,min:-0.5};return[randomiser(stalactiteXZ),-randomiser(stalactiteY),randomiser(stalactiteXZ)];}/*\n\nOriginal stalactite settings:\n\nEarth disc:\n<cylinderGeometry args={[1.65, 1, 0.68, 9]}  />\n<meshToonMaterial color={'#8a817c'} />\n\nfunction createStalactites() {\n  return [\n    <Stalactite args={[1.6, 0.8, 1, 8]} position={[0.1, -0.28, 0, ]} colour={'#6c757d'}/>,\n    <Stalactite args={[1.3, 0.7, 1, 7]} position={[0.12, -0.5, 0.1]} colour={'#8a817c'} />,\n    <Stalactite args={[1.4, 0.55, 1.3, 4]} position={[-0, -0.7, 0.05]} colour={'#6c757d'} />,\n    <Stalactite args={[0.8, 0.3, 2, 8]} position={[0, -0.9, -0.2]} colour={'#6c757d'} />,\n    <Stalactite args={[0.4, 0.01, 2, 4]} position={[0, -1.9, -0.5]} colour={'#6c757d'} />,\n    <Stalactite args={[0.4, 0.03, 2, 12]} position={[0, -0.9, 1.0]} colour={'#6c757d'} />,\n    <Stalactite args={[0.8, 0.2, 1, 8]} position={[-0, -1.3, .40]} colour={'#8a817c'} />,\n    <Stalactite args={[0.7, 0.1, 1, 9]} position={[-0, -1.9, 0.30]} colour={'#6c757d'}/>,\n    <Stalactite args={[0.4, 0.01, 3, 8]} position={[0, -2.3, 0]} colour={'#8a817c'} />,\n\n\n\n  ]\n}\n*/\n// CONCATENATED MODULE: ./src/gameObjects/index.js\n\n// EXTERNAL MODULE: ./src/app/App.css\nvar app_App = __webpack_require__(98);\n\n// CONCATENATED MODULE: ./src/pages/SignUp.jsx\nvar SignUp_templateObject,SignUp_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;var Title=styled_components_browser_esm[\"a\" /* default */].h1.attrs({className:'h1'})(SignUp_templateObject||(SignUp_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));var SignUp_Wrapper=styled_components_browser_esm[\"a\" /* default */].div.attrs({className:'form-group'})(SignUp_templateObject2||(SignUp_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 0 30px;\\n\"])));var Label=styled_components_browser_esm[\"a\" /* default */].label(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 5px;\\n\"])));var InputText=styled_components_browser_esm[\"a\" /* default */].input.attrs({className:'form-control'})(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 5px;\\n\"])));var Button=styled_components_browser_esm[\"a\" /* default */].button.attrs({className:\"btn btn-primary\"})(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 15px 15px 15px 5px;\\n\"])));var CancelButton=styled_components_browser_esm[\"a\" /* default */].a.attrs({className:\"btn btn-danger\"})(_templateObject6||(_templateObject6=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 15px 15px 15px 5px;\\n\"])));var SignUp_SignUp=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(SignUp,_Component);var _super=Object(createSuper[\"a\" /* default */])(SignUp);function SignUp(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,SignUp);_this=_super.call(this,props);_this.handleChangeInputName=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var name;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=event.target.value;_this.setState({name:name});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChangeInputEmail=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(event){var email;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:email=event.target.value;_this.setState({email:email});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handleChangeInputPassword=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(event){var password;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:password=event.target.value;_this.setState({password:password});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();_this.handleAddUser=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var _this$state,name,email,password,newWorld,world,seeds,worldChosen,date,lastLogin,payload;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this$state=_this.state,name=_this$state.name,email=_this$state.email,password=_this$state.password;newWorld=new WorldData_WorldData();world=JSON.stringify(newWorld);seeds=newSeeds_newSeeds();worldChosen=false;date=setDate();lastLogin=date.stamp;payload={name:name,email:email,password:password,world:world,worldChosen:worldChosen,seeds:seeds,lastLogin:lastLogin};console.log(payload);_context4.next=11;return src_api.addUser(payload).then(function(res){window.alert(\"User added\");_this.setState({name:'',email:'',password:''});console.log(\"SEEDS on SIGN UP\");console.log(seeds);_this.props.setUser(name,res.data.id,[],newWorld,false,seeds,lastLogin);});case 11:case\"end\":return _context4.stop();}}},_callee4);}));_this.state={name:'',email:'',password:''};return _this;}Object(createClass[\"a\" /* default */])(SignUp,[{key:\"render\",value:function render(){var _this$state2=this.state,name=_this$state2.name,email=_this$state2.email,password=_this$state2.password;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(SignUp_Wrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Title,{children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label,{children:\"Name: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputText,{type:\"text\",value:name,onChange:this.handleChangeInputName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label,{children:\"Email: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputText,{type:\"text\",value:email,onChange:this.handleChangeInputEmail}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label,{children:\"Password: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputText,{type:\"text\",value:password,onChange:this.handleChangeInputPassword}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:this.handleAddUser,children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CancelButton,{href:'/movies/list',children:\"Cancel\"})]});}}]);return SignUp;}(react[\"Component\"]);/* harmony default export */ var pages_SignUp = (SignUp_SignUp);\n// CONCATENATED MODULE: ./src/pages/LogIn.jsx\nvar LogIn_templateObject,LogIn_templateObject2,LogIn_templateObject3,LogIn_templateObject4,LogIn_templateObject5;var LogIn_Title=styled_components_browser_esm[\"a\" /* default */].h1.attrs({className:'h1'})(LogIn_templateObject||(LogIn_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\"])));var LogIn_Wrapper=styled_components_browser_esm[\"a\" /* default */].div.attrs({className:'form-group'})(LogIn_templateObject2||(LogIn_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 0 30px;\\n\"])));var LogIn_Label=styled_components_browser_esm[\"a\" /* default */].label(LogIn_templateObject3||(LogIn_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 5px;\\n\"])));var LogIn_InputText=styled_components_browser_esm[\"a\" /* default */].input.attrs({className:'form-control'})(LogIn_templateObject4||(LogIn_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 5px;\\n\"])));var LogIn_Button=styled_components_browser_esm[\"a\" /* default */].button.attrs({className:\"btn btn-primary\"})(LogIn_templateObject5||(LogIn_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    margin: 15px 15px 15px 5px;\\n\"])));var LogIn_LogIn=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(LogIn,_Component);var _super=Object(createSuper[\"a\" /* default */])(LogIn);function LogIn(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,LogIn);_this=_super.call(this,props);_this.handleChangeInputName=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var name;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=event.target.value;_this.setState({name:name});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChangeInputPassword=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(event){var password;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:password=event.target.value;_this.setState({password:password});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();_this.handleGetUser=/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return src_api.getUser(_this.state.name).then(function(res){console.log(res);console.log(\"Name is \"+res.data.data.name);if(_this.state.password===res.data.data.password){var name=res.data.data.name;var id=res.data.data._id;var garden=loadGarden(res.data.data.garden);var world=JSON.parse(res.data.data.world);var seeds=res.data.data.seeds;var worldChosen=res.data.data.worldChosen;var lastLogin=res.data.data.lastLogin;window.alert(\"Welcome back \".concat(name));_this.props.setUser(name,id,garden,world,worldChosen,seeds,lastLogin);}else{window.alert(\"Incorrect password\");}});case 2:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={name:'',email:'',password:''};return _this;}Object(createClass[\"a\" /* default */])(LogIn,[{key:\"render\",value:function render(){var _this$state=this.state,name=_this$state.name,email=_this$state.email,password=_this$state.password;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(LogIn_Wrapper,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn_Title,{children:\"Log In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn_Label,{children:\"Name: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn_InputText,{type:\"text\",value:name,onChange:this.handleChangeInputName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn_Label,{children:\"Password: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn_InputText,{type:\"text\",value:password,onChange:this.handleChangeInputPassword}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn_Button,{onClick:this.handleGetUser,children:\"Log In\"})]});}}]);return LogIn;}(react[\"Component\"]);/* harmony default export */ var pages_LogIn = (LogIn_LogIn);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/pages/SeedBank.jsx\n// Main page.\n// Displays the Garden and the Seed panel, handles interactions between them and updates the user's garden/seedbank\n// REFACTOR: avoid assiging state from index as state here (eg useState(props.seeds) - leads to confusion and makes it harder to troubleshoot\n// This affects garden and seeds currently, which are loaded via login, passed to state in index, then passed here where they are updated and saved\nfunction SeedBank(props){var _jsx2;var _useState=Object(react[\"useState\"])(props.garden),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),plants=_useState2[0],setPlants=_useState2[1];//  an array of plant components\nvar _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),chosenSeed=_useState4[0],setChosenseed=_useState4[1];// contains the type of seed if chosen, or null if no seed is currently selected\nvar _useState5=Object(react[\"useState\"])(props.seeds),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),seeds=_useState6[0],setSeeds=_useState6[1];//  an array of the player's available seeds\nvar _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),seedIndex=_useState8[0],setSeedindex=_useState8[1];//  the index within seeds of the chosenSeed\nvar _useState9=Object(react[\"useState\"])(getBalloons(plants,seeds,props.lastLogin,props.today)),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),balloons=_useState10[0],setBalloons=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),seedList=_useState12[0],setSeedlist=_useState12[1];var sowPlant=function sowPlant(event){if(chosenSeed){var newPlant=createPlant(event,chosenSeed);setChosenseed(\"\");setPlants(function(prev){return[newPlant].concat(Object(toConsumableArray[\"a\" /* default */])(prev));});updateSeeds(-1);}};var selectSeed=function selectSeed(selectedSeed,index){var seed=seeds[index];if(seeds[index].quantity>0){setChosenseed(selectedSeed);setSeedindex(index);}};var updateSeeds=function updateSeeds(increment){var index=arguments.length>1&&arguments[1]!==undefined?arguments[1]:seedIndex;var updatedSeeds=Object(toConsumableArray[\"a\" /* default */])(seeds);updatedSeeds[index].quantity+=increment;setSeeds(updatedSeeds);setSeedindex(null);};var removeBalloon=function removeBalloon(index){var removedBalloon=balloons[index];removedBalloon.claimed=true;// setBalloons: creates a new array based on the previous one, removing the initial balloon, then adds a copy of the old balloon with 'claimed' set to true\nsetBalloons(function(prev){return[prev.filter(function(balloon){return balloon.id!==removedBalloon.id;}),removedBalloon];});};var checkAchievements=function checkAchievements(){var fivePlants=plants.length%5;var achievementCount=plants.length/5;// how many multuples of five?\nvar startingSeeds=2;// offset for the starting seeds\nif(fivePlants===0&&plants.length>0&&seeds.length<achievementCount+startingSeeds){console.log(\"Achievement!\");var newSeeds=calculateAchievement(seeds);console.log(\"New seeds is\");console.log(newSeeds);setSeeds(newSeeds);}};var toggleSeeds=function toggleSeeds(){setSeedlist(function(prevState){return!prevState;});console.log(\"TOGGLE \"+seedList);};Object(react[\"useEffect\"])(function(){//\nconsole.log(\"Calling saveGarden\");saveGarden(props.id,plants,props.world,props.worldChosen,seeds);setSeedlist(seedList);checkAchievements();});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_three_fiber_esm[\"a\" /* Canvas */],{id:\"canvas\",camera:{position:[0,2,3.5]},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Camera,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Suspense\"],{fallback:console.log(\"loading\"),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_World,{sowPlant:sowPlant,position:[0,0,0],world:props.world,seeds:seeds}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SeedBox,(_jsx2={seeds:seeds,chosenSeed:chosenSeed,seedList:seedList,position:[-1,-1,1.9],selectSeed:selectSeed},Object(defineProperty[\"a\" /* default */])(_jsx2,\"chosenSeed\",chosenSeed),Object(defineProperty[\"a\" /* default */])(_jsx2,\"toggleSeeds\",toggleSeeds),_jsx2)),plants,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Balloons,{removeBalloon:removeBalloon,updateSeeds:updateSeeds,balloons:balloons,seeds:seeds}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Sun,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Firmament,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Noticeboard,{today:props.today})]})]}),props.worldChosen?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Seeds,{chosenSeed:chosenSeed}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Worlds,{className:\"App-header\",newWorld:props.newWorld,saveWorld:props.saveWorld})]});}/* harmony default export */ var pages_SeedBank = (SeedBank);\n// CONCATENATED MODULE: ./src/pages/index.js\n\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./src/app/index.js\nvar src_app_App=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(App,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.state={userName:\"\",id:0,garden:[],world:{},chosenWorld:false,seeds:[],lastLogin:\"\"};_this.setUser=_this.setUser.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.newWorld=_this.newWorld.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.saveWorld=_this.saveWorld.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));_this.connecToServer=_this.connecToServer.bind(Object(assertThisInitialized[\"a\" /* default */])(_this));return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.connecToServer();}},{key:\"connecToServer\",value:function connecToServer(){fetch('/');}},{key:\"setUser\",value:function setUser(userName,id,garden,world,worldChosen,seeds,lastLogin){this.setState({userName:userName,id:id,garden:garden,world:world,worldChosen:worldChosen,seeds:seeds,lastLogin:lastLogin,today:setDate().stamp});}},{key:\"newWorld\",value:function newWorld(){var newWorld=new WorldData_WorldData();this.setState({world:newWorld});}},{key:\"saveWorld\",value:function saveWorld(){this.setState({worldChosen:true});saveGarden(this.state.id,[],this.state.world,true,this.state.seeds);}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{position:\"relative\",width:\"100%\",height:\"100%\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_NavBar,{user:this.state.userName,setUser:this.setUser})}),this.state.userName?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SeedBank,{id:this.state.id,newWorld:this.newWorld,world:this.state.world,worldChosen:this.state.worldChosen,saveWorld:this.saveWorld,seeds:this.state.seeds,garden:this.state.garden,lastLogin:this.state.lastLogin,today:this.state.today}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_LogIn,{setUser:this.setUser}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_SignUp,{setUser:this.setUser})]})]});}}]);return App;}(react_default.a.Component);/* harmony default export */ var app = (src_app_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(app,{}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[100,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/CalculateAchievement.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/CalculateDays.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/CreateId.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Balloons.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Camera.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Firmament.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Garden.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Grass.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/images/seedbankProto.png","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Logo.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Links.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/NavBar.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Noticeboard.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Plant.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/SeedBox.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Seeds.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Sun.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/World.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/components/Worlds.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/CreatePlant.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/LoadGarden.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/Sample.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/api/index.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/SaveGarden.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/SetDate.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/functions/Randomiser.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/gameObjects/Balloon.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/gameObjects/getBalloons.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/gameObjects/GenericPlant.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/gameObjects/GetSeed.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/gameObjects/newSeeds.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/gameObjects/WorldData.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/pages/SignUp.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/pages/LogIn.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/pages/SeedBank.jsx","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/app/index.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/index.js","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/postcss-loader/src/index.js??postcss!/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/style/App.css","/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/node_modules/postcss-loader/src/index.js??postcss!/Users/petarsimonovic/Library/Mobile Documents/com~apple~CloudDocs/Pete/Coding/Projects/SeedBankServer/seedbank/client/src/app/App.css"],"names":["calculateAchievement","seeds","duplicate","unlock","newSeed","length","seedBank","sample","checkDuplicate","updateSeeds","array","Math","floor","random","index","seed","type","updatedSeeds","console","log","quantity","push","calculateDays","start","end","date1","Date","date2","oneDay","diffInTime","getTime","diffInDays","round","createId","uuidv4","Balloons","props","mesh","useRef","createBalloons","balloons","balloonCollection","removeBalloon","balloon","claimed","position","colour","Balloon","useFrame","state","delta","current","rotation","y","handleClick","seedChoice","BalloonBody","BalloonString","BalloonCone","BalloonCrate","extend","OrbitControls","Camera","useThree","camera","domElement","gl","controls","update","Firmament","Garden","lookat","sowPlant","world","plants","today","Grass","event","args","Wrapper","styled","a","attrs","className","Logo","logo","Component","Links","user","Nav","nav","NavBar","setUser","Noticeboard","date","setDate","day","month","year","Plant","stopPropagation","buildPlant","x","z","getSeed","bloom","leafColour","stemColour","flowerColour","growth","stemLength","plant","leaves","Base","Stem","Leaf","color","Flower","seedTextColours","outline","selectedSeedTextColours","SeedBox","selectSeed","toggleSeeds","seedSelectors","seedList","colours","chosenSeed","SeedButton","useState","clickScale","setClickscale","setTimeout","SeedText","selected","setSelected","NoSeedText","SeedBoxStalactite","button","Panel","div","Seeds","seedCollection","Sun","sunRef","World","createStalactites","createdStalactites","stalactites","stalactite","geometry","Stalactite","top","bottom","depth","sections","WorldButton","newWorld","saveWorld","createPlant","point","key","newPlant","loadGarden","garden","parsedGarden","stamp","parsedPlant","calculateGrowth","plantDate","days","api","axios","create","baseURL","addUser","payload","post","getUser","name","get","updateGarden","id","put","apis","saveGarden","chosen","savedSeeds","savedGarden","extractPlants","JSON","stringify","worldChosen","lastLogin","then","res","extractedPlants","savedPlant","getDate","getMonth","getFullYear","randomiser","range","max","min","generateColour","generatePosition","getBalloons","login","dateDifference","GenericPlant","newSeeds","stalactiteCount","WorldData","generateStalactites","offset","generateStalactite","earthColour","stalactiteGeometry","stalactitePosition","stalactiteMax","stalactiteMin","stalactiteDepth","stalactiteSegments","stalactiteY","stalactiteXZ","Title","h1","Label","label","InputText","input","Button","CancelButton","SignUp","handleChangeInputName","target","value","setState","handleChangeInputEmail","email","handleChangeInputPassword","password","handleAddUser","window","alert","data","LogIn","handleGetUser","_id","parse","SeedBank","setPlants","setChosenseed","setSeeds","seedIndex","setSeedindex","setBalloons","setSeedlist","prev","selectedSeed","increment","removedBalloon","filter","checkAchievements","fivePlants","achievementCount","startingSeeds","prevState","useEffect","App","userName","chosenWorld","bind","connecToServer","fetch","width","height","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["\nexport default function calculateAchievement(seeds) {\n  let duplicate = true\n  let unlock = true\n  let newSeed = {}\n  if (seeds.length === seedBank.length) {\n    return seeds\n    // newSeed = sample(seedBank)\n    // console.log(\"FULL BANK\")\n    // unlock = false\n  } else {\n  while (duplicate) {\n    newSeed = sample(seedBank)\n    duplicate = checkDuplicate(newSeed, seeds)\n  }\n}\n  return updateSeeds(seeds, newSeed, unlock)\n}\n\n\nfunction sample(array) {\n  return array[Math.floor(Math.random() * array.length)];\n}\n\nfunction checkDuplicate(newSeed, seeds) {\n  for (let index = 0; index < seeds.length; index++) {\n    const seed = seeds[index]\n    if (seed.type === newSeed.type) {\n      return true\n    }\n  }\n  return false\n\n}\n\nfunction updateSeeds(seeds, newSeed, unlock) {\n  const updatedSeeds = []\n  for (let index = 0; index < seeds.length; index++) {\n    const seed = seeds[index]\n    if (seed.type === newSeed.type) {\n      console.log(newSeed)\n      seed.quantity += newSeed.quantity\n      console.log(seed)\n    }\n    updatedSeeds.push(seed)\n  }\n  if (unlock) { updatedSeeds.push(newSeed) }\n  return updatedSeeds\n}\n\nconst seedBank = [\n  {type: \"generic_plant\", quantity: 3},\n  {type: \"tulip\", quantity: 3},\n  {type: \"sunflower\", quantity: 3},\n  {type: \"crocus\", quantity: 3},\n  {type: \"snowdrop\", quantity: 3},\n  {type: \"rose\", quantity: 3},\n  {type: \"venusFlyTrap\", quantity: 3}\n]\n","\n// calculates the difference in days between two dates using ISO strings for start and end\n\nexport default function calculateDays(start, end) {\n    const date1 = new Date(start);\n    const date2 = new Date(end);\n\n    // One day in milliseconds\n    const oneDay = 1000 * 60 * 60 * 24;\n\n    // Calculating the time difference between two dates\n    const diffInTime = date2.getTime() - date1.getTime();\n    //console.log(\"Time diff\")\n    //console.log(diffInTime)\n\n    // Calculating the no. of days between two dates\n    const diffInDays = Math.round(diffInTime / oneDay);\n\n    return diffInDays;\n}\n","\n// generates a unique ID number \n\n\nimport { v4 as uuidv4 } from 'uuid';\n\n\nexport default function createId() {\n  return uuidv4()\n}\n","import React, { useRef } from \"react\";\nimport { useFrame } from \"@react-three/fiber\";\nimport { createId } from '../functions'\n\nfunction Balloons(props) {\n  // This reference will give us direct access to the mesh\n  const mesh = useRef()\n  // Set up state for the hovered and active state\n  // Rotate mesh every frame, this is outside of React without overhead\n  // useFrame(() => (mesh.current.rotation.y += 0.002))\n\n  return (\n    <>\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={1}\n      >\n      {createBalloons(props)}\n    </mesh>\n    </>\n  )\n}\n\nfunction createBalloons(props) {\n  console.log(\"In createBalloons\")\n  console.log(props.balloons.length)\n  const balloonCollection = []\n  const {balloons, removeBalloon, updateSeeds, seeds} = props\n  console.log(balloons)\n  for (let index = 0; index < balloons.length; index++) {\n  const balloon = balloons[index]\n  balloonCollection.push(\n    <Balloon\n    key={createId()}\n    claimed={balloon.claimed}\n    updateSeeds={updateSeeds}\n    removeBalloon={removeBalloon}\n    seeds={seeds}\n    position={balloon.position}\n    index={index}\n    colour={balloon.colour} />\n  )\n  }\n  return balloonCollection\n}\n\nfunction Balloon(props) {\n  const mesh = useRef()\n\n  useFrame((state, delta) => ( mesh.current.rotation.y += 0.01))\n\n\n  // Set up state for the hovered and active state\n  // Rotate mesh every frame, this is outside of React without overhead\n  // useFrame(() => (mesh.current.rotation.y += 0.002))\n\n  const handleClick = () => {\n    if (!props.claimed) {\n    const seedChoice = Math.floor(Math.random() * props.seeds.length)\n    props.updateSeeds(3, seedChoice)\n    props.removeBalloon(props.index)\n  }\n  }\n\n  return (\n    <group>\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={0.8}\n      onClick={handleClick}\n      >\n      <BalloonBody colour={props.colour} />\n      <BalloonCone colour = {props.colour} position={[0, -0.18, 0]}/>\n      <BalloonString position={[0, -0.15, 0]}/>\n      <BalloonCrate position={[0, -0.48, 0]}/>\n    </mesh>\n\n      </group>\n\n  )\n }\n\n function BalloonBody(props) {\n\n   const mesh = useRef()\n\n   return (\n     <mesh\n       {...props}\n       ref={mesh}\n       scale={1}\n       >\n   <dodecahedronGeometry args={[0.153, 8]} />\n   <meshToonMaterial color={props.colour} />\n   </mesh>\n )\n }\n\n function BalloonString(props) {\n   const mesh = useRef()\n   // Set up state for the hovered and active state\n\n\n   return (\n     <mesh\n       {...props}\n       ref={mesh}\n       scale={1}\n       >\n       <cylinderGeometry args={[0.005, 0.005, 0.5, 3]} />\n       <meshToonMaterial color={'#16161D'} />\n     </mesh>\n   )\n  }\n\n  function BalloonCone(props) {\n    const mesh = useRef()\n    // Set up state for the hovered and active state\n\n\n    return (\n      <mesh\n        {...props}\n        ref={mesh}\n        scale={1}\n        >\n        <cylinderGeometry args={[0.15, -0.01, 0.3, 16]} />\n        <meshToonMaterial color={props.colour} />\n      </mesh>\n    )\n   }\n\n   function BalloonCrate(props) {\n     const mesh = useRef()\n     // Set up state for the hovered and active state\n\n\n     return (\n       <mesh\n         {...props}\n         ref={mesh}\n         scale={1}\n         >\n         <boxGeometry args={[0.15, 0.15, 0.15]} />\n         <meshToonMaterial color={'#7f5539'} />\n       </mesh>\n     )\n    }\n\n\nexport default Balloons\n","import { extend, useThree, useFrame } from \"@react-three/fiber\";\nimport React, { useRef } from \"react\";\nimport { OrbitControls } from 'three-stdlib';\nextend({ OrbitControls });\n\n\nconst Camera = () => {\n  // Get a reference to the Three.js Camera, and the canvas html element.\n  // We need these to setup the OrbitControls component.\n  // https://threejs.org/docs/#examples/en/controls/OrbitControls\n  const {\n    camera,\n    gl: { domElement },\n  } = useThree();\n  // Ref to the controls, so that we can update them on every frame using useFrame\n  const controls = useRef();\n  useFrame((state) => controls.current.update());\n  return <orbitControls\n          ref={controls}\n          position={[0, -10, 0]}\n          args={[camera, domElement]}\n          autoRotate={true}\n          autoRotateSpeed={0.2}\n          enabled={true}\n          />;\n};\n\nexport default Camera\n","import { Sky } from '@react-three/drei'\n\nexport default function Firmament(props) {\n  return (\n    <Sky\n      turbidity={0.01}\n      distance={450000} // Camera distance (default=450000)\n      sunPosition={[0, 1, 0]} // Sun position normal (defaults to inclination and azimuth if not set)\n      inclination={0.47} // Sun elevation angle from 0 to 1 (default=0)\n      elevation={0.6}\n      exposure={0.3}\n      mieDirectionalG={0.04}\n      mieCoefficient={0.0045}\n      rayleigh={0.1}\n      azimuth={0.6} // Sun rotation around the Y axis from 0 to 1 (default=0.25)\n      {...props} // All three/examples/jsm/objects/Sky props are valid\n    />  )\n}\n","import '../style/App.css';\nimport React, { Suspense } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport {  Camera, Sun, World, Firmament, Noticeboard, Balloons } from '../components';\n\n\n// Garden displays \"the world\", rendering the sun, the sky, the grass and plants\n// Receives instructions/props from the SeedBank page\n\nfunction Garden(props) {\n\n  return (\n    <Canvas id=\"canvas\" camera={{ position: [0, 2, 3.5], lookat: [0, 0, 0] }}>\n      <Camera />\n      <Suspense fallback={console.log(\"loading\")}>\n       <World sowPlant={props.sowPlant} position={[0, 0, 0]} world={props.world} />\n      {props.plants}\n      <Balloons\n      removeBalloon={props.removeBalloon}\n      updateSeeds={props.updateSeeds}\n      balloons={props.balloons}\n      seeds={props.seeds} />\n     </Suspense>\n     <Sun />\n     <Firmament />\n     <Noticeboard today={props.today}/>\n    </Canvas>\n  )\n\n}\n\n//       <SeedBox seeds={props.seeds} position={[0, 0.2, 0]}/>\n\nexport default Garden\n","import React, { useRef } from \"react\";\n\n\n\n// The plane on which plants grow\n\nfunction Grass(props) {\n  // This reference will give us direct access to the mesh\n  const mesh = useRef()\n  // Set up state for the hovered and active state\n  // Rotate mesh every frame, this is outside of React without overhead\n  // useFrame(() => (mesh.current.rotation.y += 0.002))\n\n\n  return (\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={1}\n      onClick={(event) => props.sowPlant(event)}\n      >\n      <cylinderGeometry args={props.args} />\n      <meshToonMaterial color={'#a7c957'} />\n    </mesh>\n  )\n}\n\nexport default Grass\n","export default __webpack_public_path__ + \"static/media/seedbankProto.6cdc7966.png\";","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport logo from '../images/seedbankProto.png';\n\nconst Wrapper = styled.a.attrs({\n    className: 'navbar-brand',\n})``\n\nclass Logo extends Component {\n    render() {\n        return (\n            <Wrapper href=\"https://example.com\">\n                <img src={logo} height=\"50\" alt=\"seedbank\" />\n            </Wrapper>\n        )\n    }\n}\n\nexport default Logo\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n\n\nclass Links extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <Link to=\"/\" className=\"navbar-brand\">\n                    SeedBank\n                </Link>\n                    <Link to=\"/\" className=\"navbar-brand\">\n                     { this.props.user }\n                    </Link>\n              </React.Fragment>\n        )\n    }\n}\n\nexport default Links\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport Logo from './Logo';\nimport Links from './Links';\n\n\nconst Nav = styled.nav.attrs({\n    className: 'navbar navbar-expand-lg navbar-dark bg-dark',\n})`\n    margin-bottom: 20 px;\n`\n\nclass NavBar extends Component {\n    render() {\n        return (\n                <Nav height=\"50%\">\n                    <Logo />\n                    <Links user={this.props.user} setUser={this.props.setUser} />\n                </Nav>\n        )\n    }\n}\n\nexport default NavBar\n","import { Billboard, Text } from '@react-three/drei'\nimport { setDate } from '../functions'\n\n\nfunction Noticeboard(props) {\n  const date = setDate()\n\nreturn (\n\n  <Billboard\n    position={[0.5, 1, 6]}\n    args={[20, 200]}\n    follow={true}\n    lockX={false}\n    lockY={false}\n    lockZ={false} // Lock the rotation on the z axis (default=false)\n    >\n    <Text fontSize={0.5} color={\"#857c8d\"}>{date.day} {date.month} {date.year}</Text>\n    </Billboard>\n)\n}\n\nexport default Noticeboard\n","import React, { useRef } from \"react\";\nimport { createId } from '../functions'\nimport { getSeed } from '../gameObjects'\n\n\n// Creates a Plant based on the props that it receives\n\nfunction Plant(props) {\n\n  const mesh = useRef()\n\n  // Clicking on a plant should bring up its info\n  // stopPropogation tells Three.js to only return info about the first mesh clicked\n\n  const handleClick = (event) => {\n    event.stopPropagation()\n    console.log(\"This plant is:\")\n    console.log(props)\n  }\n\n\n  return (\n    <group>\n    <mesh\n      {...props}\n      ref={mesh}\n      onClick={(event) => handleClick(event)}\n      scale={0.2}\n    //  onPointerOver={(event) => setHover(true)}\n    //  onPointerOut={(event) => setHover(false)}\n    >\n      {buildPlant(props)}\n    </mesh>\n    </group>\n\n  )\n}\n\n// buildPlant constructs an array of plant components that can be rendered\n// Refactoring: remove magic numbers\n// Extra features: randomise size and position of components (eg leaves)\n\nfunction buildPlant(props) {\n\n  const [x, y, z] = props.position\n  const {bloom, leafColour, stemColour, flowerColour} = getSeed(props.type)\n  let growth = props.growth\n\n  // Stop plant from growing any further if it's in bloom\n\n  if (growth >= bloom) {\n    growth = bloom\n  }\n\n  // the length of the stem is based on the plant's growth\n\n  const stemLength = growth/24\n\n\n  // push the Base and Stem into the plant array\n\n  let plant = [\n    <Base key={createId()} />,\n    <Stem key={createId()} stemColour={stemColour} stemLength={stemLength} position={[0, 0.05, 0]}/>,\n  ]\n\n  // Add leaves relative to the plant's growth level\n\n  for (let leaves = 0; leaves <= growth; leaves++) {\n    plant.push(\n    <Leaf key={createId()} color={leafColour} position={[0.02, 0.1 + (leaves/18), 0.05]}/>,\n    <Leaf key={createId()} color={leafColour} position={[-0.02, 0.1 + (leaves/18), -0.05]}/>,\n  )\n  }\n\n  // Add a flower to the array if it's in bloom\n\n  if (growth >= bloom) {\n  plant.push(\n    <Flower key={createId()} color={flowerColour} position={[0, 0.1 + (growth/11), 0]} />\n  )\n}\n\n  return plant\n\n}\n\nfunction Base(props) {\n\n  const mesh = useRef()\n\n  return (\n  <mesh\n    {...props}\n    ref={mesh}\n     >\n    <dodecahedronGeometry args={[0.035, 2]} />\n    <meshToonMaterial color={'#947352'} />\n  </mesh>\n)\n\n\n}\n\nfunction Stem(props) {\n  const mesh = useRef()\n\n  return (\n  <mesh\n    {...props}\n    ref={mesh}\n    scale={0.5}\n\n    >\n    <cylinderGeometry args={[0.01, 0.03, 0.3 + props.stemLength, 12]} />\n    <meshToonMaterial color={props.stemColour} />\n    </mesh>\n  )\n}\n\n\nfunction Leaf(props) {\n  const mesh = useRef()\n\n  return (\n    <mesh\n      {...props}\n      ref={mesh} >\n      <cylinderGeometry args={[0.02, 0.05, 0.02, 6]} />\n      <meshToonMaterial color={props.color} />\n    </mesh>\n\n  )\n\n}\n\nfunction Flower(props) {\n  const mesh = useRef()\n\n  return (\n    <mesh\n      {...props}\n      ref={mesh} >\n      <dodecahedronGeometry args={[0.06]} />\n      <meshToonMaterial color={props.color} />\n    </mesh>\n\n  )\n\n}\n\n\n\nexport default Plant\n","import { RoundedBox, Text } from '@react-three/drei'\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { createId } from '../functions'\n\n// Creates a button that 'clicks'\n\nconst seedTextColours = {type: \"#293241\", outline: \"#b1b5c8\"}\nconst selectedSeedTextColours = {type: \"#b1b5c8\", outline: \"#293241\"}\n\nfunction SeedBox(props) {\n\n  console.log(\"PROPS IN SEEDBOX\")\n  console.log(props)\n  const mesh = useRef()\n\n\n\n\n\n  return (\n  <>\n  <mesh\n    {...props}\n    ref={mesh}\n    scale={1}\n    >\n  <SeedBoxStalactite seeds={props.seeds} selectSeed={props.selectSeed}/>\n  <SeedButton position={[0, 0.1, 0]} toggleSeeds={props.toggleSeeds}/>\n   {seedSelectors(props)}\n  </mesh>\n  </>\n\n\n)\n}\n\nfunction seedSelectors(props) {\n  console.log(\"PROPS in SEEDSELECTORS\")\n  console.log(props)\n  if (!props.seedList) {\n    return []\n  }\n  let seedSelectors = []\n  for (let index = 0; index < props.seeds.length; index++) {\n    console.log(\"Generating seedselectors\")\n    let seed = props.seeds[index]\n    if (seed.quantity === 0) { continue }\n    let colours = {}\n    seed.type === props.chosenSeed ? colours = selectedSeedTextColours : colours = seedTextColours\n    seedSelectors.push( <SeedText selectSeed={props.selectSeed} seed={seed} colours={colours} index={index} position={[0, 0, 0]} />)\n  }\n  if (seedSelectors.length === 0) {\n    seedSelectors.push( <NoSeedText colours={seedTextColours} index={1} />)\n  }\n  return seedSelectors\n}\n\nfunction SeedButton(props) {\n\n  const mesh = useRef()\n  const [clickScale, setClickscale] = useState(1)\n\n  const handleClick = () => {\n    setClickscale(0.97)\n    props.toggleSeeds()\n    setTimeout(() => {\n      setClickscale(1)\n    }, 100)\n  };\n\n\nreturn (\n  <>\n  <mesh\n  {...props}\n  ref={mesh}\n  onClick={handleClick}\n  scale={clickScale}\n  >\n  <RoundedBox onClick={handleClick} args={[0.2, 0.2, 0.2]} radius={0.05} smoothness={4} {...props}>\n  <meshToonMaterial attach=\"material\" color=\"#212529\" />\n  </RoundedBox>\n  </mesh>\n  </>\n  )\n}\n\nfunction SeedText(props) {\n  const seed = props.seed\n  const mesh = useRef()\n  const [selected, setSelected] = useState(false)\n\n  const handleClick = (event) => {\n    event.stopPropagation()\n    console.log(seed.type)\n    props.selectSeed(seed.type, props.index)\n  }\n\n\n  return (\n      <mesh\n        {...props}\n        ref={mesh}\n        >\n        < Text\n        fontSize={0.05}\n        onClick={(event) => handleClick(event)}\n        position={[0.5, props.index/4, 0]}\n        outlineWidth={0.04}\n        outlineColor={props.colours.outline}\n        color={props.colours.type}\n        rotation={[0, 0, 0]} >\n          seed: {seed.type} {'\\n'}\n          quantity: {seed.quantity}\n        </ Text>\n      </mesh>\n      )\n    }\n\nfunction NoSeedText(props) {\n      const mesh = useRef()\n\n      return (\n          <mesh\n            {...props}\n            ref={mesh}\n            >\n            < Text\n            fontSize={0.05}\n            position={[0.5, props.index/4, 0]}\n            outlineWidth={0.04}\n            outlineColor={props.colours.outline}\n            color={props.colours.type}\n            rotation={[0, 0, 0]} >\n              No seeds available\n            </ Text>\n          </mesh>\n        )\n  }\n\n\nfunction SeedBoxStalactite(props) {\n\n      const mesh = useRef()\n      const handleClick = (event) => {\n        event.stopPropagation()\n      }\n\n      return (\n        <group>\n        <mesh\n          {...props}\n          ref={mesh}\n          scale={1}\n          onClick={(event) => handleClick(event)}\n          >\n          <cylinderGeometry args={[0.2, 0.01, 0.5, 12]} />\n          <meshToonMaterial color={'#6c757d'}  />\n        </mesh>\n        </group>\n      )\n    }\n\nexport default SeedBox\n","import styled from 'styled-components';\nimport React from 'react';\nimport { createId } from '../functions'\n\n// Generates a panel that contains buttons of available Seeds\n// PROTOTYPE ONLY: need to design an interface that coould contain an indefinite number of seeds or objects\n\nconst SeedButton = styled.button`\ncolor: palevioletred;\nfont-size: 1em;\nmargin: 1em;\npadding: 0.25em 1em;\nborder: 2px solid palevioletred;\nborder-radius: 3px;\n`;\n\nconst Panel = styled.div`\n  background-color: lightgrey;\n  `;\n\n\nfunction Seeds(props) {\n\n  return (\n    <Panel>\n     {props.chosenSeed} \n    </Panel>\n  )\n}\n\nfunction seedCollection(props) {\n\n  const {seeds, selectSeed} = props\n  let seedCollection = []\n\n  for (let index = 0; index < seeds.length; index++) {\n    const seed = seeds[index]\n    seedCollection.push(\n      <SeedButton key={createId()} onClick={(event) => selectSeed(seed.type, index)} selectSeedtype={seed.type} quantity={seed.quantity} >\n      {seed.type} {seed.quantity}\n      </SeedButton>\n    )\n  }\n\n    return seedCollection\n}\n\nexport default Seeds\n","import { useRef } from 'react';\n// directionaLight is Three.js's daylight equivalent\n// values are arbitraty for now\n\nfunction Sun(props) {\n  const mesh = useRef()\n  const sunRef = useRef()\n\n  return (\n  <group>\n    <mesh\n      ref={sunRef}\n      {...props}\n      >\n    <directionalLight position={[0, 0.5, 1]} intensity={0.7} />\n    </mesh>\n\n  </group>\n  )\n}\n\nexport default Sun\n","import React, { useRef } from \"react\";\nimport { createId } from '../functions'\nimport { Grass, SeedBox } from './'\n\n\n// The plane on which plants grow\n\nfunction World(props) {\n  // This reference will give us direct access to the mesh\n  const mesh = useRef()\n  // Set up state for the hovered and active state\n  // Rotate mesh every frame, this is outside of React without overhead\n  // useFrame(() => (mesh.current.rotation.y += 0.002))\n\n\n\n\n  return (\n    <>\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={1}\n      >\n      {createStalactites(props)}\n    </mesh>\n    </>\n  )\n}\n\nfunction createStalactites(props) {\n  const world = props.world\n  const createdStalactites = []\n\n  for (let index = 0; index < world.stalactites.length; index++) {\n    const stalactite = world.stalactites[index]\n    createdStalactites.push( <Stalactite key={createId()} sowPlant={props.sowPlant} args={stalactite.geometry} position={stalactite.position} colour={stalactite.colour} />)\n  }\n\n  return createdStalactites\n}\n\nfunction Stalactite(props) {\n  const mesh = useRef()\n  let [top, bottom, depth, sections] = props.args\n\n  const handleClick = (event) => {\n    event.stopPropagation()\n  }\n\n  return (\n    <group>\n    <mesh\n      {...props}\n      ref={mesh}\n      scale={1}\n      onClick={(event) => handleClick(event)}\n      >\n      <cylinderGeometry args={props.args} />\n      <meshToonMaterial color={props.colour}  />\n      <Grass sowPlant={props.sowPlant} position={[0, depth/2, 0]} args={[top, top, 0.01, sections]} />\n    </mesh>\n    </group>\n  )\n}\n\n\nexport default World\n","import styled from 'styled-components';\nimport React from 'react';\n\n// Generates a panel that contains buttons of available Seeds\n// PROTOTYPE ONLY: need to design an interface that coould contain an indefinite number of seeds or objects\n\nconst WorldButton = styled.button`\ncolor: palevioletred;\nfont-size: 1em;\nmargin: 1em;\npadding: 0.25em 1em;\nborder: 2px solid palevioletred;\nborder-radius: 3px;\n`;\n\nconst Panel = styled.div`\n  background-color: lightgrey;\n  `;\n\n\nfunction Seeds(props) {\n\n  return (\n    <Panel>\n    <WorldButton onClick={props.newWorld}> New Garden </WorldButton>\n    <WorldButton onClick={props.saveWorld}> Save Garden </WorldButton>\n  </Panel>\n  )\n}\n\nexport default Seeds\n","import { setDate, createId } from './'\nimport { Plant } from '../components'\n\n// Creates a new Plant, with a uniqueID, growth initialised at 0 and a new date\n\nexport default function createPlant(event, seed) {\n  console.log(\"In createPlant\")\n\n  const position = [event.point.x, event.point.y, event.point.z]\n  const key = createId()\n  const date = setDate()\n  const newPlant = <Plant key={key} growth={0} date={date} position={position} type={seed} />\n\n  return newPlant\n}\n","import { Plant } from '../components'\nimport { setDate, calculateDays } from '../functions'\n\n// Reads a saved Garden and creates an array of plants ready to render\n\nexport default function loadGarden(garden) {\n  let parsedGarden = []\n  const today = setDate(Date()).stamp\n  for (let plant = 0; plant < garden.length; plant ++ ) {\n    const parsedPlant = garden[plant]\n    const growth = calculateGrowth(parsedPlant.date, today)\n    parsedGarden.push(<Plant key={parsedPlant.key} growth={growth} date={parsedPlant.date} position={parsedPlant.position} type={parsedPlant.type}/>)\n  }\n  console.log(parsedGarden)\n  return parsedGarden\n}\n\nfunction calculateGrowth(plantDate, today) {\n  console.log(plantDate.stamp)\n  console.log(today)\n  const days = calculateDays(plantDate.stamp, today)\n  return days\n}\n\n\n\n\n//module.exports = parseGarden;\n","\n\nexport default function sample(array) {\n  return array[Math.floor(Math.random() * array.length)];\n\n}\n","import axios from 'axios'\n\nconst api = axios.create({\n    baseURL: \"/api\",\n})\n\nexport const addUser = payload => api.post(`/user`, payload)\nexport const getUser = name => api.get(`/user/${name}`)\nexport const updateGarden = (id, payload) => api.put(`/user/${id}`, payload)\n\n\nconst apis = {\n    addUser,\n    getUser,\n    updateGarden\n}\n\nexport default apis\n","import api from '../api';\nimport { setDate } from './'\n\n// strips out react components from the state garden array and saves plant props as an object that's easy to parse\n// Needs error handling!\n\n\nexport default async function saveGarden(id, plants, newWorld, chosen, savedSeeds){\n  let savedGarden = extractPlants(plants)\n  const garden = {\"garden\" : savedGarden}\n  const world = {\"world\" : JSON.stringify(newWorld)}\n  const seeds = {\"seeds\": savedSeeds}\n  const worldChosen = {\"worldChosen\" : chosen}\n  const date = setDate()\n  const lastLogin  = { \"lastLogin\" : date.stamp }\n  const payload = {garden, world, worldChosen, seeds, lastLogin}\n  console.log(\"Attempting to save garden\")\n  await api.updateGarden(id, payload).then(res => {\n        console.log('Garden updated successfully')\n    })\n}\n\nfunction extractPlants(plants) {\n  let extractedPlants = []\n  for (let plant = 0; plant < plants.length; plant ++) {\n    const key = plants[plant].key\n    const parsedPlant = plants[plant].props\n    const savedPlant = {key: key, growth: parsedPlant.growth, date: parsedPlant.date, position: parsedPlant.position, type: parsedPlant.type}\n    extractedPlants.push(savedPlant)\n  }\n  return extractedPlants\n}\n","\n\n// creates a date object that contains day, month, year and stamp in ISO format\n\nexport default function setDate() {\n  const date = new Date()\n  const day = date.getDate()\n  const month = date.getMonth() + 1\n  const year = date.getFullYear()\n  const stamp = `${year}/${month}/${day}`\n  return {year: year, month: month, day: day, stamp: stamp }\n}\n","\n// accepts a range object and returns a random number\n// useed to generate terrain and balloons\n\nexport default function randomiser(range) {\n  return Math.random() * (range.max - range.min) + range.min\n}\n","import {sample, randomiser, createId, calculateDays} from '../functions'\n\n\nexport default class Balloon {\n  constructor(seeds) {\n    this.id = createId()\n    this.colour = generateColour()\n    this.position = generatePosition()\n    this.claimed = false\n  }\n}\n\n\nfunction generateColour() {\n  const colours = [\n    \"#db504a\",\n    \"#ff6f59\",\n    \"#ffe200\",\n    \"#9bf6ff\",\n    '#ffd6a5',\n    '#caffbf',\n    '#ffc6ff',\n    '#bdb2ff',\n    '#e9ff70',\n    '#ff70a6',\n    '#ff9770'\n  ]\n  return sample(colours)\n}\n\nfunction generatePosition() {\n  const x = {max: 2, min: -2}\n  const y = {max: 1.8, min: 1.5}\n  const z = {max: 1.8, min: -1.8}\n\n  return [randomiser(x), randomiser(y), randomiser(z)]\n}\n","import {sample, randomiser, createId, calculateDays} from '../functions'\nimport { Balloon } from './'\n\n\nexport default function getBalloons(garden, seeds, login, today) {\n  const dateDifference = calculateDays(login, today)\n  console.log(dateDifference)\n  let balloons = []\n  // if (garden.length % 6 === 0) {\n  //   console.log(\"Balloon incoming!\")\n  // }\n  if (calculateDays(login, today) > 0 ) {\n    balloons.push(new Balloon())\n}\n\n  return balloons\n}\n","\nexport default class GenericPlant {\n\n      constructor() {\n        this.type = \"generic_plant\"\n        this.bloom = 1\n        this.leafColour = '#ff006e'\n        this.stemColour = '#ffbe0b'\n        this.flowerColour = '#55dde0'\n      }\n}\n","\n export default function getSeed(seed) {\n\n   switch(seed) {\n     case \"generic_plant\":\n        return {bloom: 1, leafColour: '#377F34', stemColour: '#499B4A', flowerColour: '#832134'}\n     case \"tulip\":\n        return {bloom: 2, leafColour: '#2D5A27', stemColour: '#567d46', flowerColour: '#ff878d'}\n     case \"sunflower\":\n        return {bloom: 4, leafColour: '#75ae92', stemColour: '#82ac80', flowerColour: '#f8ec89'}\n    case \"crocus\":\n      return {bloom: 1, leafColour: '#76c893', stemColour: '#52b69a', flowerColour: '#3a0ca3'}\n    case \"snowdrop\":\n      return {bloom: 1, leafColour: '#76c893', stemColour: '#52b69a', flowerColour: '#f8f9fa'}\n    case \"rose\":\n      return {bloom: 5, leafColour: '#499B4A', stemColour: '#75ae92', flowerColour: '#9e0059'}\n    case \"venusFlyTrap\":\n      return {bloom: 7, leafColour: '#ccd5ae', stemColour: '#ccd5ae', flowerColour: '#ccd5ae'}\n     default:\n      return\n   }\n\n}\n","export default function newSeeds() {\n\n  return [\n    {type: \"generic_plant\", quantity: 3},\n    {type: \"tulip\", quantity: 3}\n  ]\n\n}\n","\n// creates the data used to generate the Stalactite components\n\nimport {sample, randomiser} from '../functions'\n\n\nconst stalactiteCount = 10\n\nexport default class WorldData {\n\n  constructor(stalactites = generateStalactites())  {\n    this.stalactites = stalactites\n  }\n\n}\n\n\n\nfunction generateStalactites() {\n  let stalactites = []\n  let offset = 0\n  for (let stalactite = 0; stalactite < stalactiteCount; stalactite++) {\n    stalactites.push(generateStalactite(offset))\n    offset += 0.1\n  }\n  return stalactites\n}\n\nfunction earthColour() {\n  const colours = [\n    '#6C6460',\n    '#8a817c',\n    '#6c757d',\n  ]\n\n    return sample(colours)\n}\n\nfunction generateStalactite(offset) {\n  return { geometry: stalactiteGeometry(offset), position: stalactitePosition(offset), colour: earthColour() }\n}\n\nfunction stalactiteGeometry(offset) {\n\n  const stalactiteMax = {max: 1.3 - offset, min: 1 - offset}\n  const stalactiteMin = {max: 0.8 - offset, min: 0.01}\n  const stalactiteDepth = {max: 2.3, min: 1}\n  const stalactiteSegments = {max: 12, min: 6}\n\n  return [\n    randomiser(stalactiteMax),\n    randomiser(stalactiteMin),\n    randomiser(stalactiteDepth),\n    randomiser(stalactiteSegments)\n  ]\n\n}\n\nfunction stalactitePosition(offset) {\n\n  const stalactiteY = {max: 0 + offset, min: 1 + offset }\n  const stalactiteXZ = {max: 0.5, min: -0.5  }\n  return [\n    randomiser(stalactiteXZ),\n    -randomiser(stalactiteY),\n    randomiser(stalactiteXZ)\n  ]\n\n}\n\n\n\n\n\n\n\n/*\n\nOriginal stalactite settings:\n\nEarth disc:\n<cylinderGeometry args={[1.65, 1, 0.68, 9]}  />\n<meshToonMaterial color={'#8a817c'} />\n\nfunction createStalactites() {\n  return [\n    <Stalactite args={[1.6, 0.8, 1, 8]} position={[0.1, -0.28, 0, ]} colour={'#6c757d'}/>,\n    <Stalactite args={[1.3, 0.7, 1, 7]} position={[0.12, -0.5, 0.1]} colour={'#8a817c'} />,\n    <Stalactite args={[1.4, 0.55, 1.3, 4]} position={[-0, -0.7, 0.05]} colour={'#6c757d'} />,\n    <Stalactite args={[0.8, 0.3, 2, 8]} position={[0, -0.9, -0.2]} colour={'#6c757d'} />,\n    <Stalactite args={[0.4, 0.01, 2, 4]} position={[0, -1.9, -0.5]} colour={'#6c757d'} />,\n    <Stalactite args={[0.4, 0.03, 2, 12]} position={[0, -0.9, 1.0]} colour={'#6c757d'} />,\n    <Stalactite args={[0.8, 0.2, 1, 8]} position={[-0, -1.3, .40]} colour={'#8a817c'} />,\n    <Stalactite args={[0.7, 0.1, 1, 9]} position={[-0, -1.9, 0.30]} colour={'#6c757d'}/>,\n    <Stalactite args={[0.4, 0.01, 3, 8]} position={[0, -2.3, 0]} colour={'#8a817c'} />,\n\n\n\n  ]\n}\n*/\n","import React, { Component } from 'react';\nimport { WorldData, newSeeds } from '../gameObjects'\nimport { setDate } from '../functions'\n\n\nimport api from '../api';\n\nimport styled from 'styled-components';\n\nconst Title = styled.h1.attrs({\n    className: 'h1',\n})``\n\nconst Wrapper = styled.div.attrs({\n    className: 'form-group',\n})`\n    margin: 0 30px;\n`\n\nconst Label = styled.label`\n    margin: 5px;\n`\n\nconst InputText = styled.input.attrs({\n    className: 'form-control',\n})`\n    margin: 5px;\n`\n\nconst Button = styled.button.attrs({\n    className: `btn btn-primary`,\n})`\n    margin: 15px 15px 15px 5px;\n`\n\nconst CancelButton = styled.a.attrs({\n    className: `btn btn-danger`,\n})`\n    margin: 15px 15px 15px 5px;\n`\n\nclass SignUp extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            name: '',\n            email: '',\n            password: '',\n        }\n    }\n\n    handleChangeInputName = async event => {\n        const name = event.target.value\n        this.setState({ name })\n    }\n\n    handleChangeInputEmail = async event => {\n        const email = event.target.value\n        this.setState({ email })\n    }\n\n    handleChangeInputPassword = async event => {\n        const password = event.target.value\n        this.setState({ password })\n    }\n\n    handleAddUser = async () => {\n        const { name, email, password } = this.state\n        const newWorld = new WorldData()\n        const world = JSON.stringify(newWorld)\n        const seeds = newSeeds()\n        const worldChosen = false\n        const date = setDate()\n        const lastLogin = date.stamp\n        const payload = { name, email, password, world, worldChosen, seeds, lastLogin }\n        console.log(payload)\n\n        await api.addUser(payload).then(res => {\n            window.alert(`User added`)\n            this.setState({\n                name: '',\n                email: '',\n                password: '',\n            })\n            console.log(\"SEEDS on SIGN UP\")\n            console.log(seeds)\n            this.props.setUser(name, res.data.id, [], newWorld, false, seeds, lastLogin)\n        })\n\n    }\n\n    render() {\n        const { name, email, password } = this.state\n        return (\n            <Wrapper>\n                <Title>Sign Up</Title>\n\n                <Label>Name: </Label>\n                <InputText\n                    type=\"text\"\n                    value={name}\n                    onChange={this.handleChangeInputName}\n                />\n\n                <Label>Email: </Label>\n                <InputText\n                    type=\"text\"\n                    value={email}\n                    onChange={this.handleChangeInputEmail}\n                />\n\n                <Label>Password: </Label>\n                <InputText\n                    type=\"text\"\n                    value={password}\n                    onChange={this.handleChangeInputPassword}\n                />\n\n                <Button onClick={this.handleAddUser}>Sign Up</Button>\n                <CancelButton href={'/movies/list'}>Cancel</CancelButton>\n            </Wrapper>\n        )\n    }\n}\n\nexport default SignUp\n","import React, { Component } from 'react';\nimport { loadGarden } from '../functions'\nimport api from '../api';\n\n\nimport styled from 'styled-components';\n\nconst Title = styled.h1.attrs({\n    className: 'h1',\n})``\n\nconst Wrapper = styled.div.attrs({\n    className: 'form-group',\n})`\n    margin: 0 30px;\n`\n\nconst Label = styled.label`\n    margin: 5px;\n`\n\nconst InputText = styled.input.attrs({\n    className: 'form-control',\n})`\n    margin: 5px;\n`\n\nconst Button = styled.button.attrs({\n    className: `btn btn-primary`,\n})`\n    margin: 15px 15px 15px 5px;\n`\n\n\nclass LogIn extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            name: '',\n            email: '',\n            password: '',\n        }\n    }\n\n    handleChangeInputName = async event => {\n        const name = event.target.value\n        this.setState({ name })\n    }\n\n\n    handleChangeInputPassword = async event => {\n        const password = event.target.value\n        this.setState({ password })\n    }\n\n    handleGetUser = async () => {\n\n        await api.getUser(this.state.name).then(res => {\n          console.log(res)\n            console.log(\"Name is \" + res.data.data.name)\n            if (this.state.password === res.data.data.password) {\n              const name = res.data.data.name\n              const id = res.data.data._id\n              const garden = loadGarden(res.data.data.garden)\n              const world = JSON.parse(res.data.data.world)\n              const seeds =  res.data.data.seeds\n              const worldChosen = res.data.data.worldChosen\n              const lastLogin = res.data.data.lastLogin\n\n              window.alert(`Welcome back ${name}`)\n              this.props.setUser(name, id, garden, world, worldChosen, seeds, lastLogin)\n            } else {\n              window.alert(`Incorrect password`)\n            }\n        })\n    }\n\n    render() {\n        const { name, email, password } = this.state\n        return (\n            <Wrapper>\n                <Title>Log In</Title>\n\n                <Label>Name: </Label>\n                <InputText\n                    type=\"text\"\n                    value={name}\n                    onChange={this.handleChangeInputName}\n                />\n\n                <Label>Password: </Label>\n                <InputText\n                    type=\"text\"\n                    value={password}\n                    onChange={this.handleChangeInputPassword}\n                />\n\n                <Button onClick={this.handleGetUser}>Log In</Button>\n            </Wrapper>\n        )\n    }\n}\n\nexport default LogIn\n","import '../style/App.css';\nimport React, { useState, useEffect, Suspense } from \"react\";\nimport { Seeds, Garden, Worlds } from '../components';\nimport { calculateAchievement, saveGarden, createPlant } from '../functions'\nimport { getBalloons, Balloon } from '../gameObjects'\nimport { Canvas } from \"@react-three/fiber\";\nimport {  Camera, Sun, World, Firmament, Noticeboard, Balloons, SeedBox } from '../components';\n\n\n\n// Main page.\n// Displays the Garden and the Seed panel, handles interactions between them and updates the user's garden/seedbank\n\n\n// REFACTOR: avoid assiging state from index as state here (eg useState(props.seeds) - leads to confusion and makes it harder to troubleshoot\n// This affects garden and seeds currently, which are loaded via login, passed to state in index, then passed here where they are updated and saved\n\nfunction SeedBank(props) {\n\n\n  const [plants, setPlants] = useState(props.garden) //  an array of plant components\n  const [chosenSeed, setChosenseed] = useState(\"\") // contains the type of seed if chosen, or null if no seed is currently selected\n  const [seeds, setSeeds] = useState(props.seeds) //  an array of the player's available seeds\n  const [seedIndex, setSeedindex] = useState(null) //  the index within seeds of the chosenSeed\n  const [balloons, setBalloons] = useState(getBalloons(plants, seeds, props.lastLogin, props.today))\n  const [seedList, setSeedlist] = useState(false)\n\n\n  const sowPlant = ( event ) => {\n    if (chosenSeed) {\n      const newPlant = createPlant(event, chosenSeed)\n      setChosenseed(\"\")\n      setPlants( (prev) => {\n        return [newPlant, ...prev]\n      })\n      updateSeeds(-1)\n    }\n  }\n\n  const selectSeed = (selectedSeed, index) => {\n    const seed = seeds[index]\n    if (seeds[index].quantity > 0) {\n      setChosenseed(selectedSeed)\n      setSeedindex(index)\n    }\n  }\n\n  const updateSeeds = (increment, index = seedIndex) => {\n    const updatedSeeds = [...seeds]\n    updatedSeeds[index].quantity += increment\n    setSeeds(updatedSeeds)\n    setSeedindex(null)\n  }\n\n  const removeBalloon = (index) => {\n    let removedBalloon = balloons[index]\n    removedBalloon.claimed = true\n    // setBalloons: creates a new array based on the previous one, removing the initial balloon, then adds a copy of the old balloon with 'claimed' set to true\n    setBalloons(\n      (prev) => {\n        return [prev.filter(balloon => balloon.id !== removedBalloon.id), removedBalloon]\n      }\n    )\n  }\n\n  const checkAchievements = () => {\n    const fivePlants = plants.length % 5\n    const achievementCount = plants.length / 5 // how many multuples of five?\n    const startingSeeds = 2 // offset for the starting seeds\n    if (fivePlants === 0 && plants.length > 0 && seeds.length < (achievementCount + startingSeeds)) {\n      console.log(\"Achievement!\")\n      const newSeeds = calculateAchievement(seeds)\n      console.log(\"New seeds is\")\n      console.log(newSeeds)\n      setSeeds(newSeeds)\n\n    }\n  }\n\n  const toggleSeeds = () => {\n    setSeedlist((prevState) => !prevState)\n    console.log(\"TOGGLE \" + seedList)\n  }\n\n\n  useEffect(() => {\n    //\n    console.log(\"Calling saveGarden\")\n    saveGarden(props.id, plants, props.world, props.worldChosen, seeds)\n    setSeedlist(seedList)\n    checkAchievements()\n  });\n\n\n  return (\n  <div className=\"App\">\n    <Canvas id=\"canvas\" camera={{ position: [0, 2, 3.5] }}>\n      <Camera />\n      <Suspense fallback={console.log(\"loading\")}>\n      <World\n      sowPlant={sowPlant}\n      position={[0, 0, 0]}\n      world={props.world}\n      seeds={seeds}\n       />\n       <SeedBox\n        seeds={seeds}\n        chosenSeed={chosenSeed}\n        seedList={seedList}\n        position={[-1, -1, 1.9]}\n        selectSeed={selectSeed}\n        chosenSeed={chosenSeed}\n        toggleSeeds={toggleSeeds}\n         />\n\n      {plants}\n      <Balloons\n      removeBalloon={removeBalloon}\n      updateSeeds={updateSeeds}\n      balloons={balloons}\n      seeds={seeds} />\n      <Sun />\n      <Firmament />\n      <Noticeboard today={props.today}/>\n     </Suspense>\n    </Canvas>\n    {props.worldChosen ? <Seeds chosenSeed={chosenSeed} /> : <Worlds className=\"App-header\" newWorld={props.newWorld} saveWorld={ props.saveWorld } />}\n  </div>\n  );\n}\n\nexport default SeedBank;\n","import React from 'react'\nimport { WorldData } from '../gameObjects'\nimport { saveGarden, setDate } from '../functions'\n\n\nimport './App.css';\n\n\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { NavBar } from '../components'\nimport { SignUp, LogIn, SeedBank } from '../pages'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nclass App extends React.Component {\n\n    constructor(props) {\n      super(props)\n      this.state = {\n        userName: \"\",\n        id: 0,\n        garden: [],\n        world: {},\n        chosenWorld: false,\n        seeds: [],\n        lastLogin: \"\"\n      }\n      this.setUser = this.setUser.bind(this)\n      this.newWorld = this.newWorld.bind(this)\n      this.saveWorld = this.saveWorld.bind(this)\n      this.connecToServer = this.connecToServer.bind(this)\n    }\n\n    componentDidMount() {\n      this.connecToServer();\n      }\n\n    connecToServer() {\n       fetch('/');\n     }\n\n\n    setUser(userName, id, garden, world, worldChosen, seeds, lastLogin) {\n      this.setState({\n        userName: userName,\n        id: id,\n        garden: garden,\n        world: world,\n        worldChosen: worldChosen,\n        seeds: seeds,\n        lastLogin: lastLogin,\n        today: setDate().stamp\n      })\n        }\n\n    newWorld() {\n      const newWorld = new WorldData()\n      this.setState({\n        world: newWorld\n      })\n    }\n\n    saveWorld() {\n      this.setState({\n        worldChosen: true\n      })\n      saveGarden(this.state.id, [], this.state.world, true, this.state.seeds)\n    }\n\n\n\n    render() {\n    return (\n    <div style={{ position: \"relative\", width: \"100%\", height: \"100%\" }}>\n        <Router>\n            <NavBar user={this.state.userName} setUser={this.setUser} />\n          </Router>\n          {this.state.userName ?  <SeedBank id={this.state.id} newWorld={this.newWorld} world={this.state.world} worldChosen={this.state.worldChosen} saveWorld={this.saveWorld} seeds={this.state.seeds} garden={this.state.garden} lastLogin={this.state.lastLogin} today={this.state.today} /> : <div><LogIn setUser={this.setUser} /> <SignUp setUser={this.setUser} /></div> }\n    </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}