(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{80:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),s=n(50),c=n.n(s),o=n(0),i=n(1),l=n(8),u=n(2),j=n(3),b=n(51),d=n.n(b).a.create({baseURL:"/api"}),p={addUser:function(e){return d.post("/user",e)},getUser:function(e){return d.get("/user/".concat(e))},updateGarden:function(e,t){return d.put("/user/".concat(e),t)}},h=(n(80),n(35)),O=n(9),m=n(12),g=n(6);var f=function(e){var t=Object(a.useRef)(),n=Object(a.useState)(!1),r=Object(m.a)(n,2),s=(r[0],r[1]),c=Object(a.useState)(!1),o=Object(m.a)(c,2);return o[0],o[1],Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,scale:1,onClick:function(t){return e.sowPlant(t)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(g.jsx)("cylinderGeometry",{args:[1.5,1.5,.3,7]}),Object(g.jsx)("meshToonMaterial",{color:"#5AAB61"})]}))};function x(e){var t=e.growth,n=e.bloom;t>=n&&(!0,t=n);for(var a=t/6,r=[Object(g.jsx)(v,{}),Object(g.jsx)(w,{stemLength:a})],s=0;s<=t;s++)r.push(Object(g.jsx)(y,{color:"#377F34",position:[.02,.15+s/12,.05]}),Object(g.jsx)(y,{color:"#377F34",position:[-.02,.15+s/12,-.05]}));return t>=n&&r.push(Object(g.jsx)(k,{color:"#832134",position:[0,.15+t/8,0]})),r}function v(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,children:[Object(g.jsx)("dodecahedronGeometry",{args:[.08,2]}),Object(g.jsx)("meshToonMaterial",{color:"#947352"})]}))}function w(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,children:[Object(g.jsx)("cylinderGeometry",{args:[.02,.02,.3+e.stemLength,7]}),Object(g.jsx)("meshToonMaterial",{color:"#499B4A"})]}))}function y(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,children:[Object(g.jsx)("cylinderGeometry",{args:[.02,.05,.02,6]}),Object(g.jsx)("meshToonMaterial",{color:e.color})]}))}function k(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,children:[Object(g.jsx)("dodecahedronGeometry",{args:[.06]}),Object(g.jsx)("meshToonMaterial",{color:e.color})]}))}var N=function(e){console.log("Plant props"),console.log(e),e.x,e.y,e.z;var t=Object(a.useRef)(),n=Object(a.useState)(!1),r=Object(m.a)(n,2),s=(r[0],r[1]),c=Object(a.useState)(!1),o=Object(m.a)(c,2),i=(o[0],o[1],Object(a.useState)(0)),l=Object(m.a)(i,2);return l[0],l[1],Object(g.jsx)("group",{children:Object(g.jsx)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,onClick:function(t){return function(t){t.stopPropagation(),console.log("This plant is:"),console.log(e)}(t)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:x(e)}))})},C=n(20),U=n(96);Object(C.b)({OrbitControls:U.a});var S=function(){var e=Object(C.d)(),t=e.camera,n=e.gl.domElement,r=Object(a.useRef)();return Object(C.c)((function(e){return r.current.update()})),Object(g.jsx)("orbitControls",{ref:r,args:[t,n],autoRotate:!0,autoRotateSpeed:1,enabled:!1})};var P,I,T,G,R,E,L,M,A,D,B,F,z=function(e){return Object(g.jsx)("group",{children:Object(g.jsx)("directionalLight",{position:[2,1,2],intensity:.5})})},J=n(13),Y=n(14),_=n.p+"static/media/seedbankProto.6cdc7966.png",q=Y.a.a.attrs({className:"navbar-brand"})(P||(P=Object(J.a)([""]))),H=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(g.jsx)(q,{href:"https://example.com",children:Object(g.jsx)("img",{src:_,height:"50",alt:"seedbank"})})}}]),n}(a.Component),K=H,Q=Y.a.div.attrs({className:"collpase navbar-collapse"})(I||(I=Object(J.a)([""]))),V=Y.a.div.attrs({className:"navbar-nav mr-auto"})(T||(T=Object(J.a)([""]))),W=Y.a.div.attrs({className:"collpase navbar-collapse"})(G||(G=Object(J.a)([""]))),X=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(h.b,{to:"/",className:"navbar-brand",children:"SeedBank"}),Object(g.jsx)(Q,{children:Object(g.jsxs)(V,{children:[Object(g.jsxs)(W,{children:[" ",Object(g.jsxs)("p",{children:[" ",this.props.user]})," "]}),"> }"]})})]})}}]),n}(a.Component),Z=X,$=Y.a.div.attrs({className:"container"})(R||(R=Object(J.a)([""]))),ee=Y.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(E||(E=Object(J.a)(["\n    margin-bottom: 20 px;\n"]))),te=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(g.jsx)($,{children:Object(g.jsxs)(ee,{children:[Object(g.jsx)(K,{}),Object(g.jsx)(Z,{user:this.props.user,setUser:this.props.setUser})]})})}}]),n}(a.Component),ne=te,ae=n(11),re=n.n(ae),se=n(16),ce=Y.a.h1.attrs({className:"h1"})(L||(L=Object(J.a)([""]))),oe=Y.a.div.attrs({className:"form-group"})(M||(M=Object(J.a)(["\n    margin: 0 30px;\n"]))),ie=Y.a.label(A||(A=Object(J.a)(["\n    margin: 5px;\n"]))),le=Y.a.input.attrs({className:"form-control"})(D||(D=Object(J.a)(["\n    margin: 5px;\n"]))),ue=Y.a.button.attrs({className:"btn btn-primary"})(B||(B=Object(J.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),je=Y.a.a.attrs({className:"btn btn-danger"})(F||(F=Object(J.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),be=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputEmail=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({email:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAddUser=Object(se.a)(re.a.mark((function e(){var t,n,r,s,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.name,r=t.email,s=t.password,c={name:n,email:r,password:s},e.next=4,p.addUser(c).then((function(e){window.alert("User added"),a.setState({name:"",email:"",password:""})}));case 4:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.email,a=e.password;return Object(g.jsxs)(oe,{children:[Object(g.jsx)(ce,{children:"Sign Up"}),Object(g.jsx)(ie,{children:"Name: "}),Object(g.jsx)(le,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(g.jsx)(ie,{children:"Email: "}),Object(g.jsx)(le,{type:"text",value:n,onChange:this.handleChangeInputEmail}),Object(g.jsx)(ie,{children:"Password: "}),Object(g.jsx)(le,{type:"text",value:a,onChange:this.handleChangeInputPassword}),Object(g.jsx)(ue,{onClick:this.handleAddUser,children:"Sign Up"}),Object(g.jsx)(je,{href:"/movies/list",children:"Cancel"})]})}}]),n}(a.Component),de=be;function pe(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return{year:a,month:n,day:t,stamp:"".concat(a,"-").concat(n,"-").concat(t)}}function he(e){for(var t=[],n=pe(Date()).stamp,a=0;a<e.length;a++){var r=e[a];Oe(r,n);t.push(Object(g.jsx)(N,{growth:r.growth,bloom:r.bloom,date:r.date,position:r.position},r.key))}return console.log(t),t}function Oe(e,t){console.log("Plant date is"),console.log(e.date.stamp),console.log("Today is"),console.log(t);var n=function(e,t){var n=new Date(e),a=new Date(t).getTime()-n.getTime();return Math.round(a/864e5)}(e.date.stamp,t);return console.log("".concat(n," days have passed")),n}function me(){return(me=Object(se.a)(re.a.mark((function e(t,n){var a,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(n),r={garden:a},console.log("Attempting to save garden"),console.log(r),console.log(t),e.next=7,p.updateGarden(t,r).then((function(e){console.log("Garden updated successfully"),console.log(n.length)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){console.log("Garden has"),console.log(e.length);for(var t=[],n=0;n<e.length;n++){var a=e[n].key,r=e[n].props,s={key:a,growth:r.growth,date:r.date,position:r.position};t.push(s)}return console.log("ExtractedPlants"),console.log(t),t}var fe,xe,ve,we,ye,ke,Ne=n(95);var Ce=Y.a.h1.attrs({className:"h1"})(fe||(fe=Object(J.a)([""]))),Ue=Y.a.div.attrs({className:"form-group"})(xe||(xe=Object(J.a)(["\n    margin: 0 30px;\n"]))),Se=Y.a.label(ve||(ve=Object(J.a)(["\n    margin: 5px;\n"]))),Pe=Y.a.input.attrs({className:"form-control"})(we||(we=Object(J.a)(["\n    margin: 5px;\n"]))),Ie=Y.a.button.attrs({className:"btn btn-primary"})(ye||(ye=Object(J.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),Te=(Y.a.a.attrs({className:"btn btn-danger"})(ke||(ke=Object(J.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(se.a)(re.a.mark((function e(t){var n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleGetUser=Object(se.a)(re.a.mark((function e(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getUser(a.state.name).then((function(e){if(console.log(e),console.log("Name is "+e.data.data.name),a.state.password===e.data.data.password){window.alert("Logged in");var t=e.data.data.name,n=e.data.data._id,r=he(e.data.data.garden);a.props.setUser(t,n,r)}else window.alert("Incorrect password")}));case 2:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=(e.email,e.password);return Object(g.jsxs)(Ue,{children:[Object(g.jsx)(Ce,{children:"Log In"}),Object(g.jsx)(Se,{children:"Name: "}),Object(g.jsx)(Pe,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(g.jsx)(Se,{children:"Password: "}),Object(g.jsx)(Pe,{type:"text",value:n,onChange:this.handleChangeInputPassword}),Object(g.jsx)(Ie,{onClick:this.handleGetUser,children:"Log In"})]})}}]),n}(a.Component)),Ge=Te,Re=n(15);n(90);var Ee=function(e){var t=Object(a.useState)(e.garden),n=Object(m.a)(t,2),r=n[0],s=n[1];return Object(a.useEffect)((function(){console.log("Calling saveGarden"),function(e,t){me.apply(this,arguments)}(e.id,r)})),Object(g.jsxs)(C.a,{id:"canvas",className:"App",camera:{position:[0,1.5,2],lookat:[0,0,0]},children:[Object(g.jsx)(S,{}),Object(g.jsx)(z,{}),"//",Object(g.jsx)("pointLight",{position:[-10,-10,-10]}),Object(g.jsxs)(a.Suspense,{fallback:console.log("loading"),children:[Object(g.jsx)(f,{sowPlant:function(e){var t=[e.point.x,e.point.y,e.point.z],n=Object(Ne.a)(),a=Object(g.jsx)(N,{growth:0,bloom:2,date:pe(),position:t},n);s((function(e){return[a].concat(Object(Re.a)(e))})),console.log("New garden length: ".concat(r.length))},position:[0,0,0]}),r]})]})},Le=(n(91),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={userName:"",id:0,garden:[]},a.setUser=a.setUser.bind(Object(l.a)(a)),a.connecToServer=a.connecToServer.bind(Object(l.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"connecToServer",value:function(){fetch("/")}},{key:"setUser",value:function(e,t,n){console.log("SETTING USER"),this.setState({userName:e,id:t,garden:n}),console.log("User is "+this.state.id+" "+this.state.userName),console.log(this.state.garden)}},{key:"render",value:function(){return Object(g.jsxs)(h.a,{children:[Object(g.jsx)(ne,{user:this.state.userName,setUser:this.setUser}),this.state.userName?Object(g.jsx)(Ee,{id:this.state.id,garden:this.state.garden}):Object(g.jsxs)("div",{children:[Object(g.jsx)(Ge,{setUser:this.setUser})," ",Object(g.jsx)(de,{setUser:this.setUser})]})]})}}]),n}(r.a.Component));c.a.render(Object(g.jsx)(Le,{}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.520594ae.chunk.js.map