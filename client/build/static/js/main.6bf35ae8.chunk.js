(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),r=n(58),s=n.n(r),c=n(0),l=n(1),i=n(10),u=n(3),d=n(4);function j(e){var t,n=!0,a={};if(e.length===h.length)return e;for(;n;)n=b(a=(t=h)[Math.floor(Math.random()*t.length)],e);return function(e,t,n){for(var a=[],o=0;o<e.length;o++){var r=e[o];r.type===t.type&&(console.log(t),r.quantity+=t.quantity,console.log(r)),a.push(r)}n&&a.push(t);return a}(e,a,!0)}function b(e,t){for(var n=0;n<t.length;n++){if(t[n].type===e.type)return!0}return!1}var h=[{type:"generic_plant",quantity:3},{type:"tulip",quantity:3},{type:"sunflower",quantity:3},{type:"crocus",quantity:3},{type:"snowdrop",quantity:3},{type:"rose",quantity:3},{type:"venusFlyTrap",quantity:3}];function f(e,t){var n=new Date(e),a=new Date(t).getTime()-n.getTime();return Math.round(a/864e5)}var p=n(105);function O(){return Object(p.a)()}var m=n(9),g=n(23),v=n(5);function x(e){console.log("In createBalloons"),console.log(e.balloons.length);var t=[],n=e.balloons,a=e.removeBalloon,o=e.updateSeeds,r=e.seeds;console.log(n);for(var s=0;s<n.length;s++){var c=n[s];t.push(Object(v.jsx)(y,{claimed:c.claimed,updateSeeds:o,removeBalloon:a,seeds:r,position:c.position,index:s,colour:c.colour},O()))}return t}function y(e){var t=Object(a.useRef)();Object(g.c)((function(e,n){return t.current.rotation.y+=.01}));return Object(v.jsx)("group",{children:Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.8,onClick:function(){if(!e.claimed){var t=Math.floor(Math.random()*e.seeds.length);e.updateSeeds(3,t),e.removeBalloon(e.index)}},children:[Object(v.jsx)(w,{colour:e.colour}),Object(v.jsx)(S,{colour:e.colour,position:[0,-.18,0]}),Object(v.jsx)(C,{position:[0,-.15,0]}),Object(v.jsx)(k,{position:[0,-.48,0]})]}))})}function w(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(v.jsx)("dodecahedronGeometry",{args:[.153,8]}),Object(v.jsx)("meshToonMaterial",{color:e.colour})]}))}function C(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(v.jsx)("cylinderGeometry",{args:[.005,.005,.5,3]}),Object(v.jsx)("meshToonMaterial",{color:"#16161D"})]}))}function S(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(v.jsx)("cylinderGeometry",{args:[.15,-.01,.3,16]}),Object(v.jsx)("meshToonMaterial",{color:e.colour})]}))}function k(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(v.jsx)("boxGeometry",{args:[.15,.15,.15]}),Object(v.jsx)("meshToonMaterial",{color:"#7f5539"})]}))}var N=function(e){var t=Object(a.useRef)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:x(e)}))})},U=n(102);Object(g.b)({OrbitControls:U.a});var P=function(){var e=Object(g.d)(),t=e.camera,n=e.gl.domElement,o=Object(a.useRef)();return Object(g.c)((function(e){return o.current.update()})),Object(v.jsx)("orbitControls",{ref:o,position:[0,-10,0],args:[t,n],autoRotate:!0,autoRotateSpeed:.2,enabled:!0})},T=n(107);function G(e){return Object(v.jsx)(T.a,Object(m.a)({turbidity:.01,distance:45e4,sunPosition:[0,1,0],inclination:.47,elevation:.6,exposure:.3,mieDirectionalG:.04,mieCoefficient:.0045,rayleigh:.1,azimuth:.6},e))}n(49);var I=function(e){return Object(v.jsxs)(g.a,{id:"canvas",camera:{position:[0,2,3.5],lookat:[0,0,0]},children:[Object(v.jsx)(P,{}),Object(v.jsxs)(a.Suspense,{fallback:console.log("loading"),children:[Object(v.jsx)(fe,{sowPlant:e.sowPlant,position:[0,0,0],world:e.world}),e.plants,Object(v.jsx)(N,{removeBalloon:e.removeBalloon,updateSeeds:e.updateSeeds,balloons:e.balloons,seeds:e.seeds})]}),Object(v.jsx)(ue,{}),Object(v.jsx)(G,{}),Object(v.jsx)(H,{today:e.today})]})};var R,M,L=function(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(t){return e.sowPlant(t)},children:[Object(v.jsx)("cylinderGeometry",{args:e.args}),Object(v.jsx)("meshToonMaterial",{color:"#a7c957"})]}))},E=n(16),W=n(17),q=n.p+"static/media/seedbankProto.6cdc7966.png",D=W.a.a.attrs({className:"navbar-brand"})(R||(R=Object(E.a)([""]))),A=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsx)(D,{href:"https://example.com",children:Object(v.jsx)("img",{src:q,height:"50",alt:"seedbank"})})}}]),n}(a.Component),B=A,F=n(32),z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(o.a.Fragment,{children:[Object(v.jsx)(F.b,{to:"/",className:"navbar-brand",children:"SeedBank"}),Object(v.jsx)(F.b,{to:"/",className:"navbar-brand",children:this.props.user})]})}}]),n}(a.Component),J=z,_=W.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(M||(M=Object(E.a)(["\n    margin-bottom: 20 px;\n"]))),Y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(_,{height:"50%",children:[Object(v.jsx)(B,{}),Object(v.jsx)(J,{user:this.props.user,setUser:this.props.setUser})]})}}]),n}(a.Component),K=Y,X=n(103),Z=n(106);var H=function(e){var t=Ge();return Object(v.jsx)(X.a,{position:[.5,1,6],args:[20,200],onclick:console.log("clicked"),follow:!0,lockX:!1,lockY:!1,lockZ:!1,children:Object(v.jsxs)(Z.a,{fontSize:.5,color:"#857c8d",children:[t.day," ",t.month," ",t.year]})})},Q=n(12);function V(e){console.log("Plant props");var t=Object(Q.a)(e.position,3),n=t[0],a=t[1],o=t[2];console.log(n),console.log(a),console.log(o);var r=function(e){switch(e){case"generic_plant":return{bloom:1,leafColour:"#377F34",stemColour:"#499B4A",flowerColour:"#832134"};case"tulip":return{bloom:2,leafColour:"#2D5A27",stemColour:"#567d46",flowerColour:"#ff878d"};case"sunflower":return{bloom:4,leafColour:"#75ae92",stemColour:"#82ac80",flowerColour:"#f8ec89"};case"crocus":return{bloom:1,leafColour:"#76c893",stemColour:"#52b69a",flowerColour:"#3a0ca3"};case"snowdrop":return{bloom:1,leafColour:"#76c893",stemColour:"#52b69a",flowerColour:"#f8f9fa"};case"rose":return{bloom:5,leafColour:"#499B4A",stemColour:"#75ae92",flowerColour:"#9e0059"};case"venusFlyTrap":return{bloom:7,leafColour:"#ccd5ae",stemColour:"#ccd5ae",flowerColour:"#ccd5ae"};default:return}}(e.type),s=r.bloom,c=r.leafColour,l=r.stemColour,i=r.flowerColour,u=e.growth;u>=s&&(u=s);for(var d=u/24,j=[Object(v.jsx)($,{},O()),Object(v.jsx)(ee,{stemColour:l,stemLength:d,position:[0,.05,0]},O())],b=0;b<=u;b++)j.push(Object(v.jsx)(te,{color:c,position:[.02,.1+b/18,.05]},O()),Object(v.jsx)(te,{color:c,position:[-.02,.1+b/18,-.05]},O()));return u>=s&&j.push(Object(v.jsx)(ne,{color:i,position:[0,.1+u/11,0]},O())),j}function $(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(v.jsx)("dodecahedronGeometry",{args:[.035,2]}),Object(v.jsx)("meshToonMaterial",{color:"#947352"})]}))}function ee(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.5,children:[Object(v.jsx)("cylinderGeometry",{args:[.01,.03,.3+e.stemLength,12]}),Object(v.jsx)("meshToonMaterial",{color:e.stemColour})]}))}function te(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(v.jsx)("cylinderGeometry",{args:[.02,.05,.02,6]}),Object(v.jsx)("meshToonMaterial",{color:e.color})]}))}function ne(e){var t=Object(a.useRef)();return Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(v.jsx)("dodecahedronGeometry",{args:[.06]}),Object(v.jsx)("meshToonMaterial",{color:e.color})]}))}var ae=function(e){var t=Object(a.useRef)();return Object(v.jsx)("group",{children:Object(v.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,onClick:function(t){return function(t){t.stopPropagation(),console.log("This plant is:"),console.log(e)}(t)},scale:.2,children:V(e)}))})};n(104);var oe,re,se=W.a.button(oe||(oe=Object(E.a)(["\ncolor: palevioletred;\nfont-size: 1em;\nmargin: 1em;\npadding: 0.25em 1em;\nborder: 2px solid palevioletred;\nborder-radius: 3px;\n"]))),ce=W.a.div(re||(re=Object(E.a)(["\n  background-color: lightgrey;\n  "])));function le(e){for(var t=e.seeds,n=e.selectSeed,a=[],o=function(e){var o=t[e];a.push(Object(v.jsxs)(se,{onClick:function(t){return n(o.type,e)},selectSeedtype:o.type,quantity:o.quantity,children:[o.type," ",o.quantity]},O()))},r=0;r<t.length;r++)o(r);return a}var ie=function(e){return Object(v.jsx)(ce,{children:le(e)})};var ue=function(e){Object(a.useRef)();var t=Object(a.useRef)();return Object(v.jsx)("group",{children:Object(v.jsx)("mesh",Object(m.a)(Object(m.a)({ref:t},e),{},{children:Object(v.jsx)("directionalLight",{position:[0,.5,1],intensity:.7})}))})};function de(e){for(var t=e.world,n=[],a=0;a<t.stalactites.length;a++){var o=t.stalactites[a];n.push(Object(v.jsx)(je,{sowPlant:e.sowPlant,args:o.geometry,position:o.position,colour:o.colour},O()))}return n}function je(e){var t=Object(a.useRef)(),n=Object(Q.a)(e.args,4),o=n[0],r=(n[1],n[2]),s=n[3];return Object(v.jsx)("group",{children:Object(v.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(v.jsx)("cylinderGeometry",{args:e.args}),Object(v.jsx)("meshToonMaterial",{color:e.colour}),Object(v.jsx)(L,{sowPlant:e.sowPlant,position:[0,r/2,0],args:[o,o,.01,s]})]}))})}var be,he,fe=function(e){var t=Object(a.useRef)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:de(e)}))})},pe=W.a.button(be||(be=Object(E.a)(["\ncolor: palevioletred;\nfont-size: 1em;\nmargin: 1em;\npadding: 0.25em 1em;\nborder: 2px solid palevioletred;\nborder-radius: 3px;\n"]))),Oe=W.a.div(he||(he=Object(E.a)(["\n  background-color: lightgrey;\n  "])));var me=function(e){return Object(v.jsxs)(Oe,{children:[Object(v.jsx)(pe,{onClick:e.newWorld,children:" New Garden "}),Object(v.jsx)(pe,{onClick:e.saveWorld,children:" Save Garden "})]})};function ge(e){for(var t=[],n=Ge(Date()).stamp,a=0;a<e.length;a++){var o=e[a];console.log("Plant is"),console.log(o);var r=ve(o.date,n);t.push(Object(v.jsx)(ae,{growth:r,date:o.date,position:o.position,type:o.type},o.key))}return console.log(t),t}function ve(e,t){console.log("Plant date is"),console.log(e.stamp),console.log("Today is"),console.log(t);var n=f(e.stamp,t);return console.log("".concat(n," days have passed")),n}function xe(e){return e[Math.floor(Math.random()*e.length)]}var ye=n(14),we=n.n(ye),Ce=n(19),Se=n(66),ke=n.n(Se).a.create({baseURL:"/api"}),Ne={addUser:function(e){return ke.post("/user",e)},getUser:function(e){return ke.get("/user/".concat(e))},updateGarden:function(e,t){return ke.put("/user/".concat(e),t)}};function Ue(e,t,n,a,o){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(Ce.a)(we.a.mark((function e(t,n,a,o,r){var s,c,l,i,u,d,j,b;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Te(n),c={garden:s},l={world:JSON.stringify(a)},i={seeds:r},u={worldChosen:o},d=Ge(),j={lastLogin:d.stamp},b={garden:c,world:l,worldChosen:u,seeds:i,lastLogin:j},console.log("Attempting to save garden"),console.log(b),console.log(t),e.next=13,Ne.updateGarden(t,b).then((function(e){console.log("Garden updated successfully")}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){for(var t=[],n=0;n<e.length;n++){var a=e[n].key,o=e[n].props,r={key:a,growth:o.growth,date:o.date,position:o.position,type:o.type};t.push(r)}return t}function Ge(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return{year:a,month:n,day:t,stamp:"".concat(a,"/").concat(n,"/").concat(t)}}function Ie(e){return Math.random()*(e.max-e.min)+e.min}var Re=function e(t){Object(c.a)(this,e),this.id=O(),this.colour=xe(["#db504a","#ff6f59","#ffe200","#9bf6ff","#ffd6a5","#caffbf","#ffc6ff","#bdb2ff","#e9ff70","#ff70a6","#ff9770"]),this.position=function(){var e={max:1.8,min:1.5},t={max:1.8,min:-1.8};return[Ie({max:2,min:-2}),Ie(e),Ie(t)]}(),this.claimed=!1};var Me=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le();Object(c.a)(this,e),this.stalactites=t};function Le(){for(var e=[],t=0,n=0;n<10;n++)e.push(Ee(t)),t+=.1;return e}function Ee(e){return{geometry:We(e),position:qe(e),colour:xe(["#6C6460","#8a817c","#6c757d"])}}function We(e){var t={max:.8-e,min:.01};return[Ie({max:1.3-e,min:1-e}),Ie(t),Ie({max:2.3,min:1}),Ie({max:12,min:6})]}function qe(e){var t={max:0+e,min:1+e},n={max:.5,min:-.5};return[Ie(n),-Ie(t),Ie(n)]}n(98);var De,Ae,Be,Fe,ze,Je,_e,Ye,Ke,Xe,Ze,He=W.a.h1.attrs({className:"h1"})(De||(De=Object(E.a)([""]))),Qe=W.a.div.attrs({className:"form-group"})(Ae||(Ae=Object(E.a)(["\n    margin: 0 30px;\n"]))),Ve=W.a.label(Be||(Be=Object(E.a)(["\n    margin: 5px;\n"]))),$e=W.a.input.attrs({className:"form-control"})(Fe||(Fe=Object(E.a)(["\n    margin: 5px;\n"]))),et=W.a.button.attrs({className:"btn btn-primary"})(ze||(ze=Object(E.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),tt=W.a.a.attrs({className:"btn btn-danger"})(Je||(Je=Object(E.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),nt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(Ce.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputEmail=function(){var e=Object(Ce.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({email:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(Ce.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAddUser=Object(Ce.a)(we.a.mark((function e(){var t,n,o,r,s,c,l,i,u,d;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.name,o=t.email,r=t.password,s=new Me,c=JSON.stringify(s),l=[{type:"generic_plant",quantity:3},{type:"tulip",quantity:3}],!1,i=Ge(),u=i.stamp,d={name:n,email:o,password:r,world:c,worldChosen:false,seeds:l,lastLogin:u},console.log(d),e.next=11,Ne.addUser(d).then((function(e){window.alert("User added"),a.setState({name:"",email:"",password:""}),console.log("SEEDS on SIGN UP"),console.log(l),a.props.setUser(n,e.data.id,[],s,!1,l,u)}));case 11:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.email,a=e.password;return Object(v.jsxs)(Qe,{children:[Object(v.jsx)(He,{children:"Sign Up"}),Object(v.jsx)(Ve,{children:"Name: "}),Object(v.jsx)($e,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(v.jsx)(Ve,{children:"Email: "}),Object(v.jsx)($e,{type:"text",value:n,onChange:this.handleChangeInputEmail}),Object(v.jsx)(Ve,{children:"Password: "}),Object(v.jsx)($e,{type:"text",value:a,onChange:this.handleChangeInputPassword}),Object(v.jsx)(et,{onClick:this.handleAddUser,children:"Sign Up"}),Object(v.jsx)(tt,{href:"/movies/list",children:"Cancel"})]})}}]),n}(a.Component),at=nt,ot=W.a.h1.attrs({className:"h1"})(_e||(_e=Object(E.a)([""]))),rt=W.a.div.attrs({className:"form-group"})(Ye||(Ye=Object(E.a)(["\n    margin: 0 30px;\n"]))),st=W.a.label(Ke||(Ke=Object(E.a)(["\n    margin: 5px;\n"]))),ct=W.a.input.attrs({className:"form-control"})(Xe||(Xe=Object(E.a)(["\n    margin: 5px;\n"]))),lt=W.a.button.attrs({className:"btn btn-primary"})(Ze||(Ze=Object(E.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),it=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(Ce.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(Ce.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleGetUser=Object(Ce.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.getUser(a.state.name).then((function(e){if(console.log(e),console.log("Name is "+e.data.data.name),a.state.password===e.data.data.password){var t=e.data.data.name,n=e.data.data._id,o=ge(e.data.data.garden),r=JSON.parse(e.data.data.world),s=e.data.data.seeds,c=e.data.data.worldChosen,l=e.data.data.lastLogin;window.alert("Welcome back ".concat(t)),a.props.setUser(t,n,o,r,c,s,l)}else window.alert("Incorrect password")}));case 2:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=(e.email,e.password);return Object(v.jsxs)(rt,{children:[Object(v.jsx)(ot,{children:"Log In"}),Object(v.jsx)(st,{children:"Name: "}),Object(v.jsx)(ct,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(v.jsx)(st,{children:"Password: "}),Object(v.jsx)(ct,{type:"text",value:n,onChange:this.handleChangeInputPassword}),Object(v.jsx)(lt,{onClick:this.handleGetUser,children:"Log In"})]})}}]),n}(a.Component),ut=it,dt=n(18);var jt=function(e){var t=Object(a.useState)(e.garden),n=Object(Q.a)(t,2),o=n[0],r=n[1],s=Object(a.useState)(""),c=Object(Q.a)(s,2),l=c[0],i=c[1],u=Object(a.useState)(e.seeds),d=Object(Q.a)(u,2),b=d[0],h=d[1],p=Object(a.useState)(null),m=Object(Q.a)(p,2),g=m[0],x=m[1],y=Object(a.useState)(function(e,t,n,a){console.log("CAlculating balloondata"),console.log("Last Login "+n),console.log("Today "+a);var o=f(n,a);console.log(o);var r=[];return f(n,a)>0&&r.push(new Re),r}(0,0,e.lastLogin,e.today)),w=Object(Q.a)(y,2),C=w[0],S=w[1];console.log("SEEDS IN SEEDBANK IS"),console.log(b);var k=function(e,t){b[t];b[t].quantity>0&&(i(e),x(t))},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;console.log("UPDATING SEEDS"),console.log(b);var n=Object(dt.a)(b);n[t].quantity+=e,h(n),x(null)};return Object(a.useEffect)((function(){console.log("Calling saveGarden"),Ue(e.id,o,e.world,e.worldChosen,b),function(){console.log("Checking achievements");var e=o.length%5;console.log("FivePlants"),console.log(e),console.log("Achievement Count");var t=o.length/5;if(console.log(t),console.log(t+2),console.log(b.length),0===e&&o.length>0&&b.length<t+2){console.log("Achievement!");var n=j(b);console.log("New seeds is"),console.log(n),h(n)}console.log("SEEDS is"),console.log(b)}()})),Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(I,{plants:o,balloons:C,world:e.world,seeds:b,selectSeed:k,removeBalloon:function(e){var t=C[e];t.claimed=!0,S((function(e){return[e.filter((function(e){return e.id!==t.id})),t]})),console.log(C)},updateSeeds:N,sowPlant:function(e){if(l){var t=function(e,t){console.log("In createPlant");var n=[e.point.x,e.point.y,e.point.z],a=O(),o=Ge();return Object(v.jsx)(ae,{growth:0,date:o,position:n,type:t},a)}(e,l);i(""),r((function(e){return[t].concat(Object(dt.a)(e))})),N(-1)}}}),e.worldChosen?Object(v.jsx)(ie,{seeds:b,className:"App-header",selectSeed:k}):Object(v.jsx)(me,{className:"App-header",newWorld:e.newWorld,saveWorld:e.saveWorld})]})},bt=(n(99),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={userName:"",id:0,garden:[],world:{},chosenWorld:!1,seeds:[],lastLogin:""},a.setUser=a.setUser.bind(Object(i.a)(a)),a.newWorld=a.newWorld.bind(Object(i.a)(a)),a.saveWorld=a.saveWorld.bind(Object(i.a)(a)),a.connecToServer=a.connecToServer.bind(Object(i.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"connecToServer",value:function(){fetch("/")}},{key:"setUser",value:function(e,t,n,a,o,r,s){console.log("SETTING USER"),this.setState({userName:e,id:t,garden:n,world:a,worldChosen:o,seeds:r,lastLogin:s,today:Ge().stamp}),console.log("User is "+this.state.id+" "+this.state.userName),console.log("Last login "+this.state.lastLogin),console.log("Today "+this.state.today),console.log("Seeds is"),console.log(this.state.seeds)}},{key:"newWorld",value:function(){var e=new Me;this.setState({world:e})}},{key:"saveWorld",value:function(){this.setState({worldChosen:!0}),Ue(this.state.id,[],this.state.world,!0,this.state.seeds)}},{key:"render",value:function(){return Object(v.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[Object(v.jsx)(F.a,{children:Object(v.jsx)(K,{user:this.state.userName,setUser:this.setUser})}),this.state.userName?Object(v.jsx)(jt,{id:this.state.id,newWorld:this.newWorld,world:this.state.world,worldChosen:this.state.worldChosen,saveWorld:this.saveWorld,seeds:this.state.seeds,garden:this.state.garden,lastLogin:this.state.lastLogin,today:this.state.today}):Object(v.jsxs)("div",{children:[Object(v.jsx)(ut,{setUser:this.setUser})," ",Object(v.jsx)(at,{setUser:this.setUser})]})]})}}]),n}(o.a.Component));s.a.render(Object(v.jsx)(bt,{}),document.getElementById("root"))},49:function(e,t,n){},98:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.6bf35ae8.chunk.js.map