(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(57),s=n.n(o),c=n(0),i=n(1),l=n(10),u=n(3),j=n(4);function d(e){var t,n=!0,a={};if(e.length===h.length)return e;for(;n;)n=b(a=(t=h)[Math.floor(Math.random()*t.length)],e);return function(e,t,n){for(var a=[],r=0;r<e.length;r++){var o=e[r];o.type===t.type&&(console.log(t),o.quantity+=t.quantity,console.log(o)),a.push(o)}n&&a.push(t);return a}(e,a,!0)}function b(e,t){for(var n=0;n<t.length;n++){if(t[n].type===e.type)return!0}return!1}var h=[{type:"generic_plant",quantity:3},{type:"tulip",quantity:3},{type:"sunflower",quantity:3},{type:"crocus",quantity:3},{type:"snowdrop",quantity:3},{type:"rose",quantity:3},{type:"venusFlyTrap",quantity:3}];function f(e,t){var n=new Date(e),a=new Date(t).getTime()-n.getTime();return Math.round(a/864e5)}var O=n(104);function p(){return Object(O.a)()}var m=n(9),g=n(5);function x(e){for(var t=[],n=e.balloons,a=e.removeBalloon,r=e.updateSeeds,o=e.seeds,s=function(e){var s=n[e];t.push(Object(g.jsx)(U,{claimed:s.claimed,seeds:o,position:s.position,index:e,handleClick:function(t){if(!s.claimed){var n=Math.floor(Math.random()*o.length);r(3,n),a(e)}},colour:s.colour},p()))},c=0;c<n.length;c++)s(c);return t}var v=function(e){var t=Object(a.useRef)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:x(e)}))})},w=n(102),y=n(105),C=n(20);function S(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(g.jsx)("dodecahedronGeometry",{args:[.153,8]}),Object(g.jsx)("meshToonMaterial",{color:e.colour})]}))}function k(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(g.jsx)("cylinderGeometry",{args:[.005,.005,.5,3]}),Object(g.jsx)("meshToonMaterial",{color:"#16161D"})]}))}function N(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(g.jsx)("cylinderGeometry",{args:[.15,-.01,.3,16]}),Object(g.jsx)("meshToonMaterial",{color:e.colour})]}))}function R(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(g.jsx)("boxGeometry",{args:[.15,.15,.15]}),Object(g.jsx)("meshToonMaterial",{color:"#7f5539"})]}))}var U=function(e){var t=Object(a.useRef)(),n="#293241",r="#b1b5c8";return Object(C.c)((function(e,n){return t.current.rotation.y+=.01})),Object(g.jsx)("group",{children:Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.8,onClick:e.handleClick,children:[Object(g.jsx)(S,{colour:e.colour}),Object(g.jsx)(N,{colour:e.colour,position:[0,-.18,0]}),Object(g.jsx)(k,{position:[0,-.15,0]}),Object(g.jsx)(R,{position:[0,-.48,0]}),Object(g.jsx)(w.a,{follow:!0,lockX:!1,lockY:!1,lockZ:!1,children:Object(g.jsxs)(y.a,{position:[0,-.7,0],fontSize:.09,outlineWidth:.04,outlineColor:r,color:n,claimed:!0,children:[" ",e.message," "]})})]}))})},G=n(12),L=[.5,1.7,3];function M(e){switch(e){case 0:var t=Ge();return"".concat(t.day," ").concat(t.month," ").concat(t.year);case 1:return"Choose Seed";default:return"hello"}}var P=function(e){var t=Object(a.useRef)(),n=Object(a.useState)(0),r=Object(G.a)(n,2),o=r[0],s=r[1],c="#293241",i="#b1b5c8";return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(){s(o>=1?0:function(e){return e+1}),console.log(o)},children:[Object(g.jsx)(w.a,{position:L,follow:!0,lockX:!1,lockY:!1,lockZ:!1,children:Object(g.jsx)(y.a,{fontSize:.5,outlineWidth:.5,outlineColor:i,color:c,children:M(o)})}),1===o?Object(g.jsx)(Oe,{seeds:e.seeds,selectSeed:e.selectSeed,toggleSeeds:e.toggleSeeds,chosenSeed:e.chosenSeed}):""]}))},W=n(103);Object(C.b)({OrbitControls:W.a});var T=function(){var e=Object(C.d)(),t=e.camera,n=e.gl.domElement,r=Object(a.useRef)();return Object(C.c)((function(e){return r.current.update()})),Object(g.jsx)("orbitControls",{ref:r,position:[0,-10,0],args:[t,n],autoRotate:!0,autoRotateSpeed:.2,enabled:!0})},I=n(106);function q(e){return Object(g.jsx)(I.a,Object(m.a)({turbidity:.01,distance:45e4,sunPosition:[0,1,0],inclination:.47,elevation:.6,exposure:.3,mieDirectionalG:.04,mieCoefficient:.0045,rayleigh:.1,azimuth:.6},e))}var E=function(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(t){return e.sowPlant(t)},children:[Object(g.jsx)("cylinderGeometry",{args:e.args}),Object(g.jsx)("meshToonMaterial",{color:"#a7c957"})]}))};function D(e){for(var t=e.world,n=[],a=0;a<t.stalactites.length;a++){var r=t.stalactites[a];n.push(Object(g.jsx)(A,{sowPlant:e.sowPlant,args:r.geometry,position:r.position,colour:r.colour},p()))}return n}function A(e){var t=Object(a.useRef)(),n=Object(G.a)(e.args,4),r=n[0],o=(n[1],n[2]),s=n[3];return Object(g.jsx)("group",{children:Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(g.jsx)("cylinderGeometry",{args:e.args}),Object(g.jsx)("meshToonMaterial",{color:e.colour}),Object(g.jsx)(E,{sowPlant:e.sowPlant,position:[0,o/2,0],args:[r,r,.01,s]})]}))})}var B=function(e){var t=Object(a.useRef)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:D(e)}))})};var F,z,X=function(e){var t=Object(a.useRef)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(g.jsx)(U,{position:[-.6,2,0],handleClick:e.newWorld,colour:"#ee6055",message:"New world"}),Object(g.jsx)(U,{position:[.6,2,0],handleClick:e.saveWorld,colour:"#ffd97d",message:"Save world"})]}))})},J=n(16),Y=n(17),Z=n.p+"static/media/seedbankProto.6cdc7966.png",_=Y.a.a.attrs({className:"navbar-brand"})(F||(F=Object(J.a)([""]))),V=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(g.jsx)(_,{href:"https://example.com",children:Object(g.jsx)("img",{src:Z,height:"50",alt:"seedbank"})})}}]),n}(a.Component),H=V,K=n(32),Q=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(K.b,{to:"/",className:"navbar-brand",children:"SeedBank"}),Object(g.jsx)(K.b,{to:"/",className:"navbar-brand",children:this.props.user})]})}}]),n}(a.Component),$=Q,ee=Y.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(z||(z=Object(J.a)(["\n    margin-bottom: 20 px;\n"]))),te=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(ee,{height:"50%",children:[Object(g.jsx)(H,{}),Object(g.jsx)($,{user:this.props.user,setUser:this.props.setUser})]})}}]),n}(a.Component),ne=te;function ae(e){var t=Object(G.a)(e.position,3),n=(t[0],t[1],t[2],function(e){switch(e){case"generic_plant":return{bloom:1,leafColour:"#377F34",stemColour:"#499B4A",flowerColour:"#832134"};case"tulip":return{bloom:2,leafColour:"#2D5A27",stemColour:"#567d46",flowerColour:"#ff878d"};case"sunflower":return{bloom:4,leafColour:"#75ae92",stemColour:"#82ac80",flowerColour:"#f8ec89"};case"crocus":return{bloom:1,leafColour:"#76c893",stemColour:"#52b69a",flowerColour:"#3a0ca3"};case"snowdrop":return{bloom:1,leafColour:"#76c893",stemColour:"#52b69a",flowerColour:"#f8f9fa"};case"rose":return{bloom:5,leafColour:"#499B4A",stemColour:"#75ae92",flowerColour:"#9e0059"};case"venusFlyTrap":return{bloom:7,leafColour:"#ccd5ae",stemColour:"#ccd5ae",flowerColour:"#ccd5ae"};default:return}}(e.type)),a=n.bloom,r=n.leafColour,o=n.stemColour,s=n.flowerColour,c=e.growth;c>=a&&(c=a);for(var i=c/24,l=[Object(g.jsx)(re,{},p()),Object(g.jsx)(oe,{stemColour:o,stemLength:i,position:[0,.05,0]},p())],u=0;u<=c;u++)l.push(Object(g.jsx)(se,{color:r,position:[.02,.1+u/18,.05]},p()),Object(g.jsx)(se,{color:r,position:[-.02,.1+u/18,-.05]},p()));return c>=a&&l.push(Object(g.jsx)(ce,{color:s,position:[0,.1+c/11,0]},p())),l}function re(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(g.jsx)("dodecahedronGeometry",{args:[.035,2]}),Object(g.jsx)("meshToonMaterial",{color:"#947352"})]}))}function oe(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.5,children:[Object(g.jsx)("cylinderGeometry",{args:[.01,.03,.3+e.stemLength,12]}),Object(g.jsx)("meshToonMaterial",{color:e.stemColour})]}))}function se(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(g.jsx)("cylinderGeometry",{args:[.02,.05,.02,6]}),Object(g.jsx)("meshToonMaterial",{color:e.color})]}))}function ce(e){var t=Object(a.useRef)();return Object(g.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(g.jsx)("dodecahedronGeometry",{args:[.06]}),Object(g.jsx)("meshToonMaterial",{color:e.color})]}))}var ie=function(e){var t=Object(a.useRef)();return Object(g.jsx)("group",{children:Object(g.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,onClick:function(t){return function(t){t.stopPropagation(),console.log("This plant is:"),console.log(e)}(t)},scale:.2,children:ae(e)}))})},le={type:"#293241",outline:"#b1b5c8"},ue={type:"#b1b5c8",outline:"#293241"};function je(e){console.log("PROPS in SEEDSELECTORS"),console.log(e);for(var t=[],n=0,a=0;a<e.seeds.length;a++){console.log("Generating seedselectors"),console.log("INDEX "+a);var r=e.seeds[a];if(0!==r.quantity){n+=1;var o={};o=r.type===e.chosenSeed?ue:le,t.push(Object(g.jsx)(de,{selectSeed:e.selectSeed,toggleSeeds:e.toggleSeeds,seed:r,colours:o,index:a,fontX:n}))}}return 0===t.length&&t.push(Object(g.jsx)(be,{colours:le,index:1})),console.log(t),t}function de(e){var t=e.seed,n=Object(a.useRef)(),r=Object(a.useState)(!1),o=Object(G.a)(r,2);o[0],o[1];return Object(g.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:n,children:Object(g.jsx)(w.a,{follow:!0,lockX:!1,lockY:!1,lockZ:!1,children:Object(g.jsxs)(y.a,{fontSize:.1,onClick:function(n){return function(n){n.stopPropagation(),console.log(t.type),e.selectSeed(t.type,e.index),e.toggleSeeds()}(n)},position:[e.fontX,1.5,2],outlineWidth:.1,outlineColor:e.colours.outline,color:e.colours.type,rotation:[0,0,0],children:["seed: ",t.type," ","\n","quantity: ",t.quantity]})})}))}function be(e){var t=Object(a.useRef)();return Object(g.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:Object(g.jsx)(w.a,{follow:!0,lockX:!1,lockY:!1,lockZ:!1,children:Object(g.jsx)(y.a,{fontSize:.25,position:[1,3,1],outlineWidth:.25,outlineColor:e.colours.outline,color:e.colours.type,rotation:[0,0,0],children:"No seeds available"})})}))}var he,fe,Oe=function(e){console.log("Props in SeedBox"),console.log(e);var t=Object(a.useRef)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:je(e)}))})};Y.a.button(he||(he=Object(J.a)(["\ncolor: palevioletred;\nfont-size: 1em;\nmargin: 1em;\npadding: 0.25em 1em;\nborder: 2px solid palevioletred;\nborder-radius: 3px;\n"]))),Y.a.div(fe||(fe=Object(J.a)(["\n  background-color: lightgrey;\n  "])));var pe=function(e){Object(a.useRef)();var t=Object(a.useRef)();return Object(g.jsx)("group",{children:Object(g.jsx)("mesh",Object(m.a)(Object(m.a)({ref:t},e),{},{children:Object(g.jsx)("directionalLight",{position:[0,.5,1],intensity:.7})}))})};function me(e){for(var t=[],n=Ge(Date()).stamp,a=0;a<e.length;a++){var r=e[a],o=ge(r.date,n);t.push(Object(g.jsx)(ie,{growth:o,date:r.date,position:r.position,type:r.type},r.key))}return console.log(t),t}function ge(e,t){return console.log(e.stamp),console.log(t),f(e.stamp,t)}function xe(e){return e[Math.floor(Math.random()*e.length)]}var ve=n(14),we=n.n(ve),ye=n(19),Ce=n(65),Se=n.n(Ce).a.create({baseURL:"/api"}),ke={addUser:function(e){return Se.post("/user",e)},getUser:function(e){return Se.get("/user/".concat(e))},updateGarden:function(e,t){return Se.put("/user/".concat(e),t)}};function Ne(e,t,n,a,r){return Re.apply(this,arguments)}function Re(){return(Re=Object(ye.a)(we.a.mark((function e(t,n,a,r,o){var s,c,i,l,u,j,d,b;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Ue(n),c={garden:s},i={world:JSON.stringify(a)},l={seeds:o},u={worldChosen:r},j=Ge(),d={lastLogin:j.stamp},b={garden:c,world:i,worldChosen:u,seeds:l,lastLogin:d},console.log("Attempting to save garden"),e.next=11,ke.updateGarden(t,b).then((function(e){console.log("Garden updated successfully")}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){for(var t=[],n=0;n<e.length;n++){var a=e[n].key,r=e[n].props,o={key:a,growth:r.growth,date:r.date,position:r.position,type:r.type};t.push(o)}return t}function Ge(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return{year:a,month:n,day:t,stamp:"".concat(a,"/").concat(n,"/").concat(t)}}function Le(e){return Math.random()*(e.max-e.min)+e.min}var Me=function e(t){Object(c.a)(this,e),this.id=p(),this.colour=xe(["#db504a","#ff6f59","#ffe200","#9bf6ff","#ffd6a5","#caffbf","#ffc6ff","#bdb2ff","#e9ff70","#ff70a6","#ff9770"]),this.position=function(){var e={max:1.8,min:1.5},t={max:1.8,min:-1.8};return[Le({max:2,min:-2}),Le(e),Le(t)]}(),this.claimed=!1};var Pe=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();Object(c.a)(this,e),this.stalactites=t};function We(){for(var e=[],t=0,n=0;n<10;n++)e.push(Te(t)),t+=.1;return e}function Te(e){return{geometry:Ie(e),position:qe(e),colour:xe(["#6C6460","#8a817c","#6c757d"])}}function Ie(e){var t={max:.8-e,min:.01};return[Le({max:1.3-e,min:1-e}),Le(t),Le({max:2.3,min:1}),Le({max:12,min:6})]}function qe(e){var t={max:0+e,min:1+e},n={max:.5,min:-.5};return[Le(n),-Le(t),Le(n)]}n(97);var Ee,De,Ae,Be,Fe,ze,Xe,Je,Ye,Ze,_e,Ve=Y.a.h1.attrs({className:"h1"})(Ee||(Ee=Object(J.a)([""]))),He=Y.a.div.attrs({className:"form-group"})(De||(De=Object(J.a)(["\n    margin: 0 30px;\n"]))),Ke=Y.a.label(Ae||(Ae=Object(J.a)(["\n    margin: 5px;\n"]))),Qe=Y.a.input.attrs({className:"form-control"})(Be||(Be=Object(J.a)(["\n    margin: 5px;\n"]))),$e=Y.a.button.attrs({className:"btn btn-primary"})(Fe||(Fe=Object(J.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),et=Y.a.a.attrs({className:"btn btn-danger"})(ze||(ze=Object(J.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),tt=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputEmail=function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({email:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAddUser=Object(ye.a)(we.a.mark((function e(){var t,n,r,o,s,c,i,l,u,j;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.name,r=t.email,o=t.password,s=new Pe,c=JSON.stringify(s),i=[{type:"generic_plant",quantity:3},{type:"tulip",quantity:3}],!1,l=Ge(),u=l.stamp,j={name:n,email:r,password:o,world:c,worldChosen:false,seeds:i,lastLogin:u},console.log(j),e.next=11,ke.addUser(j).then((function(e){window.alert("User added"),a.setState({name:"",email:"",password:""}),console.log("SEEDS on SIGN UP"),console.log(i),a.props.setUser(n,e.data.id,[],s,!1,i,u)}));case 11:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.email,a=e.password;return Object(g.jsxs)(He,{children:[Object(g.jsx)(Ve,{children:"Sign Up"}),Object(g.jsx)(Ke,{children:"Name: "}),Object(g.jsx)(Qe,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(g.jsx)(Ke,{children:"Email: "}),Object(g.jsx)(Qe,{type:"text",value:n,onChange:this.handleChangeInputEmail}),Object(g.jsx)(Ke,{children:"Password: "}),Object(g.jsx)(Qe,{type:"text",value:a,onChange:this.handleChangeInputPassword}),Object(g.jsx)($e,{onClick:this.handleAddUser,children:"Sign Up"}),Object(g.jsx)(et,{href:"/movies/list",children:"Cancel"})]})}}]),n}(a.Component),nt=tt,at=Y.a.h1.attrs({className:"h1"})(Xe||(Xe=Object(J.a)([""]))),rt=Y.a.div.attrs({className:"form-group"})(Je||(Je=Object(J.a)(["\n    margin: 0 30px;\n"]))),ot=Y.a.label(Ye||(Ye=Object(J.a)(["\n    margin: 5px;\n"]))),st=Y.a.input.attrs({className:"form-control"})(Ze||(Ze=Object(J.a)(["\n    margin: 5px;\n"]))),ct=Y.a.button.attrs({className:"btn btn-primary"})(_e||(_e=Object(J.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),it=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(ye.a)(we.a.mark((function e(t){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleGetUser=Object(ye.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getUser(a.state.name).then((function(e){if(console.log(e),console.log("Name is "+e.data.data.name),a.state.password===e.data.data.password){var t=e.data.data.name,n=e.data.data._id,r=me(e.data.data.garden),o=JSON.parse(e.data.data.world),s=e.data.data.seeds,c=e.data.data.worldChosen,i=e.data.data.lastLogin;window.alert("Welcome back ".concat(t)),a.props.setUser(t,n,r,o,c,s,i)}else window.alert("Incorrect password")}));case 2:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=(e.email,e.password);return Object(g.jsxs)(rt,{children:[Object(g.jsx)(at,{children:"Log In"}),Object(g.jsx)(ot,{children:"Name: "}),Object(g.jsx)(st,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(g.jsx)(ot,{children:"Password: "}),Object(g.jsx)(st,{type:"text",value:n,onChange:this.handleChangeInputPassword}),Object(g.jsx)(ct,{onClick:this.handleGetUser,children:"Log In"})]})}}]),n}(a.Component),lt=it,ut=n(18);n(98);var jt=function(e){var t=Object(a.useState)(e.garden),n=Object(G.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(""),c=Object(G.a)(s,2),i=c[0],l=c[1],u=Object(a.useState)(e.seeds),j=Object(G.a)(u,2),b=j[0],h=j[1],O=Object(a.useState)(null),m=Object(G.a)(O,2),x=m[0],w=m[1],y=Object(a.useState)(function(e,t,n,a){f(n,a);var r=[];return f(n,a)>0&&(console.log("BALLOON COMING!"),r.push(new Me)),r}(0,0,e.lastLogin,e.today)),S=Object(G.a)(y,2),k=S[0],N=S[1],R=Object(a.useState)(!1),U=Object(G.a)(R,2),L=U[0],M=U[1],W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,n=Object(ut.a)(b);n[t].quantity+=e,h(n),w(null)};return Object(a.useEffect)((function(){console.log("Calling saveGarden"),Ne(e.id,r,e.world,e.worldChosen,b),M(L),function(){console.log("Checking achievements"),console.log(r.length);var e=r.length%5,t=r.length/5;if(0===e&&r.length>0&&b.length<t+2){console.log("Achievement!");var n=d(b);console.log("New seeds is"),console.log(n),h(n)}}()})),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(C.a,{id:"canvas",camera:{position:[0,2,3.5]},children:[Object(g.jsx)(T,{}),Object(g.jsxs)(a.Suspense,{fallback:console.log("loading"),children:[Object(g.jsx)(B,{sowPlant:function(e){if(i){var t=function(e,t){console.log("In createPlant");var n=[e.point.x,e.point.y,e.point.z],a=p(),r=Ge();return Object(g.jsx)(ie,{growth:0,date:r,position:n,type:t},a)}(e,i);l(""),o((function(e){return[t].concat(Object(ut.a)(e))})),W(-1)}},position:[0,0,0],world:e.world,seeds:b}),r,Object(g.jsx)(v,{removeBalloon:function(e){var t=k[e];console.log("REMOVED BALLOON"),console.log(t),t.claimed=!0,N((function(e){return[e.filter((function(e){return e.id!==t.id})),t]}))},updateSeeds:W,balloons:k,seeds:b}),Object(g.jsx)(pe,{}),Object(g.jsx)(q,{})]}),e.worldChosen?Object(g.jsx)(P,{seeds:b,chosenSeed:i,seedList:L,position:[-1,-1,1.9],selectSeed:function(e,t){b[t];b[t].quantity>0&&(l(e),w(t))},toggleSeeds:function(){M((function(e){return!e})),console.log("TOGGLE "+L)}}):Object(g.jsx)(X,{saveWorld:e.saveWorld,newWorld:e.newWorld})]})})},dt=(n(99),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={userName:"",id:0,garden:[],world:{},chosenWorld:!1,seeds:[],lastLogin:""},a.setUser=a.setUser.bind(Object(l.a)(a)),a.newWorld=a.newWorld.bind(Object(l.a)(a)),a.saveWorld=a.saveWorld.bind(Object(l.a)(a)),a.connecToServer=a.connecToServer.bind(Object(l.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"connecToServer",value:function(){fetch("/")}},{key:"setUser",value:function(e,t,n,a,r,o,s){this.setState({userName:e,id:t,garden:n,world:a,worldChosen:r,seeds:o,lastLogin:s,today:Ge().stamp})}},{key:"newWorld",value:function(){var e=new Pe;this.setState({world:e})}},{key:"saveWorld",value:function(){this.setState({worldChosen:!0}),Ne(this.state.id,[],this.state.world,!0,this.state.seeds)}},{key:"render",value:function(){return Object(g.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[Object(g.jsx)(K.a,{children:Object(g.jsx)(ne,{user:this.state.userName,setUser:this.setUser})}),this.state.userName?Object(g.jsx)(jt,{id:this.state.id,newWorld:this.newWorld,world:this.state.world,worldChosen:this.state.worldChosen,saveWorld:this.saveWorld,seeds:this.state.seeds,garden:this.state.garden,lastLogin:this.state.lastLogin,today:this.state.today}):Object(g.jsxs)("div",{children:[Object(g.jsx)(lt,{setUser:this.setUser})," ",Object(g.jsx)(nt,{setUser:this.setUser})]})]})}}]),n}(r.a.Component));s.a.render(Object(g.jsx)(dt,{}),document.getElementById("root"))},97:function(e,t,n){},98:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.8f6f2b71.chunk.js.map