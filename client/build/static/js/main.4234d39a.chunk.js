(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(58),s=n.n(o),c=n(0),i=n(2),l=n(10),u=n(4),j=n(5);function d(e){var t,n=!0,a={};if(e.length===h.length)return e;for(;n;)n=b(a=(t=h)[Math.floor(Math.random()*t.length)],e);return function(e,t,n){for(var a=[],r=0;r<e.length;r++){var o=e[r];o.type===t.type&&(console.log(t),o.quantity+=t.quantity,console.log(o)),a.push(o)}n&&a.push(t);return a}(e,a,!0)}function b(e,t){for(var n=0;n<t.length;n++){if(t[n].type===e.type)return!0}return!1}var h=[{type:"generic_plant",quantity:3},{type:"tulip",quantity:3},{type:"sunflower",quantity:3},{type:"crocus",quantity:3},{type:"snowdrop",quantity:3},{type:"rose",quantity:3},{type:"venusFlyTrap",quantity:3}];function O(e,t){var n=new Date(e),a=new Date(t).getTime()-n.getTime();return Math.round(a/864e5)}var f=n(105);function p(){return Object(f.a)()}var m=n(9),g=n(21),x=n(3);function v(e){console.log("In createBalloons"),console.log(e.balloons.length);var t=[],n=e.balloons,a=e.removeBalloon,r=e.updateSeeds,o=e.seeds;console.log(n);for(var s=0;s<n.length;s++){var c=n[s];t.push(Object(x.jsx)(y,{claimed:c.claimed,updateSeeds:r,removeBalloon:a,seeds:o,position:c.position,index:s,colour:c.colour},p()))}return t}function y(e){var t=Object(a.useRef)();Object(g.c)((function(e,n){return t.current.rotation.y+=.01}));return Object(x.jsx)("group",{children:Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.8,onClick:function(){if(!e.claimed){var t=Math.floor(Math.random()*e.seeds.length);e.updateSeeds(3,t),e.removeBalloon(e.index)}},children:[Object(x.jsx)(w,{colour:e.colour}),Object(x.jsx)(S,{colour:e.colour,position:[0,-.18,0]}),Object(x.jsx)(C,{position:[0,-.15,0]}),Object(x.jsx)(k,{position:[0,-.48,0]})]}))})}function w(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)("dodecahedronGeometry",{args:[.153,8]}),Object(x.jsx)("meshToonMaterial",{color:e.colour})]}))}function C(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)("cylinderGeometry",{args:[.005,.005,.5,3]}),Object(x.jsx)("meshToonMaterial",{color:"#16161D"})]}))}function S(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)("cylinderGeometry",{args:[.15,-.01,.3,16]}),Object(x.jsx)("meshToonMaterial",{color:e.colour})]}))}function k(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)("boxGeometry",{args:[.15,.15,.15]}),Object(x.jsx)("meshToonMaterial",{color:"#7f5539"})]}))}var N=function(e){var t=Object(a.useRef)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:v(e)}))})},R=n(102);Object(g.b)({OrbitControls:R.a});var U=function(){var e=Object(g.d)(),t=e.camera,n=e.gl.domElement,r=Object(a.useRef)();return Object(g.c)((function(e){return r.current.update()})),Object(x.jsx)("orbitControls",{ref:r,position:[0,-10,0],args:[t,n],autoRotate:!0,autoRotateSpeed:.2,enabled:!0})},G=n(107);function P(e){return Object(x.jsx)(G.a,Object(m.a)({turbidity:.01,distance:45e4,sunPosition:[0,1,0],inclination:.47,elevation:.6,exposure:.3,mieDirectionalG:.04,mieCoefficient:.0045,rayleigh:.1,azimuth:.6},e))}n(49);var T,M,W=function(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(t){return e.sowPlant(t)},children:[Object(x.jsx)("cylinderGeometry",{args:e.args}),Object(x.jsx)("meshToonMaterial",{color:"#a7c957"})]}))},L=n(16),I=n(17),q=n.p+"static/media/seedbankProto.6cdc7966.png",E=I.a.a.attrs({className:"navbar-brand"})(T||(T=Object(L.a)([""]))),D=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(x.jsx)(E,{href:"https://example.com",children:Object(x.jsx)("img",{src:q,height:"50",alt:"seedbank"})})}}]),n}(a.Component),B=D,A=n(32),F=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(A.b,{to:"/",className:"navbar-brand",children:"SeedBank"}),Object(x.jsx)(A.b,{to:"/",className:"navbar-brand",children:this.props.user})]})}}]),n}(a.Component),z=F,J=I.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(M||(M=Object(L.a)(["\n    margin-bottom: 20 px;\n"]))),_=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(J,{height:"50%",children:[Object(x.jsx)(B,{}),Object(x.jsx)(z,{user:this.props.user,setUser:this.props.setUser})]})}}]),n}(a.Component),X=_,Y=n(103),Z=n(106);var H=function(e){var t=qe();return Object(x.jsx)(Y.a,{position:[.5,1,6],args:[20,200],follow:!0,lockX:!1,lockY:!1,lockZ:!1,children:Object(x.jsxs)(Z.a,{fontSize:.5,color:"#857c8d",children:[t.day," ",t.month," ",t.year]})})},K=n(11);function Q(e){var t=Object(K.a)(e.position,3),n=(t[0],t[1],t[2],function(e){switch(e){case"generic_plant":return{bloom:1,leafColour:"#377F34",stemColour:"#499B4A",flowerColour:"#832134"};case"tulip":return{bloom:2,leafColour:"#2D5A27",stemColour:"#567d46",flowerColour:"#ff878d"};case"sunflower":return{bloom:4,leafColour:"#75ae92",stemColour:"#82ac80",flowerColour:"#f8ec89"};case"crocus":return{bloom:1,leafColour:"#76c893",stemColour:"#52b69a",flowerColour:"#3a0ca3"};case"snowdrop":return{bloom:1,leafColour:"#76c893",stemColour:"#52b69a",flowerColour:"#f8f9fa"};case"rose":return{bloom:5,leafColour:"#499B4A",stemColour:"#75ae92",flowerColour:"#9e0059"};case"venusFlyTrap":return{bloom:7,leafColour:"#ccd5ae",stemColour:"#ccd5ae",flowerColour:"#ccd5ae"};default:return}}(e.type)),a=n.bloom,r=n.leafColour,o=n.stemColour,s=n.flowerColour,c=e.growth;c>=a&&(c=a);for(var i=c/24,l=[Object(x.jsx)(V,{},p()),Object(x.jsx)($,{stemColour:o,stemLength:i,position:[0,.05,0]},p())],u=0;u<=c;u++)l.push(Object(x.jsx)(ee,{color:r,position:[.02,.1+u/18,.05]},p()),Object(x.jsx)(ee,{color:r,position:[-.02,.1+u/18,-.05]},p()));return c>=a&&l.push(Object(x.jsx)(te,{color:s,position:[0,.1+c/11,0]},p())),l}function V(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(x.jsx)("dodecahedronGeometry",{args:[.035,2]}),Object(x.jsx)("meshToonMaterial",{color:"#947352"})]}))}function $(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:.5,children:[Object(x.jsx)("cylinderGeometry",{args:[.01,.03,.3+e.stemLength,12]}),Object(x.jsx)("meshToonMaterial",{color:e.stemColour})]}))}function ee(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(x.jsx)("cylinderGeometry",{args:[.02,.05,.02,6]}),Object(x.jsx)("meshToonMaterial",{color:e.color})]}))}function te(e){var t=Object(a.useRef)();return Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:[Object(x.jsx)("dodecahedronGeometry",{args:[.06]}),Object(x.jsx)("meshToonMaterial",{color:e.color})]}))}var ne=function(e){var t=Object(a.useRef)();return Object(x.jsx)("group",{children:Object(x.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,onClick:function(t){return function(t){t.stopPropagation(),console.log("This plant is:"),console.log(e)}(t)},scale:.2,children:Q(e)}))})},ae=n(104),re={type:"#293241",outline:"#b1b5c8"},oe={type:"#b1b5c8",outline:"#293241"};function se(e){if(console.log("PROPS in SEEDSELECTORS"),console.log(e),!e.seedList)return[];for(var t=[],n=0;n<e.seeds.length;n++){console.log("Generating seedselectors");var a=e.seeds[n];if(0!==a.quantity){var r={};r=a.type===e.chosenSeed?oe:re,t.push(Object(x.jsx)(ie,{selectSeed:e.selectSeed,seed:a,colours:r,index:n,position:[0,0,0]}))}}return 0===t.length&&t.push(Object(x.jsx)(le,{colours:re,index:1})),t}function ce(e){var t=Object(a.useRef)(),n=Object(a.useState)(1),r=Object(K.a)(n,2),o=r[0],s=r[1],c=function(){s(.97),e.toggleSeeds(),setTimeout((function(){s(1)}),100)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,onClick:c,scale:o,children:Object(x.jsx)(ae.a,Object(m.a)(Object(m.a)({onClick:c,args:[.2,.2,.2],radius:.05,smoothness:4},e),{},{children:Object(x.jsx)("meshToonMaterial",{attach:"material",color:"#212529"})}))}))})}function ie(e){var t=e.seed,n=Object(a.useRef)(),r=Object(a.useState)(!1),o=Object(K.a)(r,2);o[0],o[1];return Object(x.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:n,children:Object(x.jsxs)(Z.a,{fontSize:.05,onClick:function(n){return function(n){n.stopPropagation(),console.log(t.type),e.selectSeed(t.type,e.index)}(n)},position:[.5,e.index/4,0],outlineWidth:.04,outlineColor:e.colours.outline,color:e.colours.type,rotation:[0,0,0],children:["seed: ",t.type," ","\n","quantity: ",t.quantity]})}))}function le(e){var t=Object(a.useRef)();return Object(x.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,children:Object(x.jsx)(Z.a,{fontSize:.05,position:[.5,e.index/4,0],outlineWidth:.04,outlineColor:e.colours.outline,color:e.colours.type,rotation:[0,0,0],children:"No seeds available"})}))}function ue(e){var t=Object(a.useRef)();return Object(x.jsx)("group",{children:Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(x.jsx)("cylinderGeometry",{args:[.2,.01,.5,12]}),Object(x.jsx)("meshToonMaterial",{color:"#6c757d"})]}))})}var je,de,be=function(e){console.log("PROPS IN SEEDBOX"),console.log(e);var t=Object(a.useRef)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:[Object(x.jsx)(ue,{seeds:e.seeds,selectSeed:e.selectSeed}),Object(x.jsx)(ce,{position:[0,.1,0],toggleSeeds:e.toggleSeeds}),se(e)]}))})},he=(I.a.button(je||(je=Object(L.a)(["\ncolor: palevioletred;\nfont-size: 1em;\nmargin: 1em;\npadding: 0.25em 1em;\nborder: 2px solid palevioletred;\nborder-radius: 3px;\n"]))),I.a.div(de||(de=Object(L.a)(["\n  background-color: lightgrey;\n  "]))));var Oe=function(e){return Object(x.jsx)(he,{children:e.chosenSeed})};var fe=function(e){Object(a.useRef)();var t=Object(a.useRef)();return Object(x.jsx)("group",{children:Object(x.jsx)("mesh",Object(m.a)(Object(m.a)({ref:t},e),{},{children:Object(x.jsx)("directionalLight",{position:[0,.5,1],intensity:.7})}))})};function pe(e){for(var t=e.world,n=[],a=0;a<t.stalactites.length;a++){var r=t.stalactites[a];n.push(Object(x.jsx)(me,{sowPlant:e.sowPlant,args:r.geometry,position:r.position,colour:r.colour},p()))}return n}function me(e){var t=Object(a.useRef)(),n=Object(K.a)(e.args,4),r=n[0],o=(n[1],n[2]),s=n[3];return Object(x.jsx)("group",{children:Object(x.jsxs)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(x.jsx)("cylinderGeometry",{args:e.args}),Object(x.jsx)("meshToonMaterial",{color:e.colour}),Object(x.jsx)(W,{sowPlant:e.sowPlant,position:[0,o/2,0],args:[r,r,.01,s]})]}))})}var ge,xe,ve=function(e){var t=Object(a.useRef)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("mesh",Object(m.a)(Object(m.a)({},e),{},{ref:t,scale:1,children:pe(e)}))})},ye=I.a.button(ge||(ge=Object(L.a)(["\ncolor: palevioletred;\nfont-size: 1em;\nmargin: 1em;\npadding: 0.25em 1em;\nborder: 2px solid palevioletred;\nborder-radius: 3px;\n"]))),we=I.a.div(xe||(xe=Object(L.a)(["\n  background-color: lightgrey;\n  "])));var Ce=function(e){return Object(x.jsxs)(we,{children:[Object(x.jsx)(ye,{onClick:e.newWorld,children:" New Garden "}),Object(x.jsx)(ye,{onClick:e.saveWorld,children:" Save Garden "})]})};function Se(e){for(var t=[],n=qe(Date()).stamp,a=0;a<e.length;a++){var r=e[a],o=ke(r.date,n);t.push(Object(x.jsx)(ne,{growth:o,date:r.date,position:r.position,type:r.type},r.key))}return console.log(t),t}function ke(e,t){return console.log(e.stamp),console.log(t),O(e.stamp,t)}function Ne(e){return e[Math.floor(Math.random()*e.length)]}var Re=n(14),Ue=n.n(Re),Ge=n(19),Pe=n(66),Te=n.n(Pe).a.create({baseURL:"/api"}),Me={addUser:function(e){return Te.post("/user",e)},getUser:function(e){return Te.get("/user/".concat(e))},updateGarden:function(e,t){return Te.put("/user/".concat(e),t)}};function We(e,t,n,a,r){return Le.apply(this,arguments)}function Le(){return(Le=Object(Ge.a)(Ue.a.mark((function e(t,n,a,r,o){var s,c,i,l,u,j,d,b;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Ie(n),c={garden:s},i={world:JSON.stringify(a)},l={seeds:o},u={worldChosen:r},j=qe(),d={lastLogin:j.stamp},b={garden:c,world:i,worldChosen:u,seeds:l,lastLogin:d},console.log("Attempting to save garden"),e.next=11,Me.updateGarden(t,b).then((function(e){console.log("Garden updated successfully")}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){for(var t=[],n=0;n<e.length;n++){var a=e[n].key,r=e[n].props,o={key:a,growth:r.growth,date:r.date,position:r.position,type:r.type};t.push(o)}return t}function qe(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();return{year:a,month:n,day:t,stamp:"".concat(a,"/").concat(n,"/").concat(t)}}function Ee(e){return Math.random()*(e.max-e.min)+e.min}var De=function e(t){Object(c.a)(this,e),this.id=p(),this.colour=Ne(["#db504a","#ff6f59","#ffe200","#9bf6ff","#ffd6a5","#caffbf","#ffc6ff","#bdb2ff","#e9ff70","#ff70a6","#ff9770"]),this.position=function(){var e={max:1.8,min:1.5},t={max:1.8,min:-1.8};return[Ee({max:2,min:-2}),Ee(e),Ee(t)]}(),this.claimed=!1};var Be=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae();Object(c.a)(this,e),this.stalactites=t};function Ae(){for(var e=[],t=0,n=0;n<10;n++)e.push(Fe(t)),t+=.1;return e}function Fe(e){return{geometry:ze(e),position:Je(e),colour:Ne(["#6C6460","#8a817c","#6c757d"])}}function ze(e){var t={max:.8-e,min:.01};return[Ee({max:1.3-e,min:1-e}),Ee(t),Ee({max:2.3,min:1}),Ee({max:12,min:6})]}function Je(e){var t={max:0+e,min:1+e},n={max:.5,min:-.5};return[Ee(n),-Ee(t),Ee(n)]}n(98);var _e,Xe,Ye,Ze,He,Ke,Qe,Ve,$e,et,tt,nt=I.a.h1.attrs({className:"h1"})(_e||(_e=Object(L.a)([""]))),at=I.a.div.attrs({className:"form-group"})(Xe||(Xe=Object(L.a)(["\n    margin: 0 30px;\n"]))),rt=I.a.label(Ye||(Ye=Object(L.a)(["\n    margin: 5px;\n"]))),ot=I.a.input.attrs({className:"form-control"})(Ze||(Ze=Object(L.a)(["\n    margin: 5px;\n"]))),st=I.a.button.attrs({className:"btn btn-primary"})(He||(He=Object(L.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),ct=I.a.a.attrs({className:"btn btn-danger"})(Ke||(Ke=Object(L.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),it=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputEmail=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({email:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAddUser=Object(Ge.a)(Ue.a.mark((function e(){var t,n,r,o,s,c,i,l,u,j;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.name,r=t.email,o=t.password,s=new Be,c=JSON.stringify(s),i=[{type:"generic_plant",quantity:3},{type:"tulip",quantity:3}],!1,l=qe(),u=l.stamp,j={name:n,email:r,password:o,world:c,worldChosen:false,seeds:i,lastLogin:u},console.log(j),e.next=11,Me.addUser(j).then((function(e){window.alert("User added"),a.setState({name:"",email:"",password:""}),console.log("SEEDS on SIGN UP"),console.log(i),a.props.setUser(n,e.data.id,[],s,!1,i,u)}));case 11:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.email,a=e.password;return Object(x.jsxs)(at,{children:[Object(x.jsx)(nt,{children:"Sign Up"}),Object(x.jsx)(rt,{children:"Name: "}),Object(x.jsx)(ot,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(x.jsx)(rt,{children:"Email: "}),Object(x.jsx)(ot,{type:"text",value:n,onChange:this.handleChangeInputEmail}),Object(x.jsx)(rt,{children:"Password: "}),Object(x.jsx)(ot,{type:"text",value:a,onChange:this.handleChangeInputPassword}),Object(x.jsx)(st,{onClick:this.handleAddUser,children:"Sign Up"}),Object(x.jsx)(ct,{href:"/movies/list",children:"Cancel"})]})}}]),n}(a.Component),lt=it,ut=I.a.h1.attrs({className:"h1"})(Qe||(Qe=Object(L.a)([""]))),jt=I.a.div.attrs({className:"form-group"})(Ve||(Ve=Object(L.a)(["\n    margin: 0 30px;\n"]))),dt=I.a.label($e||($e=Object(L.a)(["\n    margin: 5px;\n"]))),bt=I.a.input.attrs({className:"form-control"})(et||(et=Object(L.a)(["\n    margin: 5px;\n"]))),ht=I.a.button.attrs({className:"btn btn-primary"})(tt||(tt=Object(L.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),Ot=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChangeInputName=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeInputPassword=function(){var e=Object(Ge.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({password:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleGetUser=Object(Ge.a)(Ue.a.mark((function e(){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.getUser(a.state.name).then((function(e){if(console.log(e),console.log("Name is "+e.data.data.name),a.state.password===e.data.data.password){var t=e.data.data.name,n=e.data.data._id,r=Se(e.data.data.garden),o=JSON.parse(e.data.data.world),s=e.data.data.seeds,c=e.data.data.worldChosen,i=e.data.data.lastLogin;window.alert("Welcome back ".concat(t)),a.props.setUser(t,n,r,o,c,s,i)}else window.alert("Incorrect password")}));case 2:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",password:""},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=(e.email,e.password);return Object(x.jsxs)(jt,{children:[Object(x.jsx)(ut,{children:"Log In"}),Object(x.jsx)(dt,{children:"Name: "}),Object(x.jsx)(bt,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(x.jsx)(dt,{children:"Password: "}),Object(x.jsx)(bt,{type:"text",value:n,onChange:this.handleChangeInputPassword}),Object(x.jsx)(ht,{onClick:this.handleGetUser,children:"Log In"})]})}}]),n}(a.Component),ft=Ot,pt=n(13),mt=n(18);var gt=function(e){var t,n=Object(a.useState)(e.garden),r=Object(K.a)(n,2),o=r[0],s=r[1],c=Object(a.useState)(""),i=Object(K.a)(c,2),l=i[0],u=i[1],j=Object(a.useState)(e.seeds),b=Object(K.a)(j,2),h=b[0],f=b[1],m=Object(a.useState)(null),v=Object(K.a)(m,2),y=v[0],w=v[1],C=Object(a.useState)(function(e,t,n,a){var r=O(n,a);console.log(r);var o=[];return O(n,a)>0&&o.push(new De),o}(0,0,e.lastLogin,e.today)),S=Object(K.a)(C,2),k=S[0],R=S[1],G=Object(a.useState)(!1),T=Object(K.a)(G,2),M=T[0],W=T[1],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=Object(mt.a)(h);n[t].quantity+=e,f(n),w(null)};return Object(a.useEffect)((function(){console.log("Calling saveGarden"),We(e.id,o,e.world,e.worldChosen,h),W(M),function(){var e=o.length%5,t=o.length/5;if(0===e&&o.length>0&&h.length<t+2){console.log("Achievement!");var n=d(h);console.log("New seeds is"),console.log(n),f(n)}}()})),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)(g.a,{id:"canvas",camera:{position:[0,2,3.5]},children:[Object(x.jsx)(U,{}),Object(x.jsxs)(a.Suspense,{fallback:console.log("loading"),children:[Object(x.jsx)(ve,{sowPlant:function(e){if(l){var t=function(e,t){console.log("In createPlant");var n=[e.point.x,e.point.y,e.point.z],a=p(),r=qe();return Object(x.jsx)(ne,{growth:0,date:r,position:n,type:t},a)}(e,l);u(""),s((function(e){return[t].concat(Object(mt.a)(e))})),L(-1)}},position:[0,0,0],world:e.world,seeds:h}),Object(x.jsx)(be,(t={seeds:h,chosenSeed:l,seedList:M,position:[-1,-1,1.9],selectSeed:function(e,t){h[t];h[t].quantity>0&&(u(e),w(t))}},Object(pt.a)(t,"chosenSeed",l),Object(pt.a)(t,"toggleSeeds",(function(){W((function(e){return!e})),console.log("TOGGLE "+M)})),t)),o,Object(x.jsx)(N,{removeBalloon:function(e){var t=k[e];t.claimed=!0,R((function(e){return[e.filter((function(e){return e.id!==t.id})),t]}))},updateSeeds:L,balloons:k,seeds:h}),Object(x.jsx)(fe,{}),Object(x.jsx)(P,{}),Object(x.jsx)(H,{today:e.today})]})]}),e.worldChosen?Object(x.jsx)(Oe,{chosenSeed:l}):Object(x.jsx)(Ce,{className:"App-header",newWorld:e.newWorld,saveWorld:e.saveWorld})]})},xt=(n(99),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={userName:"",id:0,garden:[],world:{},chosenWorld:!1,seeds:[],lastLogin:""},a.setUser=a.setUser.bind(Object(l.a)(a)),a.newWorld=a.newWorld.bind(Object(l.a)(a)),a.saveWorld=a.saveWorld.bind(Object(l.a)(a)),a.connecToServer=a.connecToServer.bind(Object(l.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"connecToServer",value:function(){fetch("/")}},{key:"setUser",value:function(e,t,n,a,r,o,s){this.setState({userName:e,id:t,garden:n,world:a,worldChosen:r,seeds:o,lastLogin:s,today:qe().stamp})}},{key:"newWorld",value:function(){var e=new Be;this.setState({world:e})}},{key:"saveWorld",value:function(){this.setState({worldChosen:!0}),We(this.state.id,[],this.state.world,!0,this.state.seeds)}},{key:"render",value:function(){return Object(x.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)(X,{user:this.state.userName,setUser:this.setUser})}),this.state.userName?Object(x.jsx)(gt,{id:this.state.id,newWorld:this.newWorld,world:this.state.world,worldChosen:this.state.worldChosen,saveWorld:this.saveWorld,seeds:this.state.seeds,garden:this.state.garden,lastLogin:this.state.lastLogin,today:this.state.today}):Object(x.jsxs)("div",{children:[Object(x.jsx)(ft,{setUser:this.setUser})," ",Object(x.jsx)(lt,{setUser:this.setUser})]})]})}}]),n}(r.a.Component));s.a.render(Object(x.jsx)(xt,{}),document.getElementById("root"))},49:function(e,t,n){},98:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.4234d39a.chunk.js.map