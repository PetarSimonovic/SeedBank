(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(e,t){e.exports=function(){var e=new Date,t=e.getDate();return{month:e.getMonth(),day:t,year:e.getFullYear()}}},78:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),s=a(51),c=a.n(s),o=a(0),i=a(1),u=a(8),l=a(2),j=a(3),b=a(52),p=a.n(b).a.create({baseURL:"/api"}),d={addUser:function(e){return p.post("/user",e)},getUser:function(e){return p.get("/user/".concat(e))},updateGarden:function(e,t){return p.put("/user/".concat(e),t)}},h=(a(78),a(35)),O=a(9),m=a(12),f=a(6);var g=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),r=Object(m.a)(a,2),s=(r[0],r[1]),c=Object(n.useState)(!1),o=Object(m.a)(c,2),i=o[0];return o[1],Object(f.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,scale:i?1.5:1,onClick:function(t){return e.sowPlant(t)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(f.jsx)("cylinderGeometry",{args:e.args}),Object(f.jsx)("meshToonMaterial",{color:"#5AAB61"})]}))};var x=function(e){e.x;var t=Object(n.useRef)(),a=Object(n.useState)(!1),r=Object(m.a)(a,2),s=(r[0],r[1]),c=Object(n.useState)(!1),o=Object(m.a)(c,2),i=(o[0],o[1],Object(n.useState)(0)),u=Object(m.a)(i,2);return u[0],u[1],Object(f.jsxs)("group",{children:[Object(f.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,onClick:function(t){return function(t){t.stopPropagation(),console.log("This plant is:"),console.log(e)}(t)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(f.jsx)("dodecahedronGeometry",{args:[.12,2]}),Object(f.jsx)("meshToonMaterial",{color:"#947352"})]})),Object(f.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,children:[Object(f.jsx)("cylinderGeometry",{args:[.02,.02,.4,7]}),Object(f.jsx)("meshToonMaterial",{color:"#499B4A"})]}))]})},v=a(20),w=a(92);Object(v.b)({OrbitControls:w.a});var y,k,N,C,U,S,I,P,T,G,A,E,L,R,M,B,D,F,J=function(){var e=Object(v.d)(),t=e.camera,a=e.gl.domElement,r=Object(n.useRef)();return Object(v.c)((function(e){return r.current.update()})),Object(f.jsx)("orbitControls",{ref:r,args:[t,a],autoRotate:!0,autoRotateSpeed:1.2,enabled:!1})},z=a(13),Y=a(14),_=a.p+"static/media/seedbankProto.6cdc7966.png",q=Y.a.a.attrs({className:"navbar-brand"})(y||(y=Object(z.a)([""]))),H=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsx)(q,{href:"https://example.com",children:Object(f.jsx)("img",{src:_,height:"50",alt:"seedbank"})})}}]),a}(n.Component),K=Y.a.div.attrs({className:"collpase navbar-collapse"})(k||(k=Object(z.a)([""]))),Q=Y.a.div.attrs({className:"navbar-nav mr-auto"})(N||(N=Object(z.a)([""]))),V=Y.a.div.attrs({className:"collpase navbar-collapse"})(C||(C=Object(z.a)([""]))),W=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(h.b,{to:"/",className:"navbar-brand",children:"SeedBank"}),Object(f.jsx)(K,{children:Object(f.jsxs)(Q,{children:[Object(f.jsxs)(V,{children:[" ",Object(f.jsxs)("p",{children:[" ",this.props.user]})," "]}),"> }"]})})]})}}]),a}(n.Component),X=Y.a.div.attrs({className:"container"})(U||(U=Object(z.a)([""]))),Z=Y.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(S||(S=Object(z.a)(["\n    margin-bottom: 20 px;\n"]))),$=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(f.jsx)(X,{children:Object(f.jsxs)(Z,{children:[Object(f.jsx)(H,{}),Object(f.jsx)(W,{user:this.props.user,setUser:this.props.setUser})]})})}}]),a}(n.Component),ee=a(11),te=a.n(ee),ae=a(16),ne=Y.a.h1.attrs({className:"h1"})(I||(I=Object(z.a)([""]))),re=Y.a.div.attrs({className:"form-group"})(P||(P=Object(z.a)(["\n    margin: 0 30px;\n"]))),se=Y.a.label(T||(T=Object(z.a)(["\n    margin: 5px;\n"]))),ce=Y.a.input.attrs({className:"form-control"})(G||(G=Object(z.a)(["\n    margin: 5px;\n"]))),oe=Y.a.button.attrs({className:"btn btn-primary"})(A||(A=Object(z.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),ie=Y.a.a.attrs({className:"btn btn-danger"})(E||(E=Object(z.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),ue=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeInputName=function(){var e=Object(ae.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({name:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeInputEmail=function(){var e=Object(ae.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({email:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeInputPassword=function(){var e=Object(ae.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({password:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddUser=Object(ae.a)(te.a.mark((function e(){var t,a,r,s,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.name,r=t.email,s=t.password,c={name:a,email:r,password:s},e.next=4,d.addUser(c).then((function(e){window.alert("User added"),n.setState({name:"",email:"",password:""})}));case 4:case"end":return e.stop()}}),e)}))),n.state={name:"",email:"",password:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password;return Object(f.jsxs)(re,{children:[Object(f.jsx)(ne,{children:"Sign Up"}),Object(f.jsx)(se,{children:"Name: "}),Object(f.jsx)(ce,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(f.jsx)(se,{children:"Email: "}),Object(f.jsx)(ce,{type:"text",value:a,onChange:this.handleChangeInputEmail}),Object(f.jsx)(se,{children:"Password: "}),Object(f.jsx)(ce,{type:"text",value:n,onChange:this.handleChangeInputPassword}),Object(f.jsx)(oe,{onClick:this.handleAddUser,children:"Sign Up"}),Object(f.jsx)(ie,{href:"/movies/list",children:"Cancel"})]})}}]),a}(n.Component),le=a(50),je=a.n(le);a.p,a.p,a.p,a.p;function be(e){for(var t=[],a=0;a<e.length;a++){console.log();var n=e[a];console.log(n),t.push(Object(f.jsx)(x,{date:n.props.date,position:n.props.position},n.key))}return console.log(t),t}function pe(){return(pe=Object(ae.a)(te.a.mark((function e(t,a){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={garden:a},console.log("Attempting to save garden"),console.log(n),console.log(t),e.next=6,d.updateGarden(t,n).then((function(e){console.log("Garden updated successfully"),console.log(a.length)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=Y.a.h1.attrs({className:"h1"})(L||(L=Object(z.a)([""]))),he=Y.a.div.attrs({className:"form-group"})(R||(R=Object(z.a)(["\n    margin: 0 30px;\n"]))),Oe=Y.a.label(M||(M=Object(z.a)(["\n    margin: 5px;\n"]))),me=Y.a.input.attrs({className:"form-control"})(B||(B=Object(z.a)(["\n    margin: 5px;\n"]))),fe=Y.a.button.attrs({className:"btn btn-primary"})(D||(D=Object(z.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),ge=(Y.a.a.attrs({className:"btn btn-danger"})(F||(F=Object(z.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeInputName=function(){var e=Object(ae.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({name:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeInputPassword=function(){var e=Object(ae.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({password:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleGetUser=Object(ae.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getUser(n.state.name).then((function(e){if(console.log(e),console.log("Name is "+e.data.data.name),n.state.password===e.data.data.password){window.alert("Logged in");var t=e.data.data.name,a=e.data.data._id,r=be(e.data.data.garden);n.props.setUser(t,a,r)}else window.alert("Incorrect password")}));case 2:case"end":return e.stop()}}),e)}))),n.state={name:"",email:"",password:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=(e.email,e.password);return Object(f.jsxs)(he,{children:[Object(f.jsx)(de,{children:"Log In"}),Object(f.jsx)(Oe,{children:"Name: "}),Object(f.jsx)(me,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(f.jsx)(Oe,{children:"Password: "}),Object(f.jsx)(me,{type:"text",value:a,onChange:this.handleChangeInputPassword}),Object(f.jsx)(fe,{onClick:this.handleGetUser,children:"Log In"})]})}}]),a}(n.Component)),xe=a(15);a(88);var ve=function(e){var t=Object(n.useState)(e.garden),a=Object(m.a)(t,2),r=a[0],s=a[1];return Object(f.jsxs)(v.a,{id:"canvas",className:"App",camera:{position:[0,1.5,2],lookat:[0,0,0]},children:[Object(f.jsx)(J,{}),Object(f.jsx)("ambientLight",{intensity:.1}),Object(f.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:7}),"//",Object(f.jsx)("pointLight",{position:[-10,-10,-10]}),Object(f.jsxs)(n.Suspense,{fallback:console.log("loading"),children:[Object(f.jsx)(g,{sowPlant:function(t){var a=[t.point.x,t.point.y,t.point.z];s((function(e){return[Object(f.jsx)(x,{date:je()(),position:a},r.length)].concat(Object(xe.a)(e))})),function(t){console.log("Updating garden state"),console.log(e.id),function(e,t){pe.apply(this,arguments)}(e.id,t)}(r)},position:[0,0,0],args:[1.5,1.5,.3,7]}),r]})]})},we=(a(89),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userName:"",id:0,garden:[]},n.setUser=n.setUser.bind(Object(u.a)(n)),n.connecToServer=n.connecToServer.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"connecToServer",value:function(){fetch("/")}},{key:"setUser",value:function(e,t,a){console.log("SETTING USER"),this.setState({userName:e,id:t,garden:a}),console.log("User is "+this.state.id+" "+this.state.userName),console.log(this.state.garden)}},{key:"render",value:function(){return Object(f.jsxs)(h.a,{children:[Object(f.jsx)($,{user:this.state.userName,setUser:this.setUser}),this.state.userName?Object(f.jsx)(ve,{id:this.state.id,garden:this.state.garden}):Object(f.jsxs)("div",{children:[Object(f.jsx)(ge,{setUser:this.setUser})," ",Object(f.jsx)(ue,{setUser:this.setUser})]})]})}}]),a}(r.a.Component));c.a.render(Object(f.jsx)(we,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.ab766ea9.chunk.js.map