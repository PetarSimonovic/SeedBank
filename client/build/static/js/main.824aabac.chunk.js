(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{80:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),s=a(50),c=a.n(s),o=a(0),i=a(1),u=a(8),l=a(2),j=a(3),b=a(51),d=a.n(b).a.create({baseURL:"/api"}),p={addUser:function(e){return d.post("/user",e)},getUser:function(e){return d.get("/user/".concat(e))},updateGarden:function(e,t){return d.put("/user/".concat(e),t)}},h=(a(80),a(35)),O=a(9),m=a(12),g=a(6);var f=function(e){var t=Object(n.useRef)(),a=Object(n.useState)(!1),r=Object(m.a)(a,2),s=(r[0],r[1]),c=Object(n.useState)(!1),o=Object(m.a)(c,2),i=o[0];return o[1],Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,scale:i?1.5:1,onClick:function(t){return e.sowPlant(t)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(g.jsx)("cylinderGeometry",{args:e.args}),Object(g.jsx)("meshToonMaterial",{color:"#5AAB61"})]}))};function x(e){var t=Object(n.useRef)();return Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,children:[Object(g.jsx)("dodecahedronGeometry",{args:[.12,2]}),Object(g.jsx)("meshToonMaterial",{color:"#947352"})]}))}function v(e){var t=Object(n.useRef)();return Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,children:[Object(g.jsx)("cylinderGeometry",{args:[.02,.02,.4,7]}),Object(g.jsx)("meshToonMaterial",{color:"#499B4A"})]}))}var w=function(e){e.x;var t=Object(n.useRef)(),a=Object(n.useState)(!1),r=Object(m.a)(a,2),s=(r[0],r[1]),c=Object(n.useState)(!1),o=Object(m.a)(c,2),i=(o[0],o[1],Object(n.useState)(0)),u=Object(m.a)(i,2);return u[0],u[1],Object(g.jsx)("group",{children:Object(g.jsxs)("mesh",Object(O.a)(Object(O.a)({},e),{},{ref:t,onClick:function(t){return function(t){t.stopPropagation(),console.log("This plant is:"),console.log(e)}(t)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(g.jsx)(x,{}),Object(g.jsx)(v,{})]}))})},y=a(20),k=a(96);Object(y.b)({OrbitControls:k.a});var N,C,U,S,P,I,T,G,E,R,A,L,D=function(){var e=Object(y.d)(),t=e.camera,a=e.gl.domElement,r=Object(n.useRef)();return Object(y.c)((function(e){return r.current.update()})),Object(g.jsx)("orbitControls",{ref:r,args:[t,a],autoRotate:!0,autoRotateSpeed:1.2,enabled:!1})},M=a(13),B=a(14),F=a.p+"static/media/seedbankProto.6cdc7966.png",J=B.a.a.attrs({className:"navbar-brand"})(N||(N=Object(M.a)([""]))),z=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(J,{href:"https://example.com",children:Object(g.jsx)("img",{src:F,height:"50",alt:"seedbank"})})}}]),a}(n.Component),Y=z,_=B.a.div.attrs({className:"collpase navbar-collapse"})(C||(C=Object(M.a)([""]))),q=B.a.div.attrs({className:"navbar-nav mr-auto"})(U||(U=Object(M.a)([""]))),H=B.a.div.attrs({className:"collpase navbar-collapse"})(S||(S=Object(M.a)([""]))),K=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(h.b,{to:"/",className:"navbar-brand",children:"SeedBank"}),Object(g.jsx)(_,{children:Object(g.jsxs)(q,{children:[Object(g.jsxs)(H,{children:[" ",Object(g.jsxs)("p",{children:[" ",this.props.user]})," "]}),"> }"]})})]})}}]),a}(n.Component),Q=K,V=B.a.div.attrs({className:"container"})(P||(P=Object(M.a)([""]))),W=B.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(I||(I=Object(M.a)(["\n    margin-bottom: 20 px;\n"]))),X=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(V,{children:Object(g.jsxs)(W,{children:[Object(g.jsx)(Y,{}),Object(g.jsx)(Q,{user:this.props.user,setUser:this.props.setUser})]})})}}]),a}(n.Component),Z=X,$=a(11),ee=a.n($),te=a(16),ae=B.a.h1.attrs({className:"h1"})(T||(T=Object(M.a)([""]))),ne=B.a.div.attrs({className:"form-group"})(G||(G=Object(M.a)(["\n    margin: 0 30px;\n"]))),re=B.a.label(E||(E=Object(M.a)(["\n    margin: 5px;\n"]))),se=B.a.input.attrs({className:"form-control"})(R||(R=Object(M.a)(["\n    margin: 5px;\n"]))),ce=B.a.button.attrs({className:"btn btn-primary"})(A||(A=Object(M.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),oe=B.a.a.attrs({className:"btn btn-danger"})(L||(L=Object(M.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),ie=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeInputName=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({name:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeInputEmail=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({email:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeInputPassword=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({password:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddUser=Object(te.a)(ee.a.mark((function e(){var t,a,r,s,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.name,r=t.email,s=t.password,c={name:a,email:r,password:s},e.next=4,p.addUser(c).then((function(e){window.alert("User added"),n.setState({name:"",email:"",password:""})}));case 4:case"end":return e.stop()}}),e)}))),n.state={name:"",email:"",password:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password;return Object(g.jsxs)(ne,{children:[Object(g.jsx)(ae,{children:"Sign Up"}),Object(g.jsx)(re,{children:"Name: "}),Object(g.jsx)(se,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(g.jsx)(re,{children:"Email: "}),Object(g.jsx)(se,{type:"text",value:a,onChange:this.handleChangeInputEmail}),Object(g.jsx)(re,{children:"Password: "}),Object(g.jsx)(se,{type:"text",value:n,onChange:this.handleChangeInputPassword}),Object(g.jsx)(ce,{onClick:this.handleAddUser,children:"Sign Up"}),Object(g.jsx)(oe,{href:"/movies/list",children:"Cancel"})]})}}]),a}(n.Component),ue=ie;function le(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return{year:n,month:a,day:t,stamp:"".concat(n,"-").concat(a,"-").concat(t)}}function je(e){for(var t=[],a=le(Date()).stamp,n=0;n<e.length;n++){var r=e[n];be(r,a);t.push(Object(g.jsx)(w,{growth:r.growth,date:r.date,position:r.position},r.key))}return console.log(t),t}function be(e,t){console.log("Plant date is"),console.log(e.date.stamp),console.log("Today is"),console.log(t);var a=function(e,t){var a=new Date(e),n=new Date(t).getTime()-a.getTime();return Math.round(n/864e5)}(e.date.stamp,t);return console.log("".concat(a," days have passed")),a}function de(){return(de=Object(te.a)(ee.a.mark((function e(t,a){var n,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pe(a),r={garden:n},console.log("Attempting to save garden"),console.log(r),console.log(t),e.next=7,p.updateGarden(t,r).then((function(e){console.log("Garden updated successfully"),console.log(a.length)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){console.log("Garden has"),console.log(e.length);for(var t=[],a=0;a<e.length;a++){var n=e[a].key,r=e[a].props,s={key:n,growth:r.growth,date:r.date,position:r.position};t.push(s)}return console.log("ExtractedPlants"),console.log(t),t}var he,Oe,me,ge,fe,xe,ve=a(95);var we=B.a.h1.attrs({className:"h1"})(he||(he=Object(M.a)([""]))),ye=B.a.div.attrs({className:"form-group"})(Oe||(Oe=Object(M.a)(["\n    margin: 0 30px;\n"]))),ke=B.a.label(me||(me=Object(M.a)(["\n    margin: 5px;\n"]))),Ne=B.a.input.attrs({className:"form-control"})(ge||(ge=Object(M.a)(["\n    margin: 5px;\n"]))),Ce=B.a.button.attrs({className:"btn btn-primary"})(fe||(fe=Object(M.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),Ue=(B.a.a.attrs({className:"btn btn-danger"})(xe||(xe=Object(M.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangeInputName=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({name:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeInputPassword=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n.setState({password:a});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleGetUser=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getUser(n.state.name).then((function(e){if(console.log(e),console.log("Name is "+e.data.data.name),n.state.password===e.data.data.password){window.alert("Logged in");var t=e.data.data.name,a=e.data.data._id,r=je(e.data.data.garden);n.props.setUser(t,a,r)}else window.alert("Incorrect password")}));case 2:case"end":return e.stop()}}),e)}))),n.state={name:"",email:"",password:""},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.name,a=(e.email,e.password);return Object(g.jsxs)(ye,{children:[Object(g.jsx)(we,{children:"Log In"}),Object(g.jsx)(ke,{children:"Name: "}),Object(g.jsx)(Ne,{type:"text",value:t,onChange:this.handleChangeInputName}),Object(g.jsx)(ke,{children:"Password: "}),Object(g.jsx)(Ne,{type:"text",value:a,onChange:this.handleChangeInputPassword}),Object(g.jsx)(Ce,{onClick:this.handleGetUser,children:"Log In"})]})}}]),a}(n.Component)),Se=Ue,Pe=a(15);a(90);var Ie=function(e){var t=Object(n.useState)(e.garden),a=Object(m.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){console.log("Calling saveGarden"),function(e,t){de.apply(this,arguments)}(e.id,r)})),Object(g.jsxs)(y.a,{id:"canvas",className:"App",camera:{position:[0,1.5,2],lookat:[0,0,0]},children:[Object(g.jsx)(D,{}),Object(g.jsx)("ambientLight",{intensity:.1}),Object(g.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:7}),"//",Object(g.jsx)("pointLight",{position:[-10,-10,-10]}),Object(g.jsxs)(n.Suspense,{fallback:console.log("loading"),children:[Object(g.jsx)(f,{sowPlant:function(e){var t=[e.point.x,e.point.y,e.point.z],a=Object(ve.a)(),n=Object(g.jsx)(w,{growth:0,date:le(),position:t},a);s((function(e){return[n].concat(Object(Pe.a)(e))})),console.log("New garden length: ".concat(r.length))},position:[0,0,0],args:[1.5,1.5,.3,7]}),r]})]})},Te=(a(91),function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={userName:"",id:0,garden:[]},n.setUser=n.setUser.bind(Object(u.a)(n)),n.connecToServer=n.connecToServer.bind(Object(u.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"connecToServer",value:function(){fetch("/")}},{key:"setUser",value:function(e,t,a){console.log("SETTING USER"),this.setState({userName:e,id:t,garden:a}),console.log("User is "+this.state.id+" "+this.state.userName),console.log(this.state.garden)}},{key:"render",value:function(){return Object(g.jsxs)(h.a,{children:[Object(g.jsx)(Z,{user:this.state.userName,setUser:this.setUser}),this.state.userName?Object(g.jsx)(Ie,{id:this.state.id,garden:this.state.garden}):Object(g.jsxs)("div",{children:[Object(g.jsx)(Se,{setUser:this.setUser})," ",Object(g.jsx)(ue,{setUser:this.setUser})]})]})}}]),a}(r.a.Component));c.a.render(Object(g.jsx)(Te,{}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.824aabac.chunk.js.map